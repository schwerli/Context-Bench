{
    "instance_id": "SWE-Bench-Pro__javascript__maintenance__bugfix__593287ea",
    "original_id": "instance_element-hq__element-web-fe14847bb9bb07cab1b9c6c54335ff22ca5e516a-vnan",
    "1_model_selected_files": [
        "src/voice-broadcast/index.ts",
        "src/voice-broadcast/utils/index.ts",
        "src/stores/VoiceRecordingStore.ts",
        "src/audio/VoiceRecording.ts",
        "src/voice-broadcast/utils/shouldDisplayAsVoiceBroadcastTile.ts"
    ],
    "2_embedding_selected_files": [
        "src/voice-broadcast/index.ts",
        "src/stores/VoiceRecordingStore.ts",
        "src/voice-broadcast/components/index.ts",
        "src/audio/VoiceMessageRecording.ts",
        "src/audio/VoiceRecording.ts",
        "src/voice-broadcast/utils/index.ts",
        "src/voice-broadcast/utils/shouldDisplayAsVoiceBroadcastTile.ts",
        "src/stores/CallStore.ts",
        "src/audio/PlaybackQueue.ts",
        "src/stores/notifications/NotificationState.ts",
        "src/audio/RecorderWorklet.ts",
        "src/stores/ToastStore.ts",
        "src/stores/local-echo/EchoStore.ts",
        "src/stores/ReadyWatchingStore.ts",
        "src/stores/AsyncStore.ts",
        "src/stores/NonUrgentToastStore.ts",
        "src/models/Call.ts",
        "src/stores/notifications/RoomNotificationStateStore.ts",
        "src/stores/local-echo/RoomEchoChamber.ts",
        "src/stores/WidgetEchoStore.ts",
        "src/stores/widgets/WidgetMessagingStore.ts",
        "src/stores/ModalWidgetStore.ts",
        "src/hooks/useRoomNotificationState.ts",
        "src/stores/LifecycleStore.ts",
        "src/stores/notifications/SpaceNotificationState.ts",
        "src/stores/AutoRageshakeStore.ts",
        "cypress/e2e/threads/threads.spec.ts",
        "src/stores/BreadcrumbsStore.ts",
        "src/hooks/useEventEmitter.ts",
        "src/stores/AsyncStoreWithClient.ts",
        "src/audio/Playback.ts",
        "src/utils/EventUtils.ts",
        "src/hooks/useRoomState.ts",
        "src/ScalarMessaging.ts",
        "src/stores/WidgetStore.ts",
        "src/stores/notifications/ThreadNotificationState.ts",
        "src/stores/notifications/ListNotificationState.ts",
        "src/stores/notifications/ThreadsRoomNotificationState.ts",
        "src/audio/PlaybackManager.ts",
        "src/settings/SettingsStore.ts",
        "src/stores/room-list/RoomListStore.ts",
        "src/stores/OwnBeaconStore.ts",
        "cypress/e2e/timeline/timeline.spec.ts",
        "src/Livestream.ts",
        "src/hooks/useCall.ts",
        "src/dispatcher/payloads/ViewStartChatOrReusePayload.ts",
        "src/stores/ThreepidInviteStore.ts",
        "src/utils/beacon/useBeacon.ts",
        "src/utils/beacon/useOwnLiveBeacons.ts",
        "src/stores/right-panel/RightPanelStoreIPanelState.ts",
        "src/stores/notifications/SummarizedNotificationState.ts",
        "src/stores/ActiveWidgetStore.ts",
        "src/Resend.ts",
        "cypress/e2e/editing/editing.spec.ts",
        "src/stores/notifications/RoomNotificationState.ts",
        "src/audio/ManagedPlayback.ts",
        "src/hooks/useUserOnboardingTasks.ts",
        "src/SendHistoryManager.ts",
        "src/utils/leave-behaviour.ts",
        "src/utils/KeyVerificationStateObserver.ts",
        "src/stores/room-list/models.ts",
        "src/stores/OwnProfileStore.ts",
        "src/stores/HostSignupStore.ts",
        "src/stores/UIStore.ts",
        "src/MediaDeviceHandler.ts",
        "src/notifications/index.ts",
        "src/stores/SetupEncryptionStore.ts",
        "src/Presence.ts",
        "src/components/structures/LegacyCallEventGrouper.ts",
        "src/hooks/useStateCallback.ts",
        "src/stores/room-list/RoomListLayoutStore.ts",
        "src/RoomNotifs.ts",
        "src/stores/local-echo/EchoContext.ts",
        "src/stores/local-echo/GenericEchoChamber.ts",
        "src/VoipUserMapper.ts",
        "src/stores/spaces/SpaceStore.ts",
        "src/stores/room-list/MessagePreviewStore.ts",
        "src/notifications/PushRuleVectorState.ts"
    ],
    "3_final_combined_files": [
        "src/voice-broadcast/index.ts",
        "src/stores/VoiceRecordingStore.ts",
        "src/voice-broadcast/utils/index.ts",
        "src/voice-broadcast/components/index.ts"
    ],
    "4_related_elements": {
        "src/voice-broadcast/index.ts": [
            "variable: VoiceBroadcastInfoEventType\nvariable: VoiceBroadcastInfoState"
        ],
        "src/voice-broadcast/utils/index.ts": [
            "function: shouldDisplayAsVoiceBroadcastTile\nfunction: startNewVoiceBroadcastRecording"
        ],
        "src/stores/VoiceRecordingStore.ts": [
            "class: VoiceRecordingStore\nvariable: SEPARATOR\nvariable: window.mxVoiceRecordingStore"
        ]
    },
    "5_sampled_edit_locs_and_patches": [
        {
            "sample_index": 0,
            "edit_locs": {
                "src/voice-broadcast/utils/index.ts": [
                    "line: 17"
                ],
                "src/voice-broadcast/index.ts": [
                    ""
                ],
                "src/stores/VoiceRecordingStore.ts": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/src/voice-broadcast/utils/index.ts b/src/voice-broadcast/utils/index.ts\nindex 6e06bfa..8d93b5f 100644\n--- a/src/voice-broadcast/utils/index.ts\n+++ b/src/voice-broadcast/utils/index.ts\n@@ -14,4 +14,5 @@ See the License for the specific language governing permissions and\n limitations under the License.\n */\n \n-export * from \"./shouldDisplayAsVoiceBroadcastTile\";\n+export * from \"./shouldDisplayAsVoiceBroadcastTile\";\n+export * from \"./startNewVoiceBroadcastRecording\";",
                "diff --git a/src/voice-broadcast/utils/index.ts b/src/voice-broadcast/utils/index.ts\nindex 6e06bfa..8d93b5f 100644\n--- a/src/voice-broadcast/utils/index.ts\n+++ b/src/voice-broadcast/utils/index.ts\n@@ -14,4 +14,5 @@ See the License for the specific language governing permissions and\n limitations under the License.\n */\n \n-export * from \"./shouldDisplayAsVoiceBroadcastTile\";\n+export * from \"./shouldDisplayAsVoiceBroadcastTile\";\n+export * from \"./startNewVoiceBroadcastRecording\";"
            ]
        },
        {
            "sample_index": 1,
            "edit_locs": {
                "src/voice-broadcast/utils/index.ts": [
                    "line: 17"
                ],
                "src/stores/VoiceRecordingStore.ts": [
                    "class: VoiceRecordingStore\nfunction: VoiceRecordingStore.startRecording\nfunction: VoiceRecordingStore.disposeRecording"
                ],
                "src/voice-broadcast/index.ts": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/src/voice-broadcast/utils/index.ts b/src/voice-broadcast/utils/index.ts\nindex 6e06bfa..8d93b5f 100644\n--- a/src/voice-broadcast/utils/index.ts\n+++ b/src/voice-broadcast/utils/index.ts\n@@ -14,4 +14,5 @@ See the License for the specific language governing permissions and\n limitations under the License.\n */\n \n-export * from \"./shouldDisplayAsVoiceBroadcastTile\";\n+export * from \"./shouldDisplayAsVoiceBroadcastTile\";\n+export * from \"./startNewVoiceBroadcastRecording\";",
                "diff --git a/src/voice-broadcast/utils/index.ts b/src/voice-broadcast/utils/index.ts\nindex 6e06bfa..8d93b5f 100644\n--- a/src/voice-broadcast/utils/index.ts\n+++ b/src/voice-broadcast/utils/index.ts\n@@ -14,4 +14,5 @@ See the License for the specific language governing permissions and\n limitations under the License.\n */\n \n-export * from \"./shouldDisplayAsVoiceBroadcastTile\";\n+export * from \"./shouldDisplayAsVoiceBroadcastTile\";\n+export * from \"./startNewVoiceBroadcastRecording\";"
            ]
        }
    ],
    "6_final_selected_patch": "diff --git a/src/voice-broadcast/utils/index.ts b/src/voice-broadcast/utils/index.ts\nindex 6e06bfa..8d93b5f 100644\n--- a/src/voice-broadcast/utils/index.ts\n+++ b/src/voice-broadcast/utils/index.ts\n@@ -14,4 +14,5 @@ See the License for the specific language governing permissions and\n limitations under the License.\n */\n \n-export * from \"./shouldDisplayAsVoiceBroadcastTile\";\n+export * from \"./shouldDisplayAsVoiceBroadcastTile\";\n+export * from \"./startNewVoiceBroadcastRecording\";"
}