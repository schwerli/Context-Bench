{
    "instance_id": "SWE-Bench-Pro__python__maintenance__bugfix__c1f435de",
    "original_id": "instance_qutebrowser__qutebrowser-f8e7fea0becae25ae20606f1422068137189fe9e",
    "1_model_selected_files": [
        "qutebrowser/browser/webengine/webenginesettings.py",
        "qutebrowser/config/websettings.py",
        "qutebrowser/config/configdata.py",
        "qutebrowser/misc/earlyinit.py",
        "qutebrowser/misc/backendproblem.py"
    ],
    "2_embedding_selected_files": [
        "qutebrowser/browser/webengine/webenginetab.py",
        "qutebrowser/misc/backendproblem.py",
        "qutebrowser/browser/pdfjs.py",
        "qutebrowser/browser/webengine/__init__.py",
        "qutebrowser/browser/webengine/webview.py",
        "qutebrowser/browser/webengine/webenginesettings.py",
        "qutebrowser/browser/webengine/webenginequtescheme.py",
        "qutebrowser/browser/webkit/webview.py",
        "qutebrowser/browser/webengine/webengineinspector.py",
        "qutebrowser/utils/qtutils.py",
        "qutebrowser/browser/webkit/webpage.py",
        "qutebrowser/qt/webenginewidgets.py",
        "qutebrowser/misc/earlyinit.py",
        "qutebrowser/qt/webenginecore.py",
        "qutebrowser/api/qtutils.py",
        "qutebrowser/browser/webkit/__init__.py",
        "qutebrowser/qt/opengl.py",
        "qutebrowser/browser/webengine/webengineelem.py",
        "scripts/opengl_info.py",
        "qutebrowser/browser/webkit/webkitelem.py",
        "qutebrowser/browser/browsertab.py",
        "qutebrowser/misc/nativeeventfilter.py",
        "qutebrowser/browser/webkit/webkittab.py",
        "qutebrowser/config/qtargs.py",
        "qutebrowser/utils/version.py",
        "qutebrowser/browser/webkit/network/webkitqutescheme.py",
        "qutebrowser/qt/webkitwidgets.py",
        "qutebrowser/browser/webelem.py",
        "qutebrowser/browser/webkit/webkitinspector.py",
        "qutebrowser/mainwindow/tabbedbrowser.py",
        "qutebrowser/browser/qutescheme.py",
        "qutebrowser/config/stylesheet.py",
        "scripts/mkvenv.py",
        "qutebrowser/qt/webkit.py",
        "qutebrowser/browser/webengine/webenginedownloads.py",
        "qutebrowser/browser/shared.py",
        "qutebrowser/browser/webengine/interceptor.py",
        "qutebrowser/mainwindow/tabwidget.py",
        "qutebrowser/config/websettings.py",
        "qutebrowser/browser/webkit/webkitsettings.py",
        "qutebrowser/browser/webengine/darkmode.py",
        "qutebrowser/misc/__init__.py",
        "qutebrowser/browser/webkit/webkithistory.py",
        "qutebrowser/browser/__init__.py",
        "qutebrowser/utils/error.py",
        "qutebrowser/components/misccommands.py",
        "qutebrowser/qt/gui.py",
        "qutebrowser/misc/crashdialog.py"
    ],
    "3_final_combined_files": [
        "qutebrowser/browser/webengine/webenginesettings.py",
        "qutebrowser/config/websettings.py",
        "qutebrowser/config/configdata.py",
        "qutebrowser/browser/webengine/webenginetab.py",
        "qutebrowser/misc/backendproblem.py",
        "qutebrowser/browser/pdfjs.py"
    ],
    "4_related_elements": {
        "qutebrowser/browser/webengine/webenginesettings.py": [
            "class: WebEngineSettings\nclass: ProfileSetter\nclass: _SettingsWrapper\nfunction: _init_site_specific_quirks\nfunction: _init_default_settings\nfunction: _update_settings\nfunction: _init_profile\nfunction: _init_default_profile\nfunction: init_private_profile\nfunction: init\nvariable: _global_settings\nvariable: default_profile"
        ],
        "qutebrowser/config/websettings.py": [
            "class: AbstractSettings\nclass: AttributeInfo\nfunction: init"
        ],
        "qutebrowser/config/configdata.py": [
            "variable: DATA\nvariable: MIGRATIONS\nfunction: init\nfunction: _read_yaml\nfunction: _parse_yaml_backends\nfunction: is_valid_prefix"
        ]
    },
    "5_sampled_edit_locs_and_patches": [
        {
            "sample_index": 0,
            "edit_locs": {
                "qutebrowser/browser/webengine/webenginesettings.py": [
                    "function: ProfileSetter._set_hardcoded_settings\nline: 275"
                ],
                "qutebrowser/config/websettings.py": [
                    ""
                ],
                "qutebrowser/config/configdata.py": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/qutebrowser/browser/webengine/webenginesettings.py b/qutebrowser/browser/webengine/webenginesettings.py\nindex 48f30bf..f4de3fe 100644\n--- a/qutebrowser/browser/webengine/webenginesettings.py\n+++ b/qutebrowser/browser/webengine/webenginesettings.py\n@@ -272,6 +272,9 @@ class ProfileSetter:\n         settings.setAttribute(\n             QWebEngineSettings.WebAttribute.FocusOnNavigationEnabled, False)\n         settings.setAttribute(QWebEngineSettings.WebAttribute.PdfViewerEnabled, False)\n+        # Disable accelerated 2D canvas to avoid rendering glitches on some GPUs\n+        settings.setAttribute(\n+            QWebEngineSettings.WebAttribute.Accelerated2dCanvasEnabled, False)\n \n     def set_http_headers(self):\n         \"\"\"Set the user agent and accept-language for the given profile.\n",
                "diff --git a/qutebrowser/browser/webengine/webenginesettings.py b/qutebrowser/browser/webengine/webenginesettings.py\nindex 48f30bf..edadb53 100644\n--- a/qutebrowser/browser/webengine/webenginesettings.py\n+++ b/qutebrowser/browser/webengine/webenginesettings.py\n@@ -271,6 +271,9 @@ class ProfileSetter:\n             QWebEngineSettings.WebAttribute.FullScreenSupportEnabled, True)\n         settings.setAttribute(\n             QWebEngineSettings.WebAttribute.FocusOnNavigationEnabled, False)\n+        # Disable accelerated 2D canvas to avoid rendering glitches on some systems\n+        settings.setAttribute(\n+            QWebEngineSettings.WebAttribute.Accelerated2dCanvasEnabled, False)\n         settings.setAttribute(QWebEngineSettings.WebAttribute.PdfViewerEnabled, False)\n \n     def set_http_headers(self):\n"
            ]
        },
        {
            "sample_index": 1,
            "edit_locs": {
                "qutebrowser/browser/webengine/webenginesettings.py": [
                    "class: WebEngineSettings\nfunction: ProfileSetter._set_hardcoded_settings"
                ],
                "qutebrowser/config/websettings.py": [
                    ""
                ],
                "qutebrowser/config/configdata.py": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/qutebrowser/browser/webengine/webenginesettings.py b/qutebrowser/browser/webengine/webenginesettings.py\nindex 48f30bf..4b1dc39 100644\n--- a/qutebrowser/browser/webengine/webenginesettings.py\n+++ b/qutebrowser/browser/webengine/webenginesettings.py\n@@ -271,6 +271,8 @@ class ProfileSetter:\n             QWebEngineSettings.WebAttribute.FullScreenSupportEnabled, True)\n         settings.setAttribute(\n             QWebEngineSettings.WebAttribute.FocusOnNavigationEnabled, False)\n+        settings.setAttribute(\n+            QWebEngineSettings.WebAttribute.Accelerated2dCanvasEnabled, False)\n         settings.setAttribute(QWebEngineSettings.WebAttribute.PdfViewerEnabled, False)\n \n     def set_http_headers(self):\n",
                "diff --git a/qutebrowser/browser/webengine/webenginesettings.py b/qutebrowser/browser/webengine/webenginesettings.py\nindex 48f30bf..dc99641 100644\n--- a/qutebrowser/browser/webengine/webenginesettings.py\n+++ b/qutebrowser/browser/webengine/webenginesettings.py\n@@ -114,6 +114,8 @@ class WebEngineSettings(websettings.AbstractSettings):\n             Attr(QWebEngineSettings.WebAttribute.LocalContentCanAccessFileUrls),\n         'content.webgl':\n             Attr(QWebEngineSettings.WebAttribute.WebGLEnabled),\n+        'content.accelerated_2d_canvas':\n+            Attr(QWebEngineSettings.WebAttribute.Accelerated2dCanvasEnabled),\n         'content.local_storage':\n             Attr(QWebEngineSettings.WebAttribute.LocalStorageEnabled),\n         'content.desktop_capture':\n"
            ]
        }
    ],
    "6_final_selected_patch": "diff --git a/qutebrowser/browser/webengine/webenginesettings.py b/qutebrowser/browser/webengine/webenginesettings.py\nindex 48f30bf..edadb53 100644\n--- a/qutebrowser/browser/webengine/webenginesettings.py\n+++ b/qutebrowser/browser/webengine/webenginesettings.py\n@@ -271,6 +271,9 @@ class ProfileSetter:\n             QWebEngineSettings.WebAttribute.FullScreenSupportEnabled, True)\n         settings.setAttribute(\n             QWebEngineSettings.WebAttribute.FocusOnNavigationEnabled, False)\n+        # Disable accelerated 2D canvas to avoid rendering glitches on some systems\n+        settings.setAttribute(\n+            QWebEngineSettings.WebAttribute.Accelerated2dCanvasEnabled, False)\n         settings.setAttribute(QWebEngineSettings.WebAttribute.PdfViewerEnabled, False)\n \n     def set_http_headers(self):\n"
}