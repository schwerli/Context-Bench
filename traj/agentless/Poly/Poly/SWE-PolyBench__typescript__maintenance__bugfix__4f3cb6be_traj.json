{
    "instance_id": "SWE-PolyBench__typescript__maintenance__bugfix__4f3cb6be",
    "original_id": "microsoft__vscode-135197",
    "1_model_selected_files": [
        "extensions/typescript-language-features/src/languageFeatures/languageConfiguration.ts"
    ],
    "2_embedding_selected_files": [
        "extensions/typescript-language-features/src/languageFeatures/tagClosing.ts",
        "extensions/html-language-features/client/src/tagClosing.ts",
        "src/vs/editor/common/modes/tokenization/typescript.ts",
        "src/vs/editor/common/controller/cursorTypeOperations.ts",
        "src/vs/code/electron-sandbox/issue/issueReporterMain.ts",
        "src/vs/workbench/contrib/welcome/walkThrough/browser/editor/vs_code_editor_walkthrough.ts",
        "src/vs/editor/contrib/bracketMatching/bracketMatching.ts",
        "extensions/emmet/src/splitJoinTag.ts",
        "src/vs/editor/common/modes/supports.ts",
        "src/vs/editor/common/modes/supports/onEnter.ts",
        "src/vs/editor/common/modes/supports/electricCharacter.ts",
        "src/vs/editor/common/modes/languageConfiguration.ts",
        "src/vs/editor/common/modes/supports/characterPair.ts",
        "extensions/emmet/src/matchTag.ts",
        "extensions/html-language-features/client/src/htmlClient.ts",
        "extensions/typescript-language-features/src/languageFeatures/languageConfiguration.ts",
        "src/vs/base/common/marked/marked.js",
        "src/vs/editor/common/model/bracketPairs/impl/brackets.ts",
        "src/vs/editor/contrib/snippet/snippetParser.ts",
        "extensions/vscode-api-tests/src/singlefolder-tests/editor.test.ts",
        "src/vs/base/browser/formattedTextRenderer.ts",
        "src/vs/code/electron-sandbox/issue/issueReporterPage.ts",
        "src/vs/workbench/contrib/codeEditor/browser/languageConfigurationExtensionPoint.ts",
        "extensions/emmet/src/updateTag.ts",
        "extensions/vscode-custom-editor-tests/customEditorMedia/textEditor.js",
        "src/vs/editor/common/model/bracketPairs/impl/parser.ts",
        "src/vs/editor/browser/widget/codeEditorWidget.ts",
        "src/vs/vscode.proposed.d.ts",
        "extensions/emmet/src/balance.ts",
        "src/vs/editor/contrib/suggest/suggestController.ts",
        "extensions/markdown-language-features/src/features/smartSelect.ts",
        "extensions/emmet/src/toggleComment.ts",
        "src/vs/editor/common/config/editorOptions.ts",
        "extensions/typescript-language-features/src/languageFeatures/jsDocCompletions.ts",
        "extensions/vscode-api-tests/src/singlefolder-tests/languagedetection.test.ts",
        "src/vs/editor/common/config/commonEditorConfig.ts",
        "src/vs/code/electron-sandbox/issue/issueReporterModel.ts",
        "src/vs/monaco.d.ts",
        "src/vs/workbench/contrib/snippets/browser/snippetCompletionProvider.ts",
        "extensions/typescript-language-features/src/languageFeatures/completions.ts",
        "extensions/markdown-language-features/src/markdownEngine.ts",
        "extensions/emmet/src/util.ts",
        "src/vs/base/common/htmlContent.ts",
        "src/vs/editor/common/model/bracketPairs/impl/ast.ts",
        "src/vs/workbench/contrib/snippets/browser/tabCompletion.ts",
        "src/vs/base/browser/markdownRenderer.ts",
        "src/vs/editor/common/model/tokensStore.ts",
        "src/vs/editor/common/modes/supports/richEditBrackets.ts",
        "extensions/css-language-features/client/src/cssClient.ts",
        "src/vs/vscode.d.ts",
        "extensions/typescript-language-features/src/utils/previewer.ts",
        "extensions/php-language-features/src/features/utils/markedTextUtil.ts",
        "extensions/markdown-language-features/preview-src/activeLineMarker.ts",
        "src/vs/editor/common/controller/cursor.ts",
        "extensions/markdown-language-features/preview-src/index.ts",
        "src/vs/editor/contrib/snippet/snippetController2.ts",
        "src/vs/workbench/api/common/extHostQuickOpen.ts",
        "src/vs/editor/contrib/unusualLineTerminators/unusualLineTerminators.ts",
        "extensions/emmet/src/defaultCompletionProvider.ts",
        "extensions/typescript-language-features/src/utils/activeJsTsEditorTracker.ts",
        "src/vs/workbench/contrib/codeEditor/browser/inspectEditorTokens/inspectEditorTokens.ts",
        "src/vs/workbench/contrib/extensions/electron-sandbox/reportExtensionIssueAction.ts"
    ],
    "3_final_combined_files": [
        "extensions/typescript-language-features/src/languageFeatures/languageConfiguration.ts",
        "extensions/typescript-language-features/src/languageFeatures/tagClosing.ts",
        "extensions/html-language-features/client/src/tagClosing.ts",
        "src/vs/editor/common/modes/tokenization/typescript.ts"
    ],
    "4_related_elements": {
        "extensions/typescript-language-features/src/languageFeatures/languageConfiguration.ts": [
            "variable: jsTsLanguageConfiguration\nclass: LanguageConfigurationManager\nvariable: jsxTagsLanguageConfiguration"
        ],
        "extensions/typescript-language-features/src/languageFeatures/tagClosing.ts": [
            "class: TagClosing\nfunction: register"
        ],
        "extensions/html-language-features/client/src/tagClosing.ts": [
            ""
        ]
    },
    "5_sampled_edit_locs_and_patches": [
        {
            "sample_index": 0,
            "edit_locs": {
                "extensions/typescript-language-features/src/languageFeatures/languageConfiguration.ts": [
                    "line: 1"
                ],
                "extensions/typescript-language-features/src/languageFeatures/tagClosing.ts": [
                    ""
                ],
                "extensions/html-language-features/client/src/tagClosing.ts": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/extensions/typescript-language-features/src/languageFeatures/languageConfiguration.ts b/extensions/typescript-language-features/src/languageFeatures/languageConfiguration.ts\nindex 1b34061..d675bae 100644\n--- a/extensions/typescript-language-features/src/languageFeatures/languageConfiguration.ts\n+++ b/extensions/typescript-language-features/src/languageFeatures/languageConfiguration.ts\n@@ -1,3 +1,4 @@\n+\n /*---------------------------------------------------------------------------------------------\n  *  Copyright (c) Microsoft Corporation. All rights reserved.\n  *  Licensed under the MIT License. See License.txt in the project root for license information.\n@@ -20,6 +21,22 @@ const jsTsLanguageConfiguration: vscode.LanguageConfiguration = {\n \t\tunIndentedLinePattern: /^(\\t|[ ])*[ ]\\*[^/]*\\*\\/\\s*$|^(\\t|[ ])*[ ]\\*\\/\\s*$|^(\\t|[ ])*[ ]\\*([ ]([^\\*]|\\*(?!\\/))*)?$/\n \t},\n \twordPattern: /(-?\\d*\\.\\d\\w*)|([^\\`\\~\\!\\@\\%\\^\\&\\*\\(\\)\\-\\=\\+\\[\\{\\]\\}\\\\\\|\\;\\:\\'\\\"\\,\\.\\<\\>\\/\\?\\s]+)/g,\n+\tautoClosingPairs: [\n+\t\t{ open: '{', close: '}' },\n+\t\t{ open: '[', close: ']' },\n+\t\t{ open: '(', close: ')' },\n+\t\t{ open: '\"', close: '\"', notIn: ['string', 'comment'] },\n+\t\t{ open: '\\'', close: '\\'', notIn: ['string', 'comment'] },\n+\t\t{ open: '`', close: '`', notIn: ['string', 'comment'] }\n+\t],\n+\tsurroundingPairs: [\n+\t\t{ open: '{', close: '}' },\n+\t\t{ open: '[', close: ']' },\n+\t\t{ open: '(', close: ')' },\n+\t\t{ open: '\"', close: '\"' },\n+\t\t{ open: '\\'', close: '\\'' },\n+\t\t{ open: '`', close: '`' }\n+\t],\n \tonEnterRules: [\n \t\t{\n \t\t\t// e.g. /** | */\n@@ -102,4 +119,4 @@ export class LanguageConfigurationManager extends Disposable {\n \tprivate registerConfiguration(language: string, config: vscode.LanguageConfiguration) {\n \t\tthis._register(vscode.languages.setLanguageConfiguration(language, config));\n \t}\n-}\n+}\n"
            ]
        },
        {
            "sample_index": 1,
            "edit_locs": {
                "extensions/typescript-language-features/src/languageFeatures/languageConfiguration.ts": [
                    "function: jsTsLanguageConfiguration"
                ],
                "extensions/typescript-language-features/src/languageFeatures/tagClosing.ts": [
                    ""
                ],
                "extensions/html-language-features/client/src/tagClosing.ts": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/extensions/typescript-language-features/src/languageFeatures/languageConfiguration.ts b/extensions/typescript-language-features/src/languageFeatures/languageConfiguration.ts\nindex 1b34061..f22071e 100644\n--- a/extensions/typescript-language-features/src/languageFeatures/languageConfiguration.ts\n+++ b/extensions/typescript-language-features/src/languageFeatures/languageConfiguration.ts\n@@ -1,3 +1,4 @@\n+\n /*---------------------------------------------------------------------------------------------\n  *  Copyright (c) Microsoft Corporation. All rights reserved.\n  *  Licensed under the MIT License. See License.txt in the project root for license information.\n@@ -50,6 +51,22 @@ const jsTsLanguageConfiguration: vscode.LanguageConfiguration = {\n \t\t\tafterText: /^(?!\\s*(\\bcase\\b|\\bdefault\\b))/,\n \t\t\taction: { indentAction: vscode.IndentAction.Indent },\n \t\t}\n+\t],\n+\tautoClosingPairs: [\n+\t\t{ open: '{', close: '}' },\n+\t\t{ open: '[', close: ']' },\n+\t\t{ open: '(', close: ')' },\n+\t\t{ open: '\"', close: '\"', notIn: ['string', 'comment'] },\n+\t\t{ open: '\\'', close: '\\'', notIn: ['string', 'comment'] },\n+\t\t{ open: '`', close: '`', notIn: ['string', 'comment'] },\n+\t],\n+\tsurroundingPairs: [\n+\t\t{ open: '{', close: '}' },\n+\t\t{ open: '[', close: ']' },\n+\t\t{ open: '(', close: ')' },\n+\t\t{ open: '\"', close: '\"' },\n+\t\t{ open: '\\'', close: '\\'' },\n+\t\t{ open: '`', close: '`' }\n \t]\n };\n \n@@ -102,4 +119,4 @@ export class LanguageConfigurationManager extends Disposable {\n \tprivate registerConfiguration(language: string, config: vscode.LanguageConfiguration) {\n \t\tthis._register(vscode.languages.setLanguageConfiguration(language, config));\n \t}\n-}\n+}\n"
            ]
        }
    ],
    "6_final_selected_patch": "diff --git a/extensions/typescript-language-features/src/languageFeatures/languageConfiguration.ts b/extensions/typescript-language-features/src/languageFeatures/languageConfiguration.ts\nindex 1b34061..d675bae 100644\n--- a/extensions/typescript-language-features/src/languageFeatures/languageConfiguration.ts\n+++ b/extensions/typescript-language-features/src/languageFeatures/languageConfiguration.ts\n@@ -1,3 +1,4 @@\n+\n /*---------------------------------------------------------------------------------------------\n  *  Copyright (c) Microsoft Corporation. All rights reserved.\n  *  Licensed under the MIT License. See License.txt in the project root for license information.\n@@ -20,6 +21,22 @@ const jsTsLanguageConfiguration: vscode.LanguageConfiguration = {\n \t\tunIndentedLinePattern: /^(\\t|[ ])*[ ]\\*[^/]*\\*\\/\\s*$|^(\\t|[ ])*[ ]\\*\\/\\s*$|^(\\t|[ ])*[ ]\\*([ ]([^\\*]|\\*(?!\\/))*)?$/\n \t},\n \twordPattern: /(-?\\d*\\.\\d\\w*)|([^\\`\\~\\!\\@\\%\\^\\&\\*\\(\\)\\-\\=\\+\\[\\{\\]\\}\\\\\\|\\;\\:\\'\\\"\\,\\.\\<\\>\\/\\?\\s]+)/g,\n+\tautoClosingPairs: [\n+\t\t{ open: '{', close: '}' },\n+\t\t{ open: '[', close: ']' },\n+\t\t{ open: '(', close: ')' },\n+\t\t{ open: '\"', close: '\"', notIn: ['string', 'comment'] },\n+\t\t{ open: '\\'', close: '\\'', notIn: ['string', 'comment'] },\n+\t\t{ open: '`', close: '`', notIn: ['string', 'comment'] }\n+\t],\n+\tsurroundingPairs: [\n+\t\t{ open: '{', close: '}' },\n+\t\t{ open: '[', close: ']' },\n+\t\t{ open: '(', close: ')' },\n+\t\t{ open: '\"', close: '\"' },\n+\t\t{ open: '\\'', close: '\\'' },\n+\t\t{ open: '`', close: '`' }\n+\t],\n \tonEnterRules: [\n \t\t{\n \t\t\t// e.g. /** | */\n@@ -102,4 +119,4 @@ export class LanguageConfigurationManager extends Disposable {\n \tprivate registerConfiguration(language: string, config: vscode.LanguageConfiguration) {\n \t\tthis._register(vscode.languages.setLanguageConfiguration(language, config));\n \t}\n-}\n+}\n"
}