{
    "instance_id": "SWE-PolyBench__javascript__maintenance__bugfix__463d4713",
    "original_id": "prettier__prettier-3723",
    "1_model_selected_files": [
        "src/language-css/printer-postcss.js"
    ],
    "2_embedding_selected_files": [
        "src/language-css/printer-postcss.js",
        "src/common/util.js",
        "src/language-css/clean.js",
        "prettier/index.js",
        "src/language-js/embed.js",
        "src/language-js/printer-estree.js",
        "src/language-css/options.js",
        "src/main/comments.js",
        "src/language-markdown/printer-markdown.js",
        "src/language-vue/parser-vue.js",
        "website/static/markdown.js",
        "src/language-js/clean.js",
        "website/static/playground.js",
        "src/doc/doc-utils.js",
        "src/language-handlebars/printer-glimmer.js",
        "src/language-css/parser-postcss.js",
        "src/language-handlebars/parser-glimmer.js",
        "bin/prettier.js",
        "src/doc/doc-printer.js",
        "src/cli/util.js",
        "src/language-markdown/options.js",
        "src/language-css/index.js",
        "src/doc/doc-debug.js",
        "src/common/parser-include-shebang.js",
        "src/language-js/options.js",
        "website/static/worker.js",
        "src/cli/constant.js",
        "src/common/fast-path.js",
        "src/language-graphql/options.js",
        "src/doc/doc-builders.js",
        "scripts/build/build.js",
        "src/language-vue/printer-vue.js",
        "src/main/ast-to-doc.js",
        "src/main/options.js"
    ],
    "3_final_combined_files": [
        "src/language-css/printer-postcss.js",
        "src/common/util.js",
        "src/language-css/clean.js"
    ],
    "4_related_elements": {
        "src/language-css/printer-postcss.js": [
            "function: genericPrint\nfunction: printNodeSequence\nvariable: hardline"
        ],
        "src/common/util.js": [
            ""
        ],
        "src/language-css/clean.js": [
            ""
        ]
    },
    "5_sampled_edit_locs_and_patches": [
        {
            "sample_index": 0,
            "edit_locs": {
                "src/language-css/printer-postcss.js": [
                    "function: genericPrint\nline: 33"
                ],
                "src/common/util.js": [
                    ""
                ],
                "src/language-css/clean.js": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/src/language-css/printer-postcss.js b/src/language-css/printer-postcss.js\nindex 254a17e..533904a 100644\n--- a/src/language-css/printer-postcss.js\n+++ b/src/language-css/printer-postcss.js\n@@ -30,6 +30,10 @@ function genericPrint(path, options, print) {\n \n   switch (n.type) {\n     case \"css-root\": {\n+      // Don't add a trailing newline for empty files\n+      if (!n.nodes || n.nodes.length === 0) {\n+        return \"\";\n+      }\n       return concat([printNodeSequence(path, options, print), hardline]);\n     }\n     case \"css-comment\": {\n",
                "diff --git a/src/language-css/printer-postcss.js b/src/language-css/printer-postcss.js\nindex 254a17e..9ce18f0 100644\n--- a/src/language-css/printer-postcss.js\n+++ b/src/language-css/printer-postcss.js\n@@ -30,7 +30,10 @@ function genericPrint(path, options, print) {\n \n   switch (n.type) {\n     case \"css-root\": {\n-      return concat([printNodeSequence(path, options, print), hardline]);\n+      const hasNodes = n.nodes && n.nodes.length > 0;\n+      return hasNodes\n+        ? concat([printNodeSequence(path, options, print), hardline])\n+        : \"\";\n     }\n     case \"css-comment\": {\n       if (n.raws.content) {\n"
            ]
        },
        {
            "sample_index": 1,
            "edit_locs": {
                "src/language-css/printer-postcss.js": [
                    "function: genericPrint\nline: 32\nline: 33\nline: 34"
                ],
                "src/common/util.js": [
                    ""
                ],
                "src/language-css/clean.js": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/src/language-css/printer-postcss.js b/src/language-css/printer-postcss.js\nindex 254a17e..770591f 100644\n--- a/src/language-css/printer-postcss.js\n+++ b/src/language-css/printer-postcss.js\n@@ -30,7 +30,9 @@ function genericPrint(path, options, print) {\n \n   switch (n.type) {\n     case \"css-root\": {\n-      return concat([printNodeSequence(path, options, print), hardline]);\n+      const printed = printNodeSequence(path, options, print);\n+      // Avoid adding a trailing newline for completely empty files\n+      return n.nodes && n.nodes.length > 0 ? concat([printed, hardline]) : printed;\n     }\n     case \"css-comment\": {\n       if (n.raws.content) {\n",
                "diff --git a/src/language-css/printer-postcss.js b/src/language-css/printer-postcss.js\nindex 254a17e..63c3a4f 100644\n--- a/src/language-css/printer-postcss.js\n+++ b/src/language-css/printer-postcss.js\n@@ -30,7 +30,9 @@ function genericPrint(path, options, print) {\n \n   switch (n.type) {\n     case \"css-root\": {\n-      return concat([printNodeSequence(path, options, print), hardline]);\n+      return n.nodes && n.nodes.length > 0\n+        ? concat([printNodeSequence(path, options, print), hardline])\n+        : printNodeSequence(path, options, print);\n     }\n     case \"css-comment\": {\n       if (n.raws.content) {\n"
            ]
        }
    ],
    "6_final_selected_patch": "diff --git a/src/language-css/printer-postcss.js b/src/language-css/printer-postcss.js\nindex 254a17e..533904a 100644\n--- a/src/language-css/printer-postcss.js\n+++ b/src/language-css/printer-postcss.js\n@@ -30,6 +30,10 @@ function genericPrint(path, options, print) {\n \n   switch (n.type) {\n     case \"css-root\": {\n+      // Don't add a trailing newline for empty files\n+      if (!n.nodes || n.nodes.length === 0) {\n+        return \"\";\n+      }\n       return concat([printNodeSequence(path, options, print), hardline]);\n     }\n     case \"css-comment\": {\n"
}