{
    "instance_id": "SWE-PolyBench__typescript__maintenance__bugfix__6da325be",
    "original_id": "mui__material-ui-13778",
    "1_model_selected_files": [
        "packages/material-ui/src/Modal/ModalManager.js",
        "packages/material-ui/src/Modal/Modal.js",
        "packages/material-ui/src/Modal/manageAriaHidden.js",
        "packages/material-ui/src/Dialog/Dialog.js",
        "packages/material-ui/src/Backdrop/Backdrop.js"
    ],
    "2_embedding_selected_files": [
        "packages/material-ui/src/Modal/Modal.js",
        "docs/src/pages/utils/modal/SimpleModal.js",
        "packages/material-ui/src/Modal/ModalManager.js",
        "packages/material-ui/src/utils/unsupportedProp.js",
        "packages/material-ui/src/Modal/Modal.d.ts",
        "examples/create-react-app-with-flow/flow-typed/npm/material-ui_v1.x.x.js",
        "packages/material-ui/src/Modal/Modal.test.js",
        "packages/material-ui/src/Popover/Popover.js",
        "packages/material-ui/src/Dialog/Dialog.js",
        "packages/material-ui/src/Modal/index.d.ts",
        "pages/utils/modal.js",
        "packages/material-ui/src/Modal/index.js",
        "packages/material-ui/src/Modal/ModalManager.test.js",
        "examples/ssr/App.js",
        "packages/material-ui/src/Modal/ModalManager.d.ts",
        "docs/src/pages/utils/popover/PopoverPopupState.js",
        "pages/api/modal.js",
        "docs/src/pages/versions/StableVersions.js",
        "packages/material-ui/src/Select/SelectInput.js",
        "docs/src/pages/demos/dialogs/MaxWidthDialog.js",
        "packages/material-ui/src/Backdrop/Backdrop.js",
        "packages/material-ui/src/Drawer/Drawer.js",
        "packages/material-ui-icons/src/BugReportSharp.js",
        "packages/material-ui/src/Select/Select.js",
        "packages/material-ui/src/TableRow/TableRow.js",
        "packages/material-ui/src/StepContent/StepContent.js",
        "docs/src/pages/utils/popper/PopperPopupState.js",
        "packages/material-ui/src/Collapse/Collapse.js",
        "examples/nextjs/pages/index.js",
        "docs/src/pages/demos/selects/DialogSelect.js",
        "packages/material-ui/src/Step/Step.js",
        "docs/src/pages/versions/LatestVersion.js",
        "packages/material-ui/src/FormHelperText/FormHelperText.js",
        "packages/material-ui/src/Paper/Paper.js",
        "packages/material-ui/src/Tooltip/Tooltip.js",
        "packages/material-ui/src/GridList/GridList.js",
        "packages/material-ui/src/styles/getStylesCreator.js",
        "examples/create-react-app/src/pages/index.js",
        "packages/material-ui/src/Button/Button.js",
        "packages/material-ui/src/Modal/isOverflowing.js",
        "packages/material-ui-icons/src/BugReport.js",
        "packages/material-ui-styles/src/makeStyles.test.js",
        "packages/material-ui/src/Snackbar/Snackbar.js",
        "packages/material-ui-styles/src/styled.js",
        "packages/material-ui/src/NativeSelect/NativeSelect.js",
        "docs/src/pages/customization/overrides/InlineStyle.js",
        "packages/material-ui-styles/src/getStylesCreator.js",
        "packages/material-ui/src/OutlinedInput/NotchedOutline.js",
        "packages/material-ui/src/withMobileDialog/withMobileDialog.js",
        "packages/material-ui-styles/src/StylesProvider.js",
        "packages/material-ui/src/StepButton/StepButton.js",
        "packages/material-ui/src/ButtonBase/ButtonBase.js",
        "packages/material-ui/src/LinearProgress/LinearProgress.test.js",
        "packages/material-ui/src/Dialog/Dialog.d.ts",
        "examples/gatsby/src/pages/index.js",
        "examples/create-react-app-with-jss/src/pages/index.js",
        "packages/material-ui/src/StepConnector/StepConnector.js",
        "packages/material-ui-icons/src/BugReportTwoTone.js",
        "packages/material-ui/src/Modal/manageAriaHidden.js",
        "packages/material-ui-icons/src/BugReportRounded.js",
        "packages/material-ui/src/Tab/Tab.js",
        "packages/material-ui/src/Table/Table.js",
        "packages/material-ui/src/InputBase/InputBase.js",
        "packages/material-ui/src/ExpansionPanelDetails/ExpansionPanelDetails.js",
        "packages/material-ui/src/Dialog/Dialog.test.js",
        "packages/material-ui/src/utils/requirePropFactory.js",
        "docs/src/pages/demos/selects/ControlledOpenSelect.js",
        "docs/src/pages/utils/popover/RenderPropsPopover.js",
        "packages/material-ui-styles/src/ThemeProvider.js",
        "packages/material-ui/src/Popover/Popover.d.ts",
        "docs/src/pages/demos/dialogs/SimpleDialog.js",
        "packages/material-ui/src/StepIcon/StepIcon.js",
        "examples/parcel/src/pages/index.js",
        "docs/src/pages/customization/overrides/DynamicInlineStyle.js",
        "packages/material-ui/src/FormLabel/FormLabel.js"
    ],
    "3_final_combined_files": [
        "packages/material-ui/src/Modal/ModalManager.js",
        "packages/material-ui/src/Modal/Modal.js",
        "packages/material-ui/src/Modal/manageAriaHidden.js",
        "docs/src/pages/utils/modal/SimpleModal.js"
    ],
    "4_related_elements": {
        "packages/material-ui/src/Modal/ModalManager.js": [
            "function: removeContainerStyle\nfunction: setContainerStyle\nfunction: ModalManager.add\nfunction: ModalManager.mount\nfunction: ModalManager.remove"
        ],
        "packages/material-ui/src/Modal/Modal.js": [
            "function: Modal.handleOpen\nfunction: Modal.handleOpened\nfunction: Modal.handleRendered\nfunction: Modal.handleClose"
        ],
        "packages/material-ui/src/Modal/manageAriaHidden.js": [
            ""
        ]
    },
    "5_sampled_edit_locs_and_patches": [
        {
            "sample_index": 0,
            "edit_locs": {
                "packages/material-ui/src/Modal/ModalManager.js": [
                    "function: removeContainerStyle\nline: 53\nfunction: ModalManager.remove\nline: 148"
                ],
                "packages/material-ui/src/Modal/Modal.js": [
                    ""
                ],
                "packages/material-ui/src/Modal/manageAriaHidden.js": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/packages/material-ui/src/Modal/ModalManager.js b/packages/material-ui/src/Modal/ModalManager.js\nindex d5989b4..5e36fe3 100644\n--- a/packages/material-ui/src/Modal/ModalManager.js\n+++ b/packages/material-ui/src/Modal/ModalManager.js\n@@ -50,13 +50,16 @@ function setContainerStyle(data) {\n }\n \n function removeContainerStyle(data) {\n-  Object.keys(data.style).forEach(key => {\n-    data.container.style[key] = data.style[key];\n-  });\n+  if (data.style) {\n+    Object.keys(data.style).forEach(key => {\n+      data.container.style[key] = data.style[key];\n+    });\n+  }\n \n   const fixedNodes = ownerDocument(data.container).querySelectorAll('.mui-fixed');\n   for (let i = 0; i < fixedNodes.length; i += 1) {\n-    fixedNodes[i].style.paddingRight = `${data.prevPaddings[i]}px`;\n+    const prevPadding = data.prevPaddings ? data.prevPaddings[i] : 0;\n+    fixedNodes[i].style.paddingRight = `${prevPadding}px`;\n   }\n }\n \n",
                "diff --git a/packages/material-ui/src/Modal/ModalManager.js b/packages/material-ui/src/Modal/ModalManager.js\nindex d5989b4..951cd68 100644\n--- a/packages/material-ui/src/Modal/ModalManager.js\n+++ b/packages/material-ui/src/Modal/ModalManager.js\n@@ -44,19 +44,25 @@ function setContainerStyle(data) {\n     }\n   }\n \n-  Object.keys(style).forEach(key => {\n+  Object.keys(style || {}).forEach(key => {\n     data.container.style[key] = style[key];\n   });\n }\n \n function removeContainerStyle(data) {\n-  Object.keys(data.style).forEach(key => {\n-    data.container.style[key] = data.style[key];\n-  });\n+  if (data.style) {\n+    Object.keys(data.style).forEach(key => {\n+      data.container.style[key] = data.style[key];\n+    });\n+  }\n \n   const fixedNodes = ownerDocument(data.container).querySelectorAll('.mui-fixed');\n   for (let i = 0; i < fixedNodes.length; i += 1) {\n-    fixedNodes[i].style.paddingRight = `${data.prevPaddings[i]}px`;\n+    if (data.prevPaddings && typeof data.prevPaddings[i] !== 'undefined') {\n+      fixedNodes[i].style.paddingRight = `${data.prevPaddings[i]}px`;\n+    } else {\n+      fixedNodes[i].style.paddingRight = '';\n+    }\n   }\n }\n \n"
            ]
        },
        {
            "sample_index": 1,
            "edit_locs": {
                "packages/material-ui/src/Modal/ModalManager.js": [
                    "function: removeContainerStyle\nline: 53\nline: 54\nline: 55\nline: 148"
                ],
                "packages/material-ui/src/Modal/Modal.js": [
                    ""
                ],
                "packages/material-ui/src/Modal/manageAriaHidden.js": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/packages/material-ui/src/Modal/ModalManager.js b/packages/material-ui/src/Modal/ModalManager.js\nindex d5989b4..26e2953 100644\n--- a/packages/material-ui/src/Modal/ModalManager.js\n+++ b/packages/material-ui/src/Modal/ModalManager.js\n@@ -50,13 +50,19 @@ function setContainerStyle(data) {\n }\n \n function removeContainerStyle(data) {\n-  Object.keys(data.style).forEach(key => {\n-    data.container.style[key] = data.style[key];\n+  const savedStyle = data.style || {};\n+  Object.keys(savedStyle).forEach(key => {\n+    data.container.style[key] = savedStyle[key];\n   });\n \n   const fixedNodes = ownerDocument(data.container).querySelectorAll('.mui-fixed');\n   for (let i = 0; i < fixedNodes.length; i += 1) {\n-    fixedNodes[i].style.paddingRight = `${data.prevPaddings[i]}px`;\n+    const prevPadding = data.prevPaddings ? data.prevPaddings[i] : undefined;\n+    if (prevPadding !== undefined) {\n+      fixedNodes[i].style.paddingRight = `${prevPadding}px`;\n+    } else {\n+      fixedNodes[i].style.paddingRight = '';\n+    }\n   }\n }\n \n",
                "diff --git a/packages/material-ui/src/Modal/ModalManager.js b/packages/material-ui/src/Modal/ModalManager.js\nindex d5989b4..103feb7 100644\n--- a/packages/material-ui/src/Modal/ModalManager.js\n+++ b/packages/material-ui/src/Modal/ModalManager.js\n@@ -50,13 +50,22 @@ function setContainerStyle(data) {\n }\n \n function removeContainerStyle(data) {\n-  Object.keys(data.style).forEach(key => {\n-    data.container.style[key] = data.style[key];\n-  });\n+  // Restore the container's previous inline styles if available.\n+  if (data.style) {\n+    Object.keys(data.style).forEach(key => {\n+      data.container.style[key] = data.style[key];\n+    });\n+  }\n \n   const fixedNodes = ownerDocument(data.container).querySelectorAll('.mui-fixed');\n   for (let i = 0; i < fixedNodes.length; i += 1) {\n-    fixedNodes[i].style.paddingRight = `${data.prevPaddings[i]}px`;\n+    const prevPadding = data.prevPaddings ? data.prevPaddings[i] : undefined;\n+    if (prevPadding !== undefined) {\n+      fixedNodes[i].style.paddingRight = `${prevPadding}px`;\n+    } else {\n+      // If no recorded padding exists, clear the inline override.\n+      fixedNodes[i].style.paddingRight = '';\n+    }\n   }\n }\n \n"
            ]
        }
    ],
    "6_final_selected_patch": "diff --git a/packages/material-ui/src/Modal/ModalManager.js b/packages/material-ui/src/Modal/ModalManager.js\nindex d5989b4..5e36fe3 100644\n--- a/packages/material-ui/src/Modal/ModalManager.js\n+++ b/packages/material-ui/src/Modal/ModalManager.js\n@@ -50,13 +50,16 @@ function setContainerStyle(data) {\n }\n \n function removeContainerStyle(data) {\n-  Object.keys(data.style).forEach(key => {\n-    data.container.style[key] = data.style[key];\n-  });\n+  if (data.style) {\n+    Object.keys(data.style).forEach(key => {\n+      data.container.style[key] = data.style[key];\n+    });\n+  }\n \n   const fixedNodes = ownerDocument(data.container).querySelectorAll('.mui-fixed');\n   for (let i = 0; i < fixedNodes.length; i += 1) {\n-    fixedNodes[i].style.paddingRight = `${data.prevPaddings[i]}px`;\n+    const prevPadding = data.prevPaddings ? data.prevPaddings[i] : 0;\n+    fixedNodes[i].style.paddingRight = `${prevPadding}px`;\n   }\n }\n \n"
}