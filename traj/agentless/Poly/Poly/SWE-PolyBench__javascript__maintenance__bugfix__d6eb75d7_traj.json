{
    "instance_id": "SWE-PolyBench__javascript__maintenance__bugfix__d6eb75d7",
    "original_id": "prettier__prettier-459",
    "1_model_selected_files": [
        "src/printer.js",
        "src/comments.js",
        "src/parser.js"
    ],
    "2_embedding_selected_files": [
        "docs/prettier.min.js"
    ],
    "3_final_combined_files": [
        "src/printer.js",
        "src/comments.js",
        "src/parser.js",
        "docs/prettier.min.js"
    ],
    "4_related_elements": {
        "src/printer.js": [
            "function: genericPrint\nfunction: genericPrintNoParens\nfunction: printMethod\nfunction: printClass"
        ],
        "src/parser.js": [
            "function: parseWithBabylon"
        ],
        "src/comments.js": [
            ""
        ]
    },
    "5_sampled_edit_locs_and_patches": [
        {
            "sample_index": 0,
            "edit_locs": {
                "src/printer.js": [
                    "function: genericPrint\nline: 54\nline: 55\nline: 56\nline: 57\nline: 58\nline: 59"
                ],
                "src/comments.js": [
                    ""
                ],
                "src/parser.js": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/src/printer.js b/src/printer.js\nindex 13fb0de..9841e17 100644\n--- a/src/printer.js\n+++ b/src/printer.js\n@@ -51,9 +51,16 @@ function genericPrint(path, options, printPath) {\n       // responsible for printing node.decorators.\n       !util.getParentExportDeclaration(path)\n   ) {\n+    // For class members (methods/properties), keep decorators inline on the\n+    // same line as the member. For class declarations/expressions, keep\n+    // decorators on their own line above the class.\n+    var sep = \" \";\n+    if (node.type === \"ClassDeclaration\" || node.type === \"ClassExpression\") {\n+      sep = line;\n+    }\n     path.each(\n       function(decoratorPath) {\n-        parts.push(printPath(decoratorPath), line);\n+        parts.push(printPath(decoratorPath), sep);\n       },\n       \"decorators\"\n     );\n@@ -64,9 +71,14 @@ function genericPrint(path, options, printPath) {\n   ) {\n     // Export declarations are responsible for printing any decorators\n     // that logically apply to node.declaration.\n+    var dec = node.declaration;\n+    var sep2 = \" \";\n+    if (dec && (dec.type === \"ClassDeclaration\" || dec.type === \"ClassExpression\")) {\n+      sep2 = line;\n+    }\n     path.each(\n       function(decoratorPath) {\n-        parts.push(printPath(decoratorPath), line);\n+        parts.push(printPath(decoratorPath), sep2);\n       },\n       \"declaration\",\n       \"decorators\"\n",
                "diff --git a/src/printer.js b/src/printer.js\nindex 13fb0de..02bbc98 100644\n--- a/src/printer.js\n+++ b/src/printer.js\n@@ -51,9 +51,18 @@ function genericPrint(path, options, printPath) {\n       // responsible for printing node.decorators.\n       !util.getParentExportDeclaration(path)\n   ) {\n+    // By default, decorators are printed on their own line above the node.\n+    // However, for class members (e.g., MobX annotations within a class),\n+    // the common style is to keep decorators inline on the same line as\n+    // the member they annotate.\n+    var decoratorSeparator = line;\n+    var parent = path.getParentNode && path.getParentNode();\n+    if (parent && parent.type === \"ClassBody\") {\n+      decoratorSeparator = \" \";\n+    }\n     path.each(\n       function(decoratorPath) {\n-        parts.push(printPath(decoratorPath), line);\n+        parts.push(printPath(decoratorPath), decoratorSeparator);\n       },\n       \"decorators\"\n     );\n"
            ]
        },
        {
            "sample_index": 1,
            "edit_locs": {
                "src/printer.js": [
                    "function: genericPrint\nline: 56\nline: 69"
                ],
                "src/comments.js": [
                    ""
                ],
                "src/parser.js": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/src/printer.js b/src/printer.js\nindex 13fb0de..ca9f3d8 100644\n--- a/src/printer.js\n+++ b/src/printer.js\n@@ -51,9 +51,12 @@ function genericPrint(path, options, printPath) {\n       // responsible for printing node.decorators.\n       !util.getParentExportDeclaration(path)\n   ) {\n+    var parent = path.getParentNode ? path.getParentNode() : null;\n+    var decoratorSeparator = parent && parent.type === \"ClassBody\" ? \" \" : line;\n+\n     path.each(\n       function(decoratorPath) {\n-        parts.push(printPath(decoratorPath), line);\n+        parts.push(printPath(decoratorPath), decoratorSeparator);\n       },\n       \"decorators\"\n     );\n",
                "diff --git a/src/printer.js b/src/printer.js\nindex 13fb0de..c878ba3 100644\n--- a/src/printer.js\n+++ b/src/printer.js\n@@ -51,9 +51,14 @@ function genericPrint(path, options, printPath) {\n       // responsible for printing node.decorators.\n       !util.getParentExportDeclaration(path)\n   ) {\n+    // For class members (inside a ClassBody), print decorators inline with a space.\n+    // For classes and other nodes, print decorators on their own line.\n+    var parent = path.getParentNode && path.getParentNode();\n+    var decoratorSep = parent && namedTypes.ClassBody && namedTypes.ClassBody.check(parent) ? \" \" : line;\n+\n     path.each(\n       function(decoratorPath) {\n-        parts.push(printPath(decoratorPath), line);\n+        parts.push(printPath(decoratorPath), decoratorSep);\n       },\n       \"decorators\"\n     );\n"
            ]
        }
    ],
    "6_final_selected_patch": "diff --git a/src/printer.js b/src/printer.js\nindex 13fb0de..9841e17 100644\n--- a/src/printer.js\n+++ b/src/printer.js\n@@ -51,9 +51,16 @@ function genericPrint(path, options, printPath) {\n       // responsible for printing node.decorators.\n       !util.getParentExportDeclaration(path)\n   ) {\n+    // For class members (methods/properties), keep decorators inline on the\n+    // same line as the member. For class declarations/expressions, keep\n+    // decorators on their own line above the class.\n+    var sep = \" \";\n+    if (node.type === \"ClassDeclaration\" || node.type === \"ClassExpression\") {\n+      sep = line;\n+    }\n     path.each(\n       function(decoratorPath) {\n-        parts.push(printPath(decoratorPath), line);\n+        parts.push(printPath(decoratorPath), sep);\n       },\n       \"decorators\"\n     );\n@@ -64,9 +71,14 @@ function genericPrint(path, options, printPath) {\n   ) {\n     // Export declarations are responsible for printing any decorators\n     // that logically apply to node.declaration.\n+    var dec = node.declaration;\n+    var sep2 = \" \";\n+    if (dec && (dec.type === \"ClassDeclaration\" || dec.type === \"ClassExpression\")) {\n+      sep2 = line;\n+    }\n     path.each(\n       function(decoratorPath) {\n-        parts.push(printPath(decoratorPath), line);\n+        parts.push(printPath(decoratorPath), sep2);\n       },\n       \"declaration\",\n       \"decorators\"\n"
}