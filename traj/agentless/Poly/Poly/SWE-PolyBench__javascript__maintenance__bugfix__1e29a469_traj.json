{
    "instance_id": "SWE-PolyBench__javascript__maintenance__bugfix__1e29a469",
    "original_id": "sveltejs__svelte-6458",
    "1_model_selected_files": [],
    "2_embedding_selected_files": [
        "src/compiler/compile/render_dom/wrappers/Element/index.ts",
        "src/compiler/compile/render_dom/wrappers/Element/Binding.ts",
        "src/runtime/internal/ssr.ts",
        "src/compiler/compile/render_ssr/index.ts",
        "src/compiler/compile/render_dom/wrappers/Window.ts",
        "src/compiler/compile/render_dom/wrappers/Element/handle_select_value_binding.ts",
        "src/compiler/compile/nodes/Element.ts",
        "src/runtime/internal/dev.ts",
        "src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts",
        "src/compiler/compile/render_ssr/handlers/InlineComponent.ts",
        "src/compiler/compile/render_dom/index.ts",
        "src/compiler/compile/compiler_errors.ts",
        "src/compiler/compile/render_ssr/handlers/Element.ts",
        "src/compiler/compile/render_dom/wrappers/Element/Attribute.ts",
        "src/runtime/easing/index.ts",
        "src/runtime/motion/tweened.ts",
        "src/runtime/motion/spring.ts",
        "site/src/client.js",
        "src/compiler/compile/render_ssr/handlers/SlotTemplate.ts",
        "site/content/tutorial/16-special-elements/07-svelte-options/app-b/flash.js",
        "site/content/tutorial/16-special-elements/07-svelte-options/app-a/flash.js",
        "src/compiler/compile/render_dom/Renderer.ts",
        "src/runtime/internal/Component.ts",
        "src/compiler/compile/nodes/Binding.ts",
        "src/runtime/internal/dom.ts",
        "src/runtime/transition/index.ts",
        "src/compiler/compile/render_dom/wrappers/Element/SpreadAttribute.ts",
        "src/compiler/compile/render_dom/wrappers/shared/bind_this.ts",
        "site/content/examples/07-stores/00-writable-stores/stores.js",
        "site/content/tutorial/08-stores/01-writable-stores/app-b/stores.js",
        "src/compiler/compile/nodes/Window.ts",
        "site/content/examples/99-embeds/20181225-blog-svelte-css-in-js/styles.js",
        "src/runtime/index.ts",
        "src/compiler/compile/render_dom/wrappers/shared/mark_each_block_bindings.ts",
        "site/content/tutorial/08-stores/01-writable-stores/app-a/stores.js",
        "src/compiler/compile/render_dom/wrappers/Element/StyleAttribute.ts",
        "site/content/examples/12-svg/05-svg-transitions/custom-transitions.js",
        "src/compiler/compile/render_ssr/Renderer.ts",
        "src/runtime/ambient.ts",
        "site/content/tutorial/08-stores/02-auto-subscriptions/app-b/stores.js",
        "src/compiler/compile/render_ssr/handlers/Slot.ts",
        "site/content/examples/12-svg/05-svg-transitions/shape.js",
        "src/compiler/compile/render_ssr/handlers/shared/boolean_attributes.ts",
        "site/content/examples/11-easing/00-easing/eases.js",
        "src/compiler/compile/render_dom/invalidate.ts",
        "src/compiler/compile/render_dom/wrappers/Element/fix_attribute_casing.ts",
        "site/content/examples/07-stores/01-auto-subscriptions/stores.js",
        "src/compiler/compile/render_dom/wrappers/Fragment.ts",
        "src/compiler/compile/compiler_warnings.ts",
        "site/content/tutorial/08-stores/02-auto-subscriptions/app-a/stores.js",
        "src/compiler/compile/render_dom/wrappers/IfBlock.ts",
        "site/content/examples/07-stores/04-custom-stores/stores.js",
        "site/content/examples/06-lifecycle/01-ondestroy/utils.js",
        "src/compiler/compile/render_ssr/handlers/Tag.ts",
        "src/compiler/compile/render_dom/wrappers/Slot.ts",
        "src/runtime/internal/style_manager.ts",
        "src/runtime/ssr.ts",
        "src/compiler/compile/render_ssr/handlers/Text.ts",
        "src/compiler/compile/render_dom/wrappers/EachBlock.ts",
        "site/content/tutorial/08-stores/05-custom-stores/app-b/stores.js",
        "svelte/rollup.config.js",
        "site/src/config.js",
        "src/compiler/compile/render_dom/Block.ts",
        "src/compiler/compile/render_ssr/handlers/DebugTag.ts"
    ],
    "3_final_combined_files": [
        "src/compiler/compile/render_dom/wrappers/Element/index.ts",
        "src/compiler/compile/render_dom/wrappers/Element/Binding.ts",
        "src/runtime/internal/ssr.ts"
    ],
    "4_related_elements": {
        "src/runtime/internal/ssr.ts": [
            "function: add_attribute\nfunction: spread\nvariable: boolean_attributes\nfunction: escape_attribute_value"
        ],
        "src/compiler/compile/render_dom/wrappers/Element/index.ts": [
            "variable: events\nclass: ElementWrapper\nfunction: to_html"
        ],
        "src/compiler/compile/render_dom/wrappers/Element/Binding.ts": [
            "class: BindingWrapper\nfunction: get_value_from_dom\nfunction: get_dom_updater"
        ]
    },
    "5_sampled_edit_locs_and_patches": [
        {
            "sample_index": 0,
            "edit_locs": {
                "src/runtime/internal/ssr.ts": [
                    "line: 144"
                ],
                "src/compiler/compile/render_dom/wrappers/Element/index.ts": [
                    ""
                ],
                "src/compiler/compile/render_dom/wrappers/Element/Binding.ts": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/src/runtime/internal/ssr.ts b/src/runtime/internal/ssr.ts\nindex 778113e..00e1099 100644\n--- a/src/runtime/internal/ssr.ts\n+++ b/src/runtime/internal/ssr.ts\n@@ -140,10 +140,11 @@ export function create_ssr_component(fn) {\n }\n \n export function add_attribute(name, value, boolean) {\n-\tif (value == null || (boolean && !value)) return '';\n-\treturn ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n+\tif (value == null) return '';\n+\tif (boolean) return value ? ` ${name}` : '';\n+\treturn ` ${name}=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`;\n }\n \n export function add_classes(classes) {\n \treturn classes ? ` class=\"${classes}\"` : '';\n-}\n+}\n",
                "diff --git a/src/runtime/internal/ssr.ts b/src/runtime/internal/ssr.ts\nindex 778113e..9951929 100644\n--- a/src/runtime/internal/ssr.ts\n+++ b/src/runtime/internal/ssr.ts\n@@ -140,10 +140,10 @@ export function create_ssr_component(fn) {\n }\n \n export function add_attribute(name, value, boolean) {\n-\tif (value == null || (boolean && !value)) return '';\n+\tif (value == null || (boolean && value === false)) return '';\n \treturn ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n }\n \n export function add_classes(classes) {\n \treturn classes ? ` class=\"${classes}\"` : '';\n-}\n+}\n"
            ]
        },
        {
            "sample_index": 1,
            "edit_locs": {
                "src/runtime/internal/ssr.ts": [
                    "function: add_attribute\nline: 142\nline: 143\nline: 144\nline: 145"
                ],
                "src/compiler/compile/render_dom/wrappers/Element/index.ts": [
                    ""
                ],
                "src/compiler/compile/render_dom/wrappers/Element/Binding.ts": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/src/runtime/internal/ssr.ts b/src/runtime/internal/ssr.ts\nindex 778113e..0320f3e 100644\n--- a/src/runtime/internal/ssr.ts\n+++ b/src/runtime/internal/ssr.ts\n@@ -140,10 +140,12 @@ export function create_ssr_component(fn) {\n }\n \n export function add_attribute(name, value, boolean) {\n-\tif (value == null || (boolean && !value)) return '';\n+\t// Only omit attributes when value is null or undefined.\n+\t// For boolean attributes, include the attribute only when value is strictly true.\n+\tif (value == null || (boolean && value !== true)) return '';\n \treturn ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n }\n \n export function add_classes(classes) {\n \treturn classes ? ` class=\"${classes}\"` : '';\n-}\n+}\n",
                "diff --git a/src/runtime/internal/ssr.ts b/src/runtime/internal/ssr.ts\nindex 778113e..515c400 100644\n--- a/src/runtime/internal/ssr.ts\n+++ b/src/runtime/internal/ssr.ts\n@@ -140,10 +140,10 @@ export function create_ssr_component(fn) {\n }\n \n export function add_attribute(name, value, boolean) {\n-\tif (value == null || (boolean && !value)) return '';\n+\tif (value == null || (boolean && value !== true)) return '';\n \treturn ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n }\n \n export function add_classes(classes) {\n \treturn classes ? ` class=\"${classes}\"` : '';\n-}\n+}\n"
            ]
        }
    ],
    "6_final_selected_patch": "diff --git a/src/runtime/internal/ssr.ts b/src/runtime/internal/ssr.ts\nindex 778113e..00e1099 100644\n--- a/src/runtime/internal/ssr.ts\n+++ b/src/runtime/internal/ssr.ts\n@@ -140,10 +140,11 @@ export function create_ssr_component(fn) {\n }\n \n export function add_attribute(name, value, boolean) {\n-\tif (value == null || (boolean && !value)) return '';\n-\treturn ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n+\tif (value == null) return '';\n+\tif (boolean) return value ? ` ${name}` : '';\n+\treturn ` ${name}=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`;\n }\n \n export function add_classes(classes) {\n \treturn classes ? ` class=\"${classes}\"` : '';\n-}\n+}\n"
}