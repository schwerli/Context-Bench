{
    "instance_id": "SWE-PolyBench__typescript__maintenance__bugfix__3864c137",
    "original_id": "mui__material-ui-29023",
    "1_model_selected_files": [
        "packages/mui-material/src/Tooltip/Tooltip.js",
        "packages/mui-material/src/Tooltip/Tooltip.d.ts"
    ],
    "2_embedding_selected_files": [
        "packages/mui-material/src/Tooltip/Tooltip.js",
        "packages/mui-material/src/Tooltip/Tooltip.d.ts",
        "packages/mui-material/src/Tooltip/tooltipClasses.ts",
        "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/exportClass.expected.js",
        "packages/mui-material/src/Tooltip/Tooltip.test.js",
        "docs/src/pages/components/tooltips/CustomizedTooltips.js",
        "packages/mui-core/src/Popper/Popper.js",
        "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/exportClass.actual.js",
        "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/fifth.expected.js",
        "packages/mui-material/src/Popover/Popover.js",
        "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/fifth.actual.js",
        "packages/mui-codemod/src/v5.0.0/box-sx-prop.test/expected.js",
        "packages/mui-core/src/Popper/Popper.test.js",
        "packages/mui-codemod/src/v5.0.0/box-sx-prop.test/actual.js",
        "docs/src/pages/guides/interoperability/StyledComponentsPortal.js",
        "packages/mui-codemod/src/v5.0.0/mui-replace.test/actual.js",
        "packages/mui-core/src/Popper/Popper.d.ts",
        "packages/mui-material/src/Popover/Popover.d.ts",
        "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/fourth.expected.js",
        "packages/mui-system/src/styled.test.js",
        "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/sixth.expected.js",
        "packages/mui-codemod/src/v5.0.0/mui-replace.test/expected.js",
        "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/first.expected.js",
        "packages/mui-material/src/styles/styled.test.js",
        "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/third.expected.js",
        "docs/src/pages/components/tooltips/AnchorElTooltips.js",
        "packages/mui-material/src/Popover/Popover.test.js",
        "packages/mui-codemod/src/v5.0.0/root-ref.test/expected.js",
        "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/first.actual.js",
        "docs/src/pages/components/tooltips/VariableWidth.js",
        "docs/src/pages/components/popover/AnchorPlayground.js",
        "docs/src/pages/components/popper/PopperPopupState.js",
        "docs/src/pages/components/popper/ScrollPlayground.js",
        "docs/src/pages/components/popper/PositionedPopper.js",
        "packages/mui-codemod/src/v5.0.0/use-transitionprops.test/actual.js",
        "packages/mui-codemod/src/v5.0.0/material-ui-styles.test/expected.js",
        "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/sixth.actual.js",
        "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/exportFunction.expected.js",
        "packages/mui-material/src/index.d.ts",
        "docs/src/pages/components/popover/BasicPopover.js",
        "docs/src/pages/components/popper/VirtualElementPopper.js",
        "packages/mui-codemod/src/v5.0.0/variant-prop.test/actual.js",
        "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/second.expected.js",
        "docs/src/pages/components/popover/PopoverPopupState.js",
        "packages/mui-material/src/Typography/Typography.js",
        "packages/mui-codemod/src/v5.0.0/variant-prop.test/expected.js",
        "packages/mui-material/src/Autocomplete/Autocomplete.js",
        "packages/mui-codemod/src/v5.0.0/preset-safe.test/expected.js",
        "packages/mui-styles/src/withStyles/withStyles.d.ts",
        "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/second.actual.js",
        "docs/src/pages/components/popper/TransitionsPopper.js",
        "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/exportFunction.actual.js",
        "packages/mui-codemod/src/v5.0.0/preset-safe.test/actual.js",
        "packages/mui-codemod/src/v5.0.0/material-ui-styles.test/actual.js",
        "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/fourth.actual.js",
        "packages/mui-styles/src/styled/styled.test.js",
        "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/eleventh.expected.js",
        "packages/mui-codemod/src/v5.0.0/box-rename-css.test/actual.js",
        "packages/mui-codemod/src/v5.0.0/use-transitionprops.test/expected.js",
        "packages/mui-codemod/src/v5.0.0/material-ui-styles.test/core-import.expected.js",
        "packages/mui-material/src/Icon/Icon.js",
        "packages/mui-codemod/src/v5.0.0/table-props.test/actual.js",
        "packages/mui-material/src/FormHelperText/FormHelperText.js",
        "packages/mui-codemod/src/v5.0.0/variant-prop.test/mui-import.expected.js",
        "packages/mui-material/src/ToggleButton/ToggleButton.js",
        "packages/mui-codemod/src/v5.0.0/material-ui-styles.test/types-import.expected.js",
        "docs/src/pages/components/popover/MouseOverPopover.js",
        "packages/mui-styles/src/makeStyles/makeStyles.test.js",
        "packages/mui-material-next/src/Input/Input.js",
        "docs/src/pages/components/popper/SpringPopper.js",
        "docs/src/pages/components/tooltips/ControlledTooltips.js",
        "docs/src/pages/customization/unstyled-components/StylingHooks.js",
        "packages/mui-codemod/src/v5.0.0/variant-prop.test/mui-import.actual.js",
        "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/eighth.expected.js",
        "docs/src/pages/components/tooltips/TransitionsTooltips.js",
        "packages/mui-styles/src/getThemeProps/getThemeProps.spec.ts",
        "packages/mui-codemod/src/v5.0.0/box-rename-css.test/expected.js"
    ],
    "3_final_combined_files": [
        "packages/mui-material/src/Tooltip/Tooltip.js",
        "packages/mui-material/src/Tooltip/Tooltip.d.ts",
        "packages/mui-material/src/Tooltip/tooltipClasses.ts"
    ],
    "4_related_elements": {
        "packages/mui-material/src/Tooltip/Tooltip.js": [
            "function: Tooltip\nvariable: popperProps\nvariable: PopperProps\nvariable: componentsProps"
        ],
        "packages/mui-material/src/Tooltip/Tooltip.d.ts": [
            "function: Tooltip\nvariable: PopperProps\nvariable: componentsProps\nvariable: TransitionProps"
        ],
        "packages/mui-material/src/Tooltip/tooltipClasses.ts": [
            ""
        ]
    },
    "5_sampled_edit_locs_and_patches": [
        {
            "sample_index": 0,
            "edit_locs": {
                "packages/mui-material/src/Tooltip/Tooltip.js": [
                    "function: Tooltip\nline: 236\nline: 254"
                ],
                "packages/mui-material/src/Tooltip/Tooltip.d.ts": [
                    "line: 189"
                ],
                "packages/mui-material/src/Tooltip/tooltipClasses.ts": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/packages/mui-material/src/Tooltip/Tooltip.js b/packages/mui-material/src/Tooltip/Tooltip.js\nindex c4a6291..cc27e28 100644\n--- a/packages/mui-material/src/Tooltip/Tooltip.js\n+++ b/packages/mui-material/src/Tooltip/Tooltip.js\n@@ -233,7 +233,7 @@ const Tooltip = React.forwardRef(function Tooltip(inProps, ref) {\n     children,\n     classes: classesProp,\n     components = {},\n-    componentsProps = {},\n+    componentsProps: componentsPropsProp = {},\n     describeChild = false,\n     disableFocusListener = false,\n     disableHoverListener = false,\n@@ -258,6 +258,16 @@ const Tooltip = React.forwardRef(function Tooltip(inProps, ref) {\n     ...other\n   } = props;\n \n+  // Backward compatibility: merge deprecated PopperProps into the popper slot props.\n+  // This ensures properties like className passed via PopperProps are still applied.\n+  const componentsProps = {\n+    ...componentsPropsProp,\n+    popper: {\n+      ...PopperProps,\n+      ...(componentsPropsProp.popper || {}),\n+    },\n+  };\n+\n   const theme = useTheme();\n   const isRtl = theme.direction === 'rtl';\n \n",
                "diff --git a/packages/mui-material/src/Tooltip/Tooltip.js b/packages/mui-material/src/Tooltip/Tooltip.js\nindex c4a6291..1b41375 100644\n--- a/packages/mui-material/src/Tooltip/Tooltip.js\n+++ b/packages/mui-material/src/Tooltip/Tooltip.js\n@@ -233,7 +233,7 @@ const Tooltip = React.forwardRef(function Tooltip(inProps, ref) {\n     children,\n     classes: classesProp,\n     components = {},\n-    componentsProps = {},\n+    componentsProps: componentsPropsProp = {},\n     describeChild = false,\n     disableFocusListener = false,\n     disableHoverListener = false,\n@@ -251,13 +251,26 @@ const Tooltip = React.forwardRef(function Tooltip(inProps, ref) {\n     open: openProp,\n     placement = 'bottom',\n     PopperComponent: PopperComponentProp,\n-    PopperProps = {},\n+    PopperProps: PopperPropsProp = {},\n     title,\n     TransitionComponent: TransitionComponentProp = Grow,\n     TransitionProps,\n     ...other\n   } = props;\n \n+  // Backward compatibility: ensure className passed via PopperProps is applied to the Popper slot.\n+  const PopperProps = PopperPropsProp;\n+  const componentsProps = {\n+    ...componentsPropsProp,\n+    popper: {\n+      ...(componentsPropsProp.popper || {}),\n+      className: clsx(\n+        componentsPropsProp.popper && componentsPropsProp.popper.className,\n+        PopperPropsProp.className,\n+      ),\n+    },\n+  };\n+\n   const theme = useTheme();\n   const isRtl = theme.direction === 'rtl';\n \n"
            ]
        },
        {
            "sample_index": 1,
            "edit_locs": {
                "packages/mui-material/src/Tooltip/Tooltip.js": [
                    "function: Tooltip"
                ],
                "packages/mui-material/src/Tooltip/Tooltip.d.ts": [
                    "class: TooltipProps"
                ],
                "packages/mui-material/src/Tooltip/tooltipClasses.ts": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/packages/mui-material/src/Tooltip/Tooltip.js b/packages/mui-material/src/Tooltip/Tooltip.js\nindex c4a6291..ad7a3a4 100644\n--- a/packages/mui-material/src/Tooltip/Tooltip.js\n+++ b/packages/mui-material/src/Tooltip/Tooltip.js\n@@ -258,6 +258,18 @@ const Tooltip = React.forwardRef(function Tooltip(inProps, ref) {\n     ...other\n   } = props;\n \n+  // Backwards compatibility:\n+  // Ensure that className provided via deprecated PopperProps is applied to the Popper slot.\n+  // This allows styling via PopperProps.className to keep working until PopperProps is removed in v6.\n+  if (PopperProps && PopperProps.className) {\n+    const prevClassName = componentsProps.popper && componentsProps.popper.className;\n+    const mergedClassName = prevClassName ? `${PopperProps.className} ${prevClassName}` : PopperProps.className;\n+    componentsProps.popper = {\n+      ...componentsProps.popper,\n+      className: mergedClassName,\n+    };\n+  }\n+\n   const theme = useTheme();\n   const isRtl = theme.direction === 'rtl';\n \n",
                "diff --git a/packages/mui-material/src/Tooltip/Tooltip.js b/packages/mui-material/src/Tooltip/Tooltip.js\nindex c4a6291..f453edb 100644\n--- a/packages/mui-material/src/Tooltip/Tooltip.js\n+++ b/packages/mui-material/src/Tooltip/Tooltip.js\n@@ -233,7 +233,7 @@ const Tooltip = React.forwardRef(function Tooltip(inProps, ref) {\n     children,\n     classes: classesProp,\n     components = {},\n-    componentsProps = {},\n+    componentsProps: componentsPropsProp = {},\n     describeChild = false,\n     disableFocusListener = false,\n     disableHoverListener = false,\n@@ -251,13 +251,28 @@ const Tooltip = React.forwardRef(function Tooltip(inProps, ref) {\n     open: openProp,\n     placement = 'bottom',\n     PopperComponent: PopperComponentProp,\n-    PopperProps = {},\n+    PopperProps: PopperPropsProp = {},\n     title,\n     TransitionComponent: TransitionComponentProp = Grow,\n     TransitionProps,\n     ...other\n   } = props;\n \n+  // Backward compatibility: ensure PopperProps.className and other props are applied when using PopperProps.\n+  // Merge PopperProps into componentsProps.popper, giving precedence to componentsProps.popper.\n+  const componentsProps = {\n+    ...componentsPropsProp,\n+    popper: {\n+      ...PopperPropsProp,\n+      ...componentsPropsProp.popper,\n+      className: clsx(\n+        PopperPropsProp.className,\n+        componentsPropsProp.popper && componentsPropsProp.popper.className,\n+      ),\n+    },\n+  };\n+  const PopperProps = PopperPropsProp;\n+\n   const theme = useTheme();\n   const isRtl = theme.direction === 'rtl';\n \n"
            ]
        }
    ],
    "6_final_selected_patch": "diff --git a/packages/mui-material/src/Tooltip/Tooltip.js b/packages/mui-material/src/Tooltip/Tooltip.js\nindex c4a6291..cc27e28 100644\n--- a/packages/mui-material/src/Tooltip/Tooltip.js\n+++ b/packages/mui-material/src/Tooltip/Tooltip.js\n@@ -233,7 +233,7 @@ const Tooltip = React.forwardRef(function Tooltip(inProps, ref) {\n     children,\n     classes: classesProp,\n     components = {},\n-    componentsProps = {},\n+    componentsProps: componentsPropsProp = {},\n     describeChild = false,\n     disableFocusListener = false,\n     disableHoverListener = false,\n@@ -258,6 +258,16 @@ const Tooltip = React.forwardRef(function Tooltip(inProps, ref) {\n     ...other\n   } = props;\n \n+  // Backward compatibility: merge deprecated PopperProps into the popper slot props.\n+  // This ensures properties like className passed via PopperProps are still applied.\n+  const componentsProps = {\n+    ...componentsPropsProp,\n+    popper: {\n+      ...PopperProps,\n+      ...(componentsPropsProp.popper || {}),\n+    },\n+  };\n+\n   const theme = useTheme();\n   const isRtl = theme.direction === 'rtl';\n \n"
}