{
    "instance_id": "SWE-PolyBench__javascript__maintenance__bugfix__10ab7842",
    "original_id": "prettier__prettier-361",
    "1_model_selected_files": [
        "src/printer.js",
        "src/parser.js"
    ],
    "2_embedding_selected_files": [
        "docs/prettier.min.js",
        "src/printer.js",
        "prettier/index.js",
        "bin/prettier.js",
        "src/options.js"
    ],
    "3_final_combined_files": [
        "src/printer.js",
        "src/parser.js",
        "docs/prettier.min.js",
        "prettier/index.js"
    ],
    "4_related_elements": {
        "src/printer.js": [
            "function: printExportDeclaration\nfunction: genericPrintNoParens\nfunction: ImportDeclaration"
        ],
        "src/parser.js": [
            "function: parseWithBabylon"
        ],
        "docs/prettier.min.js": [
            ""
        ]
    },
    "5_sampled_edit_locs_and_patches": [
        {
            "sample_index": 0,
            "edit_locs": {
                "src/printer.js": [
                    "function: printExportDeclaration\nline: 1837\nline: 1872"
                ],
                "src/parser.js": [
                    ""
                ],
                "docs/prettier.min.js": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/src/printer.js b/src/printer.js\nindex 5f37ab8..1d0721a 100644\n--- a/src/printer.js\n+++ b/src/printer.js\n@@ -1835,11 +1835,16 @@ function printExportDeclaration(path, options, print) {\n     }\n   } else {\n     if (decl.specifiers && decl.specifiers.length > 0) {\n-      if (\n-        decl.specifiers.length === 1 &&\n-          decl.specifiers[0].type === \"ExportBatchSpecifier\"\n-      ) {\n+      var onlySpecifier = decl.specifiers.length === 1 ? decl.specifiers[0] : null;\n+      if (onlySpecifier && onlySpecifier.type === \"ExportBatchSpecifier\") {\n         parts.push(\"*\");\n+      } else if (\n+        onlySpecifier &&\n+        (onlySpecifier.type === \"ExportDefaultSpecifier\" ||\n+          onlySpecifier.type === \"ExportNamespaceSpecifier\")\n+      ) {\n+        // Support Babel export extensions: print default/namespace re-exports without braces.\n+        parts.push(path.call(print, \"specifiers\", 0));\n       } else {\n         parts.push(\n           decl.exportKind === \"type\" ? \"type \" : \"\",\n",
                "diff --git a/src/printer.js b/src/printer.js\nindex 5f37ab8..002ba6a 100644\n--- a/src/printer.js\n+++ b/src/printer.js\n@@ -1835,11 +1835,38 @@ function printExportDeclaration(path, options, print) {\n     }\n   } else {\n     if (decl.specifiers && decl.specifiers.length > 0) {\n-      if (\n-        decl.specifiers.length === 1 &&\n-          decl.specifiers[0].type === \"ExportBatchSpecifier\"\n-      ) {\n-        parts.push(\"*\");\n+      if (decl.specifiers.length === 1) {\n+        var spec = decl.specifiers[0];\n+        if (spec.type === \"ExportBatchSpecifier\") {\n+          parts.push(\"*\");\n+        } else if (\n+          spec.type === \"ExportDefaultSpecifier\" ||\n+          spec.type === \"ExportNamespaceSpecifier\"\n+        ) {\n+          // Support export extensions syntax:\n+          // export foo from 'module';\n+          // export * as ns from 'module';\n+          parts.push(path.call(print, \"specifiers\", 0));\n+        } else {\n+          parts.push(\n+            decl.exportKind === \"type\" ? \"type \" : \"\",\n+            multilineGroup(\n+              concat([\n+                \"{\",\n+                indent(\n+                  options.tabWidth,\n+                  concat([\n+                    options.bracketSpacing ? line : softline,\n+                    join(concat([ \",\", line ]), path.map(print, \"specifiers\"))\n+                  ])\n+                ),\n+                ifBreak(options.trailingComma ? \",\" : \"\"),\n+                options.bracketSpacing ? line : softline,\n+                \"}\"\n+              ])\n+            )\n+          );\n+        }\n       } else {\n         parts.push(\n           decl.exportKind === \"type\" ? \"type \" : \"\",\n"
            ]
        },
        {
            "sample_index": 1,
            "edit_locs": {
                "src/printer.js": [
                    "function: printExportDeclaration"
                ],
                "src/parser.js": [
                    ""
                ],
                "docs/prettier.min.js": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/src/printer.js b/src/printer.js\nindex 5f37ab8..3463fad 100644\n--- a/src/printer.js\n+++ b/src/printer.js\n@@ -1835,11 +1835,36 @@ function printExportDeclaration(path, options, print) {\n     }\n   } else {\n     if (decl.specifiers && decl.specifiers.length > 0) {\n-      if (\n-        decl.specifiers.length === 1 &&\n-          decl.specifiers[0].type === \"ExportBatchSpecifier\"\n-      ) {\n-        parts.push(\"*\");\n+      if (decl.specifiers.length === 1) {\n+        var spec = decl.specifiers[0];\n+        if (spec.type === \"ExportBatchSpecifier\") {\n+          parts.push(\"*\");\n+        } else if (spec.type === \"ExportDefaultSpecifier\") {\n+          // Support \"export name from 'module'\" (export default as name)\n+          parts.push(path.call(print, \"specifiers\", 0, \"exported\"));\n+        } else if (spec.type === \"ExportNamespaceSpecifier\") {\n+          // Support \"export * as ns from 'module'\"\n+          parts.push(\"* as \", path.call(print, \"specifiers\", 0, \"exported\"));\n+        } else {\n+          parts.push(\n+            decl.exportKind === \"type\" ? \"type \" : \"\",\n+            multilineGroup(\n+              concat([\n+                \"{\",\n+                indent(\n+                  options.tabWidth,\n+                  concat([\n+                    options.bracketSpacing ? line : softline,\n+                    join(concat([ \",\", line ]), path.map(print, \"specifiers\"))\n+                  ])\n+                ),\n+                ifBreak(options.trailingComma ? \",\" : \"\"),\n+                options.bracketSpacing ? line : softline,\n+                \"}\"\n+              ])\n+            )\n+          );\n+        }\n       } else {\n         parts.push(\n           decl.exportKind === \"type\" ? \"type \" : \"\",\n",
                "diff --git a/src/printer.js b/src/printer.js\nindex 5f37ab8..129f498 100644\n--- a/src/printer.js\n+++ b/src/printer.js\n@@ -1835,11 +1835,36 @@ function printExportDeclaration(path, options, print) {\n     }\n   } else {\n     if (decl.specifiers && decl.specifiers.length > 0) {\n-      if (\n-        decl.specifiers.length === 1 &&\n-          decl.specifiers[0].type === \"ExportBatchSpecifier\"\n-      ) {\n-        parts.push(\"*\");\n+      if (decl.specifiers.length === 1) {\n+        var spec = decl.specifiers[0];\n+        if (spec.type === \"ExportBatchSpecifier\") {\n+          parts.push(\"*\");\n+        } else if (spec.type === \"ExportDefaultSpecifier\") {\n+          // Support export extensions: `export name from 'module'`\n+          parts.push(path.call(print, \"specifiers\", 0));\n+        } else if (spec.type === \"ExportNamespaceSpecifier\") {\n+          // Support export extensions: `export * as ns from 'module'`\n+          parts.push(concat([ \"* as \", path.call(print, \"specifiers\", 0) ]));\n+        } else {\n+          parts.push(\n+            decl.exportKind === \"type\" ? \"type \" : \"\",\n+            multilineGroup(\n+              concat([\n+                \"{\",\n+                indent(\n+                  options.tabWidth,\n+                  concat([\n+                    options.bracketSpacing ? line : softline,\n+                    join(concat([ \",\", line ]), path.map(print, \"specifiers\"))\n+                  ])\n+                ),\n+                ifBreak(options.trailingComma ? \",\" : \"\"),\n+                options.bracketSpacing ? line : softline,\n+                \"}\"\n+              ])\n+            )\n+          );\n+        }\n       } else {\n         parts.push(\n           decl.exportKind === \"type\" ? \"type \" : \"\",\n"
            ]
        }
    ],
    "6_final_selected_patch": "diff --git a/src/printer.js b/src/printer.js\nindex 5f37ab8..1d0721a 100644\n--- a/src/printer.js\n+++ b/src/printer.js\n@@ -1835,11 +1835,16 @@ function printExportDeclaration(path, options, print) {\n     }\n   } else {\n     if (decl.specifiers && decl.specifiers.length > 0) {\n-      if (\n-        decl.specifiers.length === 1 &&\n-          decl.specifiers[0].type === \"ExportBatchSpecifier\"\n-      ) {\n+      var onlySpecifier = decl.specifiers.length === 1 ? decl.specifiers[0] : null;\n+      if (onlySpecifier && onlySpecifier.type === \"ExportBatchSpecifier\") {\n         parts.push(\"*\");\n+      } else if (\n+        onlySpecifier &&\n+        (onlySpecifier.type === \"ExportDefaultSpecifier\" ||\n+          onlySpecifier.type === \"ExportNamespaceSpecifier\")\n+      ) {\n+        // Support Babel export extensions: print default/namespace re-exports without braces.\n+        parts.push(path.call(print, \"specifiers\", 0));\n       } else {\n         parts.push(\n           decl.exportKind === \"type\" ? \"type \" : \"\",\n"
}