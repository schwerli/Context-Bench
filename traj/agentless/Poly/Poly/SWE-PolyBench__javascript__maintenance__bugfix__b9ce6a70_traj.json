{
    "instance_id": "SWE-PolyBench__javascript__maintenance__bugfix__b9ce6a70",
    "original_id": "sveltejs__svelte-3151",
    "1_model_selected_files": [],
    "2_embedding_selected_files": [
        "src/compiler/compile/render_dom/index.ts",
        "src/compiler/compile/render_dom/wrappers/shared/bind_this.ts",
        "src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts",
        "src/compiler/compile/Component.ts",
        "src/compiler/compile/utils/flatten_reference.ts",
        "src/runtime/internal/ssr.ts",
        "src/compiler/compile/utils/__test__.ts",
        "src/compiler/compile/render_dom/wrappers/Element/Binding.ts",
        "src/compiler/compile/render_dom/wrappers/shared/get_context_merger.ts",
        "src/compiler/compile/nodes/shared/Expression.ts",
        "src/runtime/internal/Component.ts",
        "src/runtime/internal/utils.ts",
        "src/compiler/utils/names.ts",
        "site/content/tutorial/08-stores/06-store-bindings/app-b/stores.js",
        "src/compiler/compile/create_module.ts",
        "src/compiler/compile/render_ssr/handlers/InlineComponent.ts",
        "src/compiler/compile/utils/scope.ts",
        "site/content/tutorial/08-stores/06-store-bindings/app-a/stores.js",
        "src/compiler/compile/render_ssr/handlers/shared/get_slot_scope.ts",
        "src/compiler/compile/utils/get_object.ts",
        "src/runtime/ambient.ts",
        "svelte/register.js",
        "src/compiler/compile/render_dom/Block.ts",
        "src/compiler/compile/utils/snip.ts",
        "src/compiler/compile/utils/stringify_props.ts",
        "src/compiler/preprocess/index.ts",
        "src/compiler/compile/render_dom/wrappers/Window.ts",
        "site/content/examples/09-transitions/06-deferred-transitions/crossfade.js",
        "src/compiler/compile/nodes/Let.ts",
        "site/content/examples/99-embeds/20181225-blog-svelte-css-in-js/styles.js",
        "src/compiler/compile/nodes/InlineComponent.ts",
        "src/compiler/compile/nodes/Element.ts",
        "src/compiler/parse/state/mustache.ts",
        "src/compiler/compile/nodes/Binding.ts",
        "src/compiler/compile/render_dom/wrappers/Element/Attribute.ts",
        "src/compiler/compile/render_dom/wrappers/Element/StyleAttribute.ts",
        "site/src/user.js",
        "src/compiler/compile/render_dom/wrappers/Element/index.ts",
        "src/compiler/compile/render_dom/wrappers/Element/fix_attribute_casing.ts",
        "site/src/config.js",
        "src/compiler/compile/nodes/shared/TemplateScope.ts",
        "src/compiler/compile/render_dom/Renderer.ts",
        "src/compiler/compile/css/Selector.ts",
        "src/compiler/compile/index.ts",
        "src/compiler/interfaces.ts",
        "src/runtime/index.ts",
        "src/runtime/internal/lifecycle.ts",
        "svelte/rollup.config.js",
        "site/static/repl-runner.js",
        "src/compiler/compile/render_dom/wrappers/MustacheTag.ts",
        "src/runtime/internal/style_manager.ts",
        "src/compiler/compile/render_dom/wrappers/shared/create_debugging_comment.ts",
        "src/compiler/compile/render_ssr/index.ts",
        "src/compiler/compile/utils/stringify.ts",
        "src/compiler/compile/utils/get_name_from_filename.ts",
        "src/compiler/compile/render_dom/wrappers/shared/is_dynamic.ts",
        "site/src/routes/examples/_examples.js",
        "src/compiler/compile/render_dom/wrappers/Slot.ts",
        "src/compiler/compile/utils/get_slot_data.ts",
        "src/compiler/compile/render_dom/wrappers/RawMustacheTag.ts",
        "site/src/utils/examples.js",
        "src/compiler/compile/css/Stylesheet.ts",
        "src/compiler/parse/read/context.ts",
        "src/compiler/parse/read/script.ts",
        "src/compiler/compile/utils/stringify_attribute.ts",
        "src/compiler/compile/nodes/Body.ts",
        "src/runtime/easing/index.ts"
    ],
    "3_final_combined_files": [
        "src/compiler/compile/render_dom/index.ts",
        "src/compiler/compile/render_dom/wrappers/shared/bind_this.ts",
        "src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts"
    ],
    "4_related_elements": {
        "src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts": [
            "class: InlineComponentWrapper\nfunction: InlineComponentWrapper.render"
        ],
        "src/compiler/compile/render_dom/index.ts": [
            "function: dom"
        ],
        "src/compiler/compile/render_dom/wrappers/shared/bind_this.ts": [
            ""
        ]
    },
    "5_sampled_edit_locs_and_patches": [
        {
            "sample_index": 0,
            "edit_locs": {
                "src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts": [
                    "function: InlineComponentWrapper.render\nline: 128\nline: 129\nline: 130\nline: 131\nline: 132\nline: 133\nline: 189\nline: 190\nline: 191\nline: 195\nline: 201\nline: 202\nline: 203\nline: 204\nline: 205\nline: 206\nline: 228\nline: 229\nline: 230\nline: 231\nline: 236\nline: 237"
                ],
                "src/compiler/compile/render_dom/index.ts": [
                    "function: dom\nline: 287\nline: 288\nline: 289\nline: 290\nline: 294\nline: 295"
                ],
                "src/compiler/compile/render_dom/wrappers/shared/bind_this.ts": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts b/src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts\nindex 799a9a4..38d2fe0 100644\n--- a/src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts\n+++ b/src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts\n@@ -128,7 +128,10 @@ export default class InlineComponentWrapper extends Wrapper {\n \t\tconst attribute_object = uses_spread\n \t\t\t? stringify_props(initial_props)\n \t\t\t: stringify_props(\n-\t\t\t\tthis.node.attributes.map(attr => `${quote_name_if_necessary(attr.name)}: ${attr.get_value(block)}`).concat(initial_props)\n+\t\t\t\tthis.node.attributes.map(attr => {\n+\t\t\t\t\tconst value = attr.expression ? attr.expression.render(block) : attr.get_value(block);\n+\t\t\t\t\treturn `${quote_name_if_necessary(attr.name)}: ${value}`;\n+\t\t\t\t}).concat(initial_props)\n \t\t\t);\n \n \t\tif (this.node.attributes.length || this.node.bindings.length || initial_props.length) {\n@@ -233,7 +236,7 @@ export default class InlineComponentWrapper extends Wrapper {\n \t\t\t\t\t\t\tupdates.push(deindent`\n \t\t\t\t\t\t\t\tif (${[...attribute.dependencies]\n \t\t\t\t\t\t\t\t\t.map(dependency => `changed.${dependency}`)\n-\t\t\t\t\t\t\t\t\t.join(' || ')}) ${name_changes}${quote_prop_if_necessary(attribute.name)} = ${attribute.get_value(block)};\n+\t\t\t\t\t\t\t\t\t.join(' || ')}) ${name_changes}${quote_prop_if_necessary(attribute.name)} = ${attribute.expression ? attribute.expression.render(block) : attribute.get_value(block)};\n \t\t\t\t\t\t\t`);\n \t\t\t\t\t\t\t/* eslint-enable @typescript-eslint/indent,indent */\n \t\t\t\t\t\t}\n@@ -473,4 +476,4 @@ export default class InlineComponentWrapper extends Wrapper {\n \t\t\t);\n \t\t}\n \t}\n-}\n+}\n",
                "diff --git a/src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts b/src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts\nindex 799a9a4..8fba8d1 100644\n--- a/src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts\n+++ b/src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts\n@@ -128,7 +128,17 @@ export default class InlineComponentWrapper extends Wrapper {\n \t\tconst attribute_object = uses_spread\n \t\t\t? stringify_props(initial_props)\n \t\t\t: stringify_props(\n-\t\t\t\tthis.node.attributes.map(attr => `${quote_name_if_necessary(attr.name)}: ${attr.get_value(block)}`).concat(initial_props)\n+\t\t\t\tthis.node.attributes\n+\t\t\t\t\t.map(attr => {\n+\t\t\t\t\t\t// Preserve object literal shorthand methods by rendering the full object expression\n+\t\t\t\t\t\t// instead of attempting to extract a value that may strip method syntax.\n+\t\t\t\t\t\tconst value =\n+\t\t\t\t\t\t\tattr.expression && attr.expression.node && attr.expression.node.type === 'ObjectExpression'\n+\t\t\t\t\t\t\t\t? attr.expression.render(block)\n+\t\t\t\t\t\t\t\t: attr.get_value(block);\n+\t\t\t\t\t\treturn `${quote_name_if_necessary(attr.name)}: ${value}`;\n+\t\t\t\t\t})\n+\t\t\t\t\t.concat(initial_props)\n \t\t\t);\n \n \t\tif (this.node.attributes.length || this.node.bindings.length || initial_props.length) {\n@@ -473,4 +483,4 @@ export default class InlineComponentWrapper extends Wrapper {\n \t\t\t);\n \t\t}\n \t}\n-}\n+}\n"
            ]
        },
        {
            "sample_index": 1,
            "edit_locs": {
                "src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts": [
                    "function: InlineComponentWrapper.render\nline: 128\nline: 129\nline: 130\nline: 131\nline: 132\nline: 133\nline: 134\nline: 228\nline: 229\nline: 230\nline: 231\nline: 232\nline: 233\nline: 234\nline: 235\nline: 236\nline: 237\nline: 238\nline: 239\nline: 240\nline: 241"
                ],
                "src/compiler/compile/render_dom/index.ts": [
                    "function: dom\nline: 163\nline: 164\nline: 165\nline: 166\nline: 170\nline: 175\nline: 186\nline: 194\nline: 223\nline: 224\nline: 225\nline: 226\nline: 233\nline: 234\nline: 235\nline: 236\nline: 247\nline: 248\nline: 249\nline: 250\nline: 254\nline: 255\nline: 256"
                ],
                "src/compiler/compile/render_dom/wrappers/shared/bind_this.ts": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts b/src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts\nindex 799a9a4..2ee57d8 100644\n--- a/src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts\n+++ b/src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts\n@@ -127,9 +127,7 @@ export default class InlineComponentWrapper extends Wrapper {\n \n \t\tconst attribute_object = uses_spread\n \t\t\t? stringify_props(initial_props)\n-\t\t\t: stringify_props(\n-\t\t\t\tthis.node.attributes.map(attr => `${quote_name_if_necessary(attr.name)}: ${attr.get_value(block)}`).concat(initial_props)\n-\t\t\t);\n+\t\t\t: `{ ${this.node.attributes.map(attr => `${quote_name_if_necessary(attr.name)}: ${attr.get_value(block)}`).concat(initial_props).join(', ')} }`;\n \n \t\tif (this.node.attributes.length || this.node.bindings.length || initial_props.length) {\n \t\t\tif (!uses_spread && this.node.bindings.length === 0) {\n@@ -473,4 +471,4 @@ export default class InlineComponentWrapper extends Wrapper {\n \t\t\t);\n \t\t}\n \t}\n-}\n+}\n",
                "diff --git a/src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts b/src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts\nindex 799a9a4..4de4c35 100644\n--- a/src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts\n+++ b/src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts\n@@ -132,12 +132,8 @@ export default class InlineComponentWrapper extends Wrapper {\n \t\t\t);\n \n \t\tif (this.node.attributes.length || this.node.bindings.length || initial_props.length) {\n-\t\t\tif (!uses_spread && this.node.bindings.length === 0) {\n-\t\t\t\tcomponent_opts.push(`props: ${attribute_object}`);\n-\t\t\t} else {\n-\t\t\t\tprops = block.get_unique_name(`${name}_props`);\n-\t\t\t\tcomponent_opts.push(`props: ${props}`);\n-\t\t\t}\n+\t\t\tprops = block.get_unique_name(`${name}_props`);\n+\t\t\tcomponent_opts.push(`props: ${props}`);\n \t\t}\n \n \t\tif (this.fragment) {\n@@ -473,4 +469,4 @@ export default class InlineComponentWrapper extends Wrapper {\n \t\t\t);\n \t\t}\n \t}\n-}\n+}\n"
            ]
        }
    ],
    "6_final_selected_patch": "diff --git a/src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts b/src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts\nindex 799a9a4..38d2fe0 100644\n--- a/src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts\n+++ b/src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts\n@@ -128,7 +128,10 @@ export default class InlineComponentWrapper extends Wrapper {\n \t\tconst attribute_object = uses_spread\n \t\t\t? stringify_props(initial_props)\n \t\t\t: stringify_props(\n-\t\t\t\tthis.node.attributes.map(attr => `${quote_name_if_necessary(attr.name)}: ${attr.get_value(block)}`).concat(initial_props)\n+\t\t\t\tthis.node.attributes.map(attr => {\n+\t\t\t\t\tconst value = attr.expression ? attr.expression.render(block) : attr.get_value(block);\n+\t\t\t\t\treturn `${quote_name_if_necessary(attr.name)}: ${value}`;\n+\t\t\t\t}).concat(initial_props)\n \t\t\t);\n \n \t\tif (this.node.attributes.length || this.node.bindings.length || initial_props.length) {\n@@ -233,7 +236,7 @@ export default class InlineComponentWrapper extends Wrapper {\n \t\t\t\t\t\t\tupdates.push(deindent`\n \t\t\t\t\t\t\t\tif (${[...attribute.dependencies]\n \t\t\t\t\t\t\t\t\t.map(dependency => `changed.${dependency}`)\n-\t\t\t\t\t\t\t\t\t.join(' || ')}) ${name_changes}${quote_prop_if_necessary(attribute.name)} = ${attribute.get_value(block)};\n+\t\t\t\t\t\t\t\t\t.join(' || ')}) ${name_changes}${quote_prop_if_necessary(attribute.name)} = ${attribute.expression ? attribute.expression.render(block) : attribute.get_value(block)};\n \t\t\t\t\t\t\t`);\n \t\t\t\t\t\t\t/* eslint-enable @typescript-eslint/indent,indent */\n \t\t\t\t\t\t}\n@@ -473,4 +476,4 @@ export default class InlineComponentWrapper extends Wrapper {\n \t\t\t);\n \t\t}\n \t}\n-}\n+}\n"
}