{
    "instance_id": "SWE-PolyBench__javascript__maintenance__bugfix__2d7a3934",
    "original_id": "prettier__prettier-3515",
    "1_model_selected_files": [
        "src/cli.js",
        "src/cli-logger.js"
    ],
    "2_embedding_selected_files": [
        "src/cli-logger.js",
        "bin/prettier.js",
        "src/cli-util.js",
        "src/cli-constant.js",
        "src/cli.js",
        "src/cli-validator.js",
        "src/printer-markdown.js",
        "src/printer-postcss.js",
        "src/printer.js",
        "prettier/index.js",
        "src/options.js",
        "scripts/sync-flow-tests.js",
        "src/util.js",
        "website/static/markdown.js",
        "scripts/run-external-tests.js",
        "prettier/jest.config.js",
        "website/static/worker.js",
        "scripts/build/rollup.base.config.js",
        "website/static/playground.js",
        "src/printer-graphql.js",
        "scripts/build/build.js",
        "src/doc-printer.js",
        "src/deprecated.js",
        "scripts/build/rollup.bin.config.js",
        "src/printer-htmlparser2.js",
        "scripts/build/rollup.docs.config.js",
        "src/comments.js",
        "scripts/build/build-docs.js",
        "src/parser-typescript.js",
        "src/clean-ast.js",
        "scripts/check-deps.js",
        "src/support.js",
        "src/doc-debug.js"
    ],
    "3_final_combined_files": [
        "src/cli-logger.js",
        "src/cli.js",
        "bin/prettier.js",
        "src/cli-util.js"
    ],
    "4_related_elements": {
        "src/cli.js": [
            "function: run"
        ],
        "src/cli-logger.js": [
            "function: createLogger\nfunction: shouldLog\nvariable: ENV_LOG_LEVEL"
        ],
        "bin/prettier.js": [
            ""
        ]
    },
    "5_sampled_edit_locs_and_patches": [
        {
            "sample_index": 0,
            "edit_locs": {
                "src/cli-logger.js": [
                    ""
                ],
                "src/cli.js": [
                    ""
                ],
                "bin/prettier.js": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/src/cli-logger.js b/src/cli-logger.js\nindex c56ae50..fc591cf 100644\n--- a/src/cli-logger.js\n+++ b/src/cli-logger.js\n@@ -9,34 +9,40 @@ const error = createLogger(\"error\", \"red\");\n const debug = createLogger(\"debug\", \"blue\");\n \n function createLogger(loggerName, color) {\n+  const logLevel = (process.env[ENV_LOG_LEVEL] || \"\").toLowerCase();\n+\n+  // If log level is silent, suppress stdout (e.g., filenames printed during --write)\n+  if (logLevel === \"silent\" && typeof console !== \"undefined\") {\n+    console.log = function() {};\n+  }\n+\n   const prefix = `[${chalk[color](loggerName)}] `;\n   return function(message) {\n     if (shouldLog(loggerName)) {\n-      console.error(message.replace(/^/gm, prefix).replace(/[\\t ]+$/gm, \"\"));\n+      const output = loggerName === \"log\" ? console.log : console.error;\n+      output(message.replace(/^/gm, prefix).replace(/[\\t ]+$/gm, \"\"));\n     }\n   };\n }\n \n function shouldLog(loggerName) {\n-  const logLevel = process.env[ENV_LOG_LEVEL];\n+  const logLevel = (process.env[ENV_LOG_LEVEL] || \"\").toLowerCase();\n \n   switch (logLevel) {\n     case \"silent\":\n       return false;\n-    default:\n-      return true;\n     case \"debug\":\n-      if (loggerName === \"debug\") {\n-        return true;\n-      }\n-    // fall through\n+      // Debug level enables all logs\n+      return true;\n     case \"warn\":\n-      if (loggerName === \"warn\") {\n-        return true;\n-      }\n-    // fall through\n+      // Warn level shows warnings and errors\n+      return loggerName === \"warn\" || loggerName === \"error\";\n     case \"error\":\n+      // Error level shows only errors\n       return loggerName === \"error\";\n+    default:\n+      // Default behaves like \"info\": show everything except debug\n+      return loggerName !== \"debug\";\n   }\n }\n \n@@ -45,4 +51,4 @@ module.exports = {\n   error,\n   debug,\n   ENV_LOG_LEVEL\n-};\n+};\n"
            ]
        },
        {
            "sample_index": 1,
            "edit_locs": {
                "src/cli-logger.js": [
                    "function: shouldLog"
                ],
                "src/cli.js": [
                    ""
                ],
                "bin/prettier.js": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/src/cli-logger.js b/src/cli-logger.js\nindex c56ae50..979e23a 100644\n--- a/src/cli-logger.js\n+++ b/src/cli-logger.js\n@@ -18,25 +18,29 @@ function createLogger(loggerName, color) {\n }\n \n function shouldLog(loggerName) {\n-  const logLevel = process.env[ENV_LOG_LEVEL];\n+  const raw =\n+    process.env[ENV_LOG_LEVEL] ||\n+    process.env.LOGLEVEL ||\n+    process.env.PRETTIER_LOG_LEVEL;\n+  const logLevel = (raw || \"\").toLowerCase().trim();\n \n   switch (logLevel) {\n     case \"silent\":\n+    case \"quiet\":\n+    case \"off\":\n       return false;\n-    default:\n-      return true;\n     case \"debug\":\n-      if (loggerName === \"debug\") {\n-        return true;\n-      }\n-    // fall through\n+      // In debug mode, allow all logs\n+      return true;\n     case \"warn\":\n-      if (loggerName === \"warn\") {\n-        return true;\n-      }\n-    // fall through\n+      // Warn mode allows warn and error messages\n+      return loggerName === \"warn\" || loggerName === \"error\";\n     case \"error\":\n+      // Error mode allows only error messages\n       return loggerName === \"error\";\n+    default:\n+      // Default to allowing all logs (existing behavior)\n+      return true;\n   }\n }\n \n@@ -45,4 +49,4 @@ module.exports = {\n   error,\n   debug,\n   ENV_LOG_LEVEL\n-};\n+};\n"
            ]
        }
    ],
    "6_final_selected_patch": "diff --git a/src/cli-logger.js b/src/cli-logger.js\nindex c56ae50..fc591cf 100644\n--- a/src/cli-logger.js\n+++ b/src/cli-logger.js\n@@ -9,34 +9,40 @@ const error = createLogger(\"error\", \"red\");\n const debug = createLogger(\"debug\", \"blue\");\n \n function createLogger(loggerName, color) {\n+  const logLevel = (process.env[ENV_LOG_LEVEL] || \"\").toLowerCase();\n+\n+  // If log level is silent, suppress stdout (e.g., filenames printed during --write)\n+  if (logLevel === \"silent\" && typeof console !== \"undefined\") {\n+    console.log = function() {};\n+  }\n+\n   const prefix = `[${chalk[color](loggerName)}] `;\n   return function(message) {\n     if (shouldLog(loggerName)) {\n-      console.error(message.replace(/^/gm, prefix).replace(/[\\t ]+$/gm, \"\"));\n+      const output = loggerName === \"log\" ? console.log : console.error;\n+      output(message.replace(/^/gm, prefix).replace(/[\\t ]+$/gm, \"\"));\n     }\n   };\n }\n \n function shouldLog(loggerName) {\n-  const logLevel = process.env[ENV_LOG_LEVEL];\n+  const logLevel = (process.env[ENV_LOG_LEVEL] || \"\").toLowerCase();\n \n   switch (logLevel) {\n     case \"silent\":\n       return false;\n-    default:\n-      return true;\n     case \"debug\":\n-      if (loggerName === \"debug\") {\n-        return true;\n-      }\n-    // fall through\n+      // Debug level enables all logs\n+      return true;\n     case \"warn\":\n-      if (loggerName === \"warn\") {\n-        return true;\n-      }\n-    // fall through\n+      // Warn level shows warnings and errors\n+      return loggerName === \"warn\" || loggerName === \"error\";\n     case \"error\":\n+      // Error level shows only errors\n       return loggerName === \"error\";\n+    default:\n+      // Default behaves like \"info\": show everything except debug\n+      return loggerName !== \"debug\";\n   }\n }\n \n@@ -45,4 +51,4 @@ module.exports = {\n   error,\n   debug,\n   ENV_LOG_LEVEL\n-};\n+};\n"
}