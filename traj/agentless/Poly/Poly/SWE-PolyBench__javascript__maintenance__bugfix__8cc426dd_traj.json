{
    "instance_id": "SWE-PolyBench__javascript__maintenance__bugfix__8cc426dd",
    "original_id": "sveltejs__svelte-3451",
    "1_model_selected_files": [],
    "2_embedding_selected_files": [
        "src/compiler/compile/Component.ts",
        "src/compiler/compile/render_dom/index.ts",
        "src/compiler/compile/render_dom/wrappers/Element/index.ts",
        "src/compiler/compile/render_dom/wrappers/Window.ts",
        "src/compiler/compile/render_dom/wrappers/InlineComponent/index.ts",
        "src/compiler/compile/nodes/shared/Expression.ts",
        "src/compiler/compile/render_dom/wrappers/shared/bind_this.ts",
        "src/compiler/compile/render_dom/wrappers/Element/Binding.ts",
        "src/runtime/internal/utils.ts",
        "src/compiler/compile/render_dom/wrappers/shared/is_dynamic.ts",
        "src/compiler/parse/state/mustache.ts",
        "site/content/examples/07-stores/02-readable-stores/stores.js",
        "site/content/examples/06-lifecycle/01-ondestroy/utils.js",
        "site/content/examples/07-stores/03-derived-stores/stores.js",
        "site/content/tutorial/07-lifecycle/02-ondestroy/app-a/utils.js",
        "src/runtime/index.ts",
        "src/compiler/compile/render_dom/wrappers/EachBlock.ts",
        "src/compiler/compile/utils/scope.ts",
        "site/content/tutorial/08-stores/03-readable-stores/app-b/stores.js",
        "site/content/tutorial/07-lifecycle/02-ondestroy/app-b/utils.js",
        "src/runtime/internal/Component.ts",
        "site/content/tutorial/08-stores/04-derived-stores/app-a/stores.js",
        "src/runtime/internal/lifecycle.ts",
        "src/compiler/compile/render_ssr/index.ts",
        "site/content/tutorial/08-stores/04-derived-stores/app-b/stores.js",
        "src/runtime/internal/ssr.ts",
        "src/runtime/internal/style_manager.ts",
        "src/compiler/compile/render_dom/wrappers/IfBlock.ts",
        "site/content/tutorial/08-stores/03-readable-stores/app-a/stores.js",
        "site/content/tutorial/16-special-elements/07-svelte-options/app-b/flash.js",
        "src/compiler/compile/render_dom/Block.ts",
        "src/runtime/internal/scheduler.ts",
        "site/content/tutorial/16-special-elements/07-svelte-options/app-a/flash.js",
        "src/runtime/internal/keyed_each.ts",
        "src/runtime/motion/tweened.ts",
        "src/runtime/store/index.ts",
        "src/compiler/compile/render_dom/wrappers/AwaitBlock.ts",
        "src/runtime/internal/transitions.ts",
        "site/content/examples/07-stores/01-auto-subscriptions/stores.js",
        "src/runtime/internal/await_block.ts",
        "src/compiler/compile/render_dom/wrappers/Element/Attribute.ts",
        "src/compiler/compile/nodes/Let.ts",
        "src/compiler/compile/render_dom/wrappers/Slot.ts",
        "site/content/tutorial/08-stores/02-auto-subscriptions/app-b/stores.js",
        "src/runtime/internal/loop.ts",
        "src/compiler/compile/render_ssr/handlers/shared/get_slot_scope.ts",
        "src/runtime/ambient.ts",
        "src/compiler/compile/utils/__test__.ts",
        "site/content/examples/21-miscellaneous/02-immutable-data/flash.js",
        "src/runtime/internal/environment.ts",
        "src/compiler/compile/css/Selector.ts",
        "site/content/examples/07-stores/04-custom-stores/stores.js",
        "site/content/tutorial/08-stores/02-auto-subscriptions/app-a/stores.js",
        "src/compiler/compile/nodes/EventHandler.ts",
        "site/content/examples/07-stores/00-writable-stores/stores.js",
        "src/compiler/utils/names.ts",
        "src/compiler/compile/render_ssr/handlers/AwaitBlock.ts",
        "src/compiler/compile/nodes/EachBlock.ts",
        "site/content/examples/99-embeds/20181225-blog-svelte-css-in-js/styles.js",
        "svelte/register.js",
        "src/compiler/compile/render_dom/wrappers/DebugTag.ts",
        "src/runtime/internal/animations.ts"
    ],
    "3_final_combined_files": [
        "src/compiler/compile/Component.ts",
        "src/compiler/compile/render_dom/index.ts",
        "src/compiler/compile/render_dom/wrappers/Element/index.ts"
    ],
    "4_related_elements": {
        "src/compiler/compile/Component.ts": [
            "function: Component.walk_instance_js_pre_template\nfunction: Component.extract_reactive_declarations\nfunction: Component.track_mutations\nfunction: Component.walk_module_js\nfunction: Component.hoist_instance_declarations"
        ],
        "src/compiler/compile/render_dom/index.ts": [
            "function: dom"
        ],
        "src/compiler/compile/render_dom/wrappers/Element/index.ts": [
            ""
        ]
    },
    "5_sampled_edit_locs_and_patches": [
        {
            "sample_index": 0,
            "edit_locs": {
                "src/compiler/compile/Component.ts": [
                    "line: 605\nline: 666"
                ],
                "src/compiler/compile/render_dom/index.ts": [
                    ""
                ],
                "src/compiler/compile/render_dom/wrappers/Element/index.ts": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/src/compiler/compile/Component.ts b/src/compiler/compile/Component.ts\nindex 7e33c30..bb89673 100644\n--- a/src/compiler/compile/Component.ts\n+++ b/src/compiler/compile/Component.ts\n@@ -602,7 +602,7 @@ export default class Component {\n \t\t\t\tname,\n \t\t\t\tmodule: true,\n \t\t\t\thoistable: true,\n-\t\t\t\twritable: node.kind === 'var' || node.kind === 'let'\n+\t\t\t\twritable: node.kind === 'var' || node.kind === 'let' || node.type === 'FunctionDeclaration'\n \t\t\t});\n \t\t});\n \n@@ -663,7 +663,7 @@ export default class Component {\n \t\t\t\tname,\n \t\t\t\tinitialised: instance_scope.initialised_declarations.has(name),\n \t\t\t\thoistable: /^Import/.test(node.type),\n-\t\t\t\twritable: node.kind === 'var' || node.kind === 'let'\n+\t\t\t\twritable: node.kind === 'var' || node.kind === 'let' || node.type === 'FunctionDeclaration'\n \t\t\t});\n \n \t\t\tthis.node_for_declaration.set(name, node);\n",
                "diff --git a/src/compiler/compile/Component.ts b/src/compiler/compile/Component.ts\nindex 7e33c30..bb89673 100644\n--- a/src/compiler/compile/Component.ts\n+++ b/src/compiler/compile/Component.ts\n@@ -602,7 +602,7 @@ export default class Component {\n \t\t\t\tname,\n \t\t\t\tmodule: true,\n \t\t\t\thoistable: true,\n-\t\t\t\twritable: node.kind === 'var' || node.kind === 'let'\n+\t\t\t\twritable: node.kind === 'var' || node.kind === 'let' || node.type === 'FunctionDeclaration'\n \t\t\t});\n \t\t});\n \n@@ -663,7 +663,7 @@ export default class Component {\n \t\t\t\tname,\n \t\t\t\tinitialised: instance_scope.initialised_declarations.has(name),\n \t\t\t\thoistable: /^Import/.test(node.type),\n-\t\t\t\twritable: node.kind === 'var' || node.kind === 'let'\n+\t\t\t\twritable: node.kind === 'var' || node.kind === 'let' || node.type === 'FunctionDeclaration'\n \t\t\t});\n \n \t\t\tthis.node_for_declaration.set(name, node);\n"
            ]
        },
        {
            "sample_index": 1,
            "edit_locs": {
                "src/compiler/compile/Component.ts": [
                    "function: Component.walk_instance_js_pre_template\nline: 666\nline: 667\nfunction: Component.walk_module_js\nline: 605\nline: 606"
                ],
                "src/compiler/compile/render_dom/index.ts": [
                    ""
                ],
                "src/compiler/compile/render_dom/wrappers/Element/index.ts": [
                    ""
                ]
            },
            "patches": [
                "diff --git a/src/compiler/compile/Component.ts b/src/compiler/compile/Component.ts\nindex 7e33c30..bb89673 100644\n--- a/src/compiler/compile/Component.ts\n+++ b/src/compiler/compile/Component.ts\n@@ -602,7 +602,7 @@ export default class Component {\n \t\t\t\tname,\n \t\t\t\tmodule: true,\n \t\t\t\thoistable: true,\n-\t\t\t\twritable: node.kind === 'var' || node.kind === 'let'\n+\t\t\t\twritable: node.kind === 'var' || node.kind === 'let' || node.type === 'FunctionDeclaration'\n \t\t\t});\n \t\t});\n \n@@ -663,7 +663,7 @@ export default class Component {\n \t\t\t\tname,\n \t\t\t\tinitialised: instance_scope.initialised_declarations.has(name),\n \t\t\t\thoistable: /^Import/.test(node.type),\n-\t\t\t\twritable: node.kind === 'var' || node.kind === 'let'\n+\t\t\t\twritable: node.kind === 'var' || node.kind === 'let' || node.type === 'FunctionDeclaration'\n \t\t\t});\n \n \t\t\tthis.node_for_declaration.set(name, node);\n",
                "diff --git a/src/compiler/compile/Component.ts b/src/compiler/compile/Component.ts\nindex 7e33c30..eedf1e5 100644\n--- a/src/compiler/compile/Component.ts\n+++ b/src/compiler/compile/Component.ts\n@@ -602,7 +602,8 @@ export default class Component {\n \t\t\t\tname,\n \t\t\t\tmodule: true,\n \t\t\t\thoistable: true,\n-\t\t\t\twritable: node.kind === 'var' || node.kind === 'let'\n+\t\t\t\t// Function and class declarations are mutable bindings in JavaScript\n+\t\t\t\twritable: node.kind === 'var' || node.kind === 'let' || node.type === 'FunctionDeclaration' || node.type === 'ClassDeclaration'\n \t\t\t});\n \t\t});\n \n@@ -663,7 +664,8 @@ export default class Component {\n \t\t\t\tname,\n \t\t\t\tinitialised: instance_scope.initialised_declarations.has(name),\n \t\t\t\thoistable: /^Import/.test(node.type),\n-\t\t\t\twritable: node.kind === 'var' || node.kind === 'let'\n+\t\t\t\t// Function and class declarations are mutable bindings in JavaScript\n+\t\t\t\twritable: node.kind === 'var' || node.kind === 'let' || node.type === 'FunctionDeclaration' || node.type === 'ClassDeclaration'\n \t\t\t});\n \n \t\t\tthis.node_for_declaration.set(name, node);\n"
            ]
        }
    ],
    "6_final_selected_patch": "diff --git a/src/compiler/compile/Component.ts b/src/compiler/compile/Component.ts\nindex 7e33c30..bb89673 100644\n--- a/src/compiler/compile/Component.ts\n+++ b/src/compiler/compile/Component.ts\n@@ -602,7 +602,7 @@ export default class Component {\n \t\t\t\tname,\n \t\t\t\tmodule: true,\n \t\t\t\thoistable: true,\n-\t\t\t\twritable: node.kind === 'var' || node.kind === 'let'\n+\t\t\t\twritable: node.kind === 'var' || node.kind === 'let' || node.type === 'FunctionDeclaration'\n \t\t\t});\n \t\t});\n \n@@ -663,7 +663,7 @@ export default class Component {\n \t\t\t\tname,\n \t\t\t\tinitialised: instance_scope.initialised_declarations.has(name),\n \t\t\t\thoistable: /^Import/.test(node.type),\n-\t\t\t\twritable: node.kind === 'var' || node.kind === 'let'\n+\t\t\t\twritable: node.kind === 'var' || node.kind === 'let' || node.type === 'FunctionDeclaration'\n \t\t\t});\n \n \t\t\tthis.node_for_declaration.set(name, node);\n"
}