{
  "instance_id": "Multi-SWE-Bench__java__maintenance__bugfix__8b7cc5e0",
  "original_id": "alibaba__fastjson2-2775",
  "1_model_selected_files": [
    "core/src/main/java/com/alibaba/fastjson2/JSON.java"
  ],
  "2_embedding_selected_files": [
    "core/src/main/java/com/alibaba/fastjson2/JSONB.java",
    "core/src/main/java/com/alibaba/fastjson2/JSONReaderJSONB.java",
    "core/src/main/java/com/alibaba/fastjson2/JSONReader.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReaderInterface.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReaderSeeAlso.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReaderImplObject.java",
    "core/src/main/java/com/alibaba/fastjson2/JSON.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReaderBean.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReaderImplClass.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReaderImplJSONP.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReaderAdapter.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReader3.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReader2.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReader.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReader4.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReader6.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReaderImplMethod.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectArrayReaderMultiType.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReader5.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReader1.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReaderImplLocale.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReaderPrimitive.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReaderMisc.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReaderImplMapString.java",
    "core/src/main/java/com/alibaba/fastjson2/JSONObject.java",
    "core/src/main/java/com/alibaba/fastjson2/TypeReference.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReaderImplString.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReaderProvider.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReaderBaseModule.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReaderImplListStr.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReaderImplField.java",
    "core/src/main/java/com/alibaba/fastjson2/util/JodaSupport.java",
    "core/src/main/java/com/alibaba/fastjson2/reader/ObjectReader10.java"
  ],
  "3_final_combined_files": [
    "core/src/main/java/com/alibaba/fastjson2/JSON.java",
    "core/src/main/java/com/alibaba/fastjson2/JSONB.java",
    "core/src/main/java/com/alibaba/fastjson2/JSONReaderJSONB.java",
    "core/src/main/java/com/alibaba/fastjson2/JSONReader.java"
  ],
  "4_related_elements": {
    "core/src/main/java/com/alibaba/fastjson2/JSON.java": [
      ""
    ],
    "core/src/main/java/com/alibaba/fastjson2/JSONB.java": [
      ""
    ],
    "core/src/main/java/com/alibaba/fastjson2/JSONReaderJSONB.java": [
      ""
    ]
  },
  "5_sampled_edit_locs_and_patches": [
    {
      "sample_index": 0,
      "edit_locs": {
        "core/src/main/java/com/alibaba/fastjson2/JSON.java": [
          "class: JSON\nfunction: JSON.parseObject(String, Type, JSONReader.Context)"
        ],
        "core/src/main/java/com/alibaba/fastjson2/JSONB.java": [
          ""
        ],
        "core/src/main/java/com/alibaba/fastjson2/JSONReaderJSONB.java": [
          ""
        ]
      },
      "patches": [
        "diff --git a/core/src/main/java/com/alibaba/fastjson2/JSON.java b/core/src/main/java/com/alibaba/fastjson2/JSON.java\nindex 5668263..1836a4c 100644\n--- a/core/src/main/java/com/alibaba/fastjson2/JSON.java\n+++ b/core/src/main/java/com/alibaba/fastjson2/JSON.java\n@@ -999,6 +999,27 @@ public interface JSON {\n         }\n     }\n \n+    @SuppressWarnings(\"unchecked\")\n+    static <T> T parseObject(String text, Type type, JSONReader.Context context) {\n+        if (text == null || text.isEmpty()) {\n+            return null;\n+        }\n+\n+        boolean fieldBased = (context.features & JSONReader.Feature.FieldBased.mask) != 0;\n+        ObjectReader<T> objectReader = context.provider.getObjectReader(type, fieldBased);\n+\n+        try (JSONReader reader = JSONReader.of(text, context)) {\n+            T object = objectReader.readObject(reader, type, null, 0);\n+            if (reader.resolveTasks != null) {\n+                reader.handleResolveTasks(object);\n+            }\n+            if (reader.ch != EOI && (context.features & IgnoreCheckClose.mask) == 0) {\n+                throw new JSONException(reader.info(\"input not end\"));\n+            }\n+            return object;\n+        }\n+    }\n+\n     /**\n      * Parses the json string as {@link T}. Returns\n      * {@code null} if received {@link String} is {@code null} or empty.\n@@ -4320,4 +4341,4 @@ public interface JSON {\n             return (T) objectReader.readJSONBObject(jsonReader, null, null, 0);\n         }\n     }\n-}\n+}\n"
      ]
    },
    {
      "sample_index": 1,
      "edit_locs": {
        "core/src/main/java/com/alibaba/fastjson2/JSON.java": [
          ""
        ],
        "core/src/main/java/com/alibaba/fastjson2/JSONB.java": [
          ""
        ],
        "core/src/main/java/com/alibaba/fastjson2/JSONReaderJSONB.java": [
          ""
        ]
      },
      "patches": [
        "diff --git a/core/src/main/java/com/alibaba/fastjson2/JSON.java b/core/src/main/java/com/alibaba/fastjson2/JSON.java\nindex 5668263..49ef2d4 100644\n--- a/core/src/main/java/com/alibaba/fastjson2/JSON.java\n+++ b/core/src/main/java/com/alibaba/fastjson2/JSON.java\n@@ -1214,6 +1214,27 @@ public interface JSON {\n         }\n     }\n \n+    @SuppressWarnings(\"unchecked\")\n+    static <T> T parseObject(String text, Type type, JSONReader.Context context) {\n+        if (text == null || text.isEmpty()) {\n+            return null;\n+        }\n+\n+        boolean fieldBased = (context.features & JSONReader.Feature.FieldBased.mask) != 0;\n+        ObjectReader<T> objectReader = context.provider.getObjectReader(type, fieldBased);\n+\n+        try (JSONReader reader = JSONReader.of(text, context)) {\n+            T object = objectReader.readObject(reader, type, null, 0);\n+            if (reader.resolveTasks != null) {\n+                reader.handleResolveTasks(object);\n+            }\n+            if (reader.ch != EOI && (context.features & IgnoreCheckClose.mask) == 0) {\n+                throw new JSONException(reader.info(\"input not end\"));\n+            }\n+            return object;\n+        }\n+    }\n+\n     /**\n      * Parses the json string as {@link T}. Returns\n      * {@code null} if received {@link String} is {@code null} or empty.\n@@ -4320,4 +4341,4 @@ public interface JSON {\n             return (T) objectReader.readJSONBObject(jsonReader, null, null, 0);\n         }\n     }\n-}\n+}\n"
      ]
    }
  ],
  "6_final_selected_patch": "diff --git a/core/src/main/java/com/alibaba/fastjson2/JSON.java b/core/src/main/java/com/alibaba/fastjson2/JSON.java\nindex 5668263..1836a4c 100644\n--- a/core/src/main/java/com/alibaba/fastjson2/JSON.java\n+++ b/core/src/main/java/com/alibaba/fastjson2/JSON.java\n@@ -999,6 +999,27 @@ public interface JSON {\n         }\n     }\n \n+    @SuppressWarnings(\"unchecked\")\n+    static <T> T parseObject(String text, Type type, JSONReader.Context context) {\n+        if (text == null || text.isEmpty()) {\n+            return null;\n+        }\n+\n+        boolean fieldBased = (context.features & JSONReader.Feature.FieldBased.mask) != 0;\n+        ObjectReader<T> objectReader = context.provider.getObjectReader(type, fieldBased);\n+\n+        try (JSONReader reader = JSONReader.of(text, context)) {\n+            T object = objectReader.readObject(reader, type, null, 0);\n+            if (reader.resolveTasks != null) {\n+                reader.handleResolveTasks(object);\n+            }\n+            if (reader.ch != EOI && (context.features & IgnoreCheckClose.mask) == 0) {\n+                throw new JSONException(reader.info(\"input not end\"));\n+            }\n+            return object;\n+        }\n+    }\n+\n     /**\n      * Parses the json string as {@link T}. Returns\n      * {@code null} if received {@link String} is {@code null} or empty.\n@@ -4320,4 +4341,4 @@ public interface JSON {\n             return (T) objectReader.readJSONBObject(jsonReader, null, null, 0);\n         }\n     }\n-}\n+}\n",
  "7_resolved": true
}