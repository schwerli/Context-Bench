{
  "instance_id": "Multi-SWE-Bench__typescript__maintenance__bugfix__9907b12d",
  "original_id": "mui__material-ui-36088",
  "1_model_selected_files": [
    "packages/mui-material/src/useAutocomplete/useAutocomplete.js",
    "packages/mui-material/src/Autocomplete/Autocomplete.js",
    "packages/mui-material/src/Autocomplete/Autocomplete.test.js",
    "packages/mui-base/src/AutocompleteUnstyled/useAutocomplete.js"
  ],
  "2_embedding_selected_files": [
    "packages/mui-base/src/AutocompleteUnstyled/useAutocomplete.js",
    "packages/mui-material/src/Autocomplete/Autocomplete.test.js",
    "docs/data/material/components/autocomplete/FreeSoloCreateOption.js",
    "packages/mui-material/src/Autocomplete/Autocomplete.js",
    "docs/data/joy/components/autocomplete/FreeSoloCreateOption.js",
    "packages/mui-base/src/AutocompleteUnstyled/useAutocomplete.test.js",
    "packages/mui-codemod/src/v5.0.0/use-autocomplete.test/actual.js",
    "packages/mui-codemod/src/v5.0.0/use-autocomplete.test/expected.js",
    "docs/data/material/components/autocomplete/GitHubLabel.js",
    "docs/data/material/components/autocomplete/FreeSoloCreateOptionDialog.js",
    "docs/data/joy/components/autocomplete/FreeSoloCreateOptionDialog.js",
    "packages/mui-codemod/src/v5.0.0/autocomplete-rename-option.test/actual.js",
    "packages/mui-base/src/AutocompleteUnstyled/useAutocomplete.spec.ts",
    "docs/data/joy/components/autocomplete/FreeSolo.js",
    "docs/data/joy/components/autocomplete/GitHubLabel.js",
    "docs/data/material/components/autocomplete/FreeSolo.js",
    "packages/mui-base/src/AutocompleteUnstyled/useAutocomplete.d.ts",
    "packages/mui-codemod/src/v5.0.0/autocomplete-rename-option.test/expected.js",
    "packages/mui-joy/src/Autocomplete/AutocompleteProps.ts",
    "packages/mui-material/src/Select/Select.test.js",
    "docs/data/joy/components/autocomplete/Playground.js",
    "docs/data/joy/components/autocomplete/LabelAndHelperText.js"
  ],
  "3_final_combined_files": [
    "packages/mui-material/src/Autocomplete/Autocomplete.test.js",
    "packages/mui-material/src/useAutocomplete/useAutocomplete.js",
    "packages/mui-material/src/Autocomplete/Autocomplete.js",
    "packages/mui-base/src/AutocompleteUnstyled/useAutocomplete.js",
    "docs/data/material/components/autocomplete/FreeSoloCreateOption.js"
  ],
  "4_related_elements": {
    "packages/mui-material/src/Autocomplete/Autocomplete.js": [
      "function: Autocomplete\nvariable: getOptionLabel\nfunction: defaultRenderOption\nfunction: renderListOption\nvariable: groupedOptions\nvariable: freeSolo\nvariable: options\nvariable: value\nvariable: inputValue\nvariable: filterOptions\nvariable: onChange\nfunction: createFilterOptions\nfunction: useAutocomplete\nfunction: getOptionProps\nfunction: getInputProps"
    ],
    "packages/mui-material/src/useAutocomplete/useAutocomplete.js": [
      "function: useAutocomplete"
    ],
    "packages/mui-material/src/Autocomplete/Autocomplete.test.js": [
      ""
    ]
  },
  "5_sampled_edit_locs_and_patches": [
    {
      "sample_index": 0,
      "edit_locs": {
        "packages/mui-material/src/Autocomplete/Autocomplete.js": [
          "line: 409\nline: 447\nline: 467\nline: 501\nline: 538"
        ],
        "packages/mui-material/src/Autocomplete/Autocomplete.test.js": [
          ""
        ],
        "packages/mui-material/src/useAutocomplete/useAutocomplete.js": [
          ""
        ]
      },
      "patches": [
        "diff --git a/packages/mui-material/src/Autocomplete/Autocomplete.js b/packages/mui-material/src/Autocomplete/Autocomplete.js\nindex c49d02a..d2ea54f 100644\n--- a/packages/mui-material/src/Autocomplete/Autocomplete.js\n+++ b/packages/mui-material/src/Autocomplete/Autocomplete.js\n@@ -498,7 +498,7 @@ const Autocomplete = React.forwardRef(function Autocomplete(inProps, ref) {\n     } else {\n       startAdornment = value.map((option, index) => (\n         <Chip\n-          label={getOptionLabel(option)}\n+          label={typeof option === 'string' ? option : getOptionLabel(option)}\n           size={size}\n           {...getCustomizedTagProps({ index })}\n           {...ChipProps}\n@@ -535,7 +535,9 @@ const Autocomplete = React.forwardRef(function Autocomplete(inProps, ref) {\n   );\n \n   const renderGroup = renderGroupProp || defaultRenderGroup;\n-  const defaultRenderOption = (props2, option) => <li {...props2}>{getOptionLabel(option)}</li>;\n+  const defaultRenderOption = (props2, option) => (\n+    <li {...props2}>{typeof option === 'string' ? option : getOptionLabel(option)}</li>\n+  );\n   const renderOption = renderOptionProp || defaultRenderOption;\n \n   const renderListOption = (option, index) => {\n",
        "diff --git a/packages/mui-material/src/Autocomplete/Autocomplete.js b/packages/mui-material/src/Autocomplete/Autocomplete.js\nindex c49d02a..414acf0 100644\n--- a/packages/mui-material/src/Autocomplete/Autocomplete.js\n+++ b/packages/mui-material/src/Autocomplete/Autocomplete.js\n@@ -469,6 +469,16 @@ const Autocomplete = React.forwardRef(function Autocomplete(inProps, ref) {\n   const hasClearIcon = !disableClearable && !disabled && dirty && !readOnly;\n   const hasPopupIcon = (!freeSolo || forcePopupIcon === true) && forcePopupIcon !== false;\n \n+  // Use a safe wrapper to avoid calling user-provided getOptionLabel with a primitive.\n+  // In non-freeSolo mode, options should be objects. If due to a regression a string sneaks in,\n+  // render the string directly instead of invoking getOptionLabel.\n+  const getOptionLabelSafe = (optionParam) => {\n+    if (optionParam == null) {\n+      return '';\n+    }\n+    return typeof optionParam === 'string' ? optionParam : getOptionLabel(optionParam);\n+  };\n+\n   // If you modify this, make sure to keep the `AutocompleteOwnerState` type in sync.\n   const ownerState = {\n     ...props,\n@@ -498,7 +508,7 @@ const Autocomplete = React.forwardRef(function Autocomplete(inProps, ref) {\n     } else {\n       startAdornment = value.map((option, index) => (\n         <Chip\n-          label={getOptionLabel(option)}\n+          label={getOptionLabelSafe(option)}\n           size={size}\n           {...getCustomizedTagProps({ index })}\n           {...ChipProps}\n@@ -535,7 +545,7 @@ const Autocomplete = React.forwardRef(function Autocomplete(inProps, ref) {\n   );\n \n   const renderGroup = renderGroupProp || defaultRenderGroup;\n-  const defaultRenderOption = (props2, option) => <li {...props2}>{getOptionLabel(option)}</li>;\n+  const defaultRenderOption = (props2, option) => <li {...props2}>{getOptionLabelSafe(option)}</li>;\n   const renderOption = renderOptionProp || defaultRenderOption;\n \n   const renderListOption = (option, index) => {\n"
      ],
      "edit_loc_traj": {
        "prompt": "\nPlease review the following GitHub problem description and relevant files, and provide a set of locations that need to be edited to fix the issue.\nThe locations can be specified as class names, function or method names, or exact line numbers that require modification.\n\n### GitHub Problem Description ###\n[Autocomplete] Non-freesolo autocomplete acts like freesolo: passes string to `getOptionLabel` instead of option\n### Duplicates\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Latest version\r\n\r\n- [X] I have tested the latest version\r\n\r\n### Steps to reproduce üïπ\r\n\r\nSteps:\r\n1. Make a normal auto-complete (not free solo)\r\n2. Implement `getOptionLabel` as `(opt) => opt.property.subProperty` (for some \"property\" field)\r\n3. Play around with the autocomplete for a while (selecting an option, clearing the option, and clicking to expand the options)... eventually you will get a \r\n\r\n```\r\nTypeError: Cannot read properties of undefined (reading 'subProperty')\r\n```\r\nCodeSandbox: https://codesandbox.io/s/angry-tree-2jcp3o?file=/src/App.tsx\r\n\r\nI'm assuming that's because I'm being passed a string instead of an object of the expected type. However I was trying to debug this in prod with an upset user so I did not have time to check for sure.\r\n\r\nThis bug ONLY occurs on v5.11.7. When I pinned @mui/material to v5.11.6, the behavior went away, and user reported no further issues. I'm assuming this is the result of your recent changes to freesoloing autocompletes in the release from 3 days ago.\r\n\r\n### Current behavior üòØ\r\n\r\n_No response_\r\n\r\n### Expected behavior ü§î\r\n\r\n_No response_\r\n\r\n### Context üî¶\r\n\r\n_No response_\r\n\r\n### Your environment üåé\r\n\r\n_No response_\n\n###\n### packages/mui-material/src/Autocomplete/Autocomplete.js\n1|import * as React from 'react';\n2|import PropTypes from 'prop-types';\n3|import clsx from 'clsx';\n4|import { chainPropTypes, integerPropType } from '@mui/utils';\n5|import {\n6|  unstable_composeClasses as composeClasses,\n7|  useAutocomplete,\n8|  createFilterOptions,\n9|} from '@mui/base';\n10|import { alpha } from '@mui/system';\n11|import Popper from '../Popper';\n12|import ListSubheader from '../ListSubheader';\n13|import Paper from '../Paper';\n14|import IconButton from '../IconButton';\n15|import Chip from '../Chip';\n16|import inputClasses from '../Input/inputClasses';\n17|import inputBaseClasses from '../InputBase/inputBaseClasses';\n18|import outlinedInputClasses from '../OutlinedInput/outlinedInputClasses';\n19|import filledInputClasses from '../FilledInput/filledInputClasses';\n20|import ClearIcon from '../internal/svg-icons/Close';\n21|import ArrowDropDownIcon from '../internal/svg-icons/ArrowDropDown';\n22|import useThemeProps from '../styles/useThemeProps';\n23|import styled from '../styles/styled';\n24|import autocompleteClasses, { getAutocompleteUtilityClass } from './autocompleteClasses';\n25|import capitalize from '../utils/capitalize';\n26|\n27|const useUtilityClasses = (ownerState) => {\n28|  const {\n29|    classes,\n30|    disablePortal,\n31|    focused,\n32|    fullWidth,\n33|    hasClearIcon,\n34|    hasPopupIcon,\n35|    inputFocused,\n36|    popupOpen,\n37|    size,\n38|  } = ownerState;\n39|\n40|  const slots = {\n41|    root: [\n42|      'root',\n43|      focused && 'focused',\n44|      fullWidth && 'fullWidth',\n45|      hasClearIcon && 'hasClearIcon',\n46|      hasPopupIcon && 'hasPopupIcon',\n47|    ],\n48|    inputRoot: ['inputRoot'],\n49|    input: ['input', inputFocused && 'inputFocused'],\n50|    tag: ['tag', `tagSize${capitalize(size)}`],\n51|    endAdornment: ['endAdornment'],\n52|    clearIndicator: ['clearIndicator'],\n53|    popupIndicator: ['popupIndicator', popupOpen && 'popupIndicatorOpen'],\n54|    popper: ['popper', disablePortal && 'popperDisablePortal'],\n55|    paper: ['paper'],\n56|    listbox: ['listbox'],\n57|    loading: ['loading'],\n58|    noOptions: ['noOptions'],\n59|    option: ['option'],\n60|    groupLabel: ['groupLabel'],\n61|    groupUl: ['groupUl'],\n62|  };\n63|\n64|  return composeClasses(slots, getAutocompleteUtilityClass, classes);\n65|};\n66|\n67|const AutocompleteRoot = styled('div', {\n68|  name: 'MuiAutocomplete',\n69|  slot: 'Root',\n70|  overridesResolver: (props, styles) => {\n71|    const { ownerState } = props;\n72|    const { fullWidth, hasClearIcon, hasPopupIcon, inputFocused, size } = ownerState;\n73|\n74|    return [\n75|      { [`& .${autocompleteClasses.tag}`]: styles.tag },\n76|      { [`& .${autocompleteClasses.tag}`]: styles[`tagSize${capitalize(size)}`] },\n77|      { [`& .${autocompleteClasses.inputRoot}`]: styles.inputRoot },\n78|      { [`& .${autocompleteClasses.input}`]: styles.input },\n79|      { [`& .${autocompleteClasses.input}`]: inputFocused && styles.inputFocused },\n80|      styles.root,\n81|      fullWidth && styles.fullWidth,\n82|      hasPopupIcon && styles.hasPopupIcon,\n83|      hasClearIcon && styles.hasClearIcon,\n84|    ];\n85|  },\n86|})(({ ownerState }) => ({\n87|  [`&.${autocompleteClasses.focused} .${autocompleteClasses.clearIndicator}`]: {\n88|    visibility: 'visible',\n89|  },\n90|  /* Avoid double tap issue on iOS */\n91|  '@media (pointer: fine)': {\n92|    [`&:hover .${autocompleteClasses.clearIndicator}`]: {\n93|      visibility: 'visible',\n94|    },\n95|  },\n96|  ...(ownerState.fullWidth && {\n97|    width: '100%',\n98|  }),\n99|  [`& .${autocompleteClasses.tag}`]: {\n100|    margin: 3,\n101|    maxWidth: 'calc(100% - 6px)',\n102|    ...(ownerState.size === 'small' && {\n103|      margin: 2,\n104|      maxWidth: 'calc(100% - 4px)',\n105|    }),\n106|  },\n107|  [`& .${autocompleteClasses.inputRoot}`]: {\n108|    flexWrap: 'wrap',\n109|    [`.${autocompleteClasses.hasPopupIcon}&, .${autocompleteClasses.hasClearIcon}&`]: {\n110|      paddingRight: 26 + 4,\n111|    },\n112|    [`.${autocompleteClasses.hasPopupIcon}.${autocompleteClasses.hasClearIcon}&`]: {\n113|      paddingRight: 52 + 4,\n114|    },\n115|    [`& .${autocompleteClasses.input}`]: {\n116|      width: 0,\n117|      minWidth: 30,\n118|    },\n119|  },\n120|  [`& .${inputClasses.root}`]: {\n121|    paddingBottom: 1,\n122|    '& .MuiInput-input': {\n123|      padding: '4px 4px 4px 0px',\n124|    },\n125|  },\n126|  [`& .${inputClasses.root}.${inputBaseClasses.sizeSmall}`]: {\n127|    [`& .${inputClasses.input}`]: {\n128|      padding: '2px 4px 3px 0',\n129|    },\n130|  },\n131|  [`& .${outlinedInputClasses.root}`]: {\n132|    padding: 9,\n133|    [`.${autocompleteClasses.hasPopupIcon}&, .${autocompleteClasses.hasClearIcon}&`]: {\n134|      paddingRight: 26 + 4 + 9,\n135|    },\n136|    [`.${autocompleteClasses.hasPopupIcon}.${autocompleteClasses.hasClearIcon}&`]: {\n137|      paddingRight: 52 + 4 + 9,\n138|    },\n139|    [`& .${autocompleteClasses.input}`]: {\n140|      padding: '7.5px 4px 7.5px 6px',\n141|    },\n142|    [`& .${autocompleteClasses.endAdornment}`]: {\n143|      right: 9,\n144|    },\n145|  },\n146|  [`& .${outlinedInputClasses.root}.${inputBaseClasses.sizeSmall}`]: {\n147|    // Don't specify paddingRight, as it overrides the default value set when there is only\n148|    // one of the popup or clear icon as the specificity is equal so the latter one wins\n149|    paddingTop: 6,\n150|    paddingBottom: 6,\n151|    paddingLeft: 6,\n152|    [`& .${autocompleteClasses.input}`]: {\n153|      padding: '2.5px 4px 2.5px 6px',\n154|    },\n155|  },\n156|  [`& .${filledInputClasses.root}`]: {\n157|    paddingTop: 19,\n158|    paddingLeft: 8,\n159|    [`.${autocompleteClasses.hasPopupIcon}&, .${autocompleteClasses.hasClearIcon}&`]: {\n160|      paddingRight: 26 + 4 + 9,\n161|    },\n162|    [`.${autocompleteClasses.hasPopupIcon}.${autocompleteClasses.hasClearIcon}&`]: {\n163|      paddingRight: 52 + 4 + 9,\n164|    },\n165|    [`& .${filledInputClasses.input}`]: {\n166|      padding: '7px 4px',\n167|    },\n168|    [`& .${autocompleteClasses.endAdornment}`]: {\n169|      right: 9,\n170|    },\n171|  },\n172|  [`& .${filledInputClasses.root}.${inputBaseClasses.sizeSmall}`]: {\n173|    paddingBottom: 1,\n174|    [`& .${filledInputClasses.input}`]: {\n175|      padding: '2.5px 4px',\n176|    },\n177|  },\n178|  [`& .${inputBaseClasses.hiddenLabel}`]: {\n179|    paddingTop: 8,\n180|  },\n181|  [`& .${filledInputClasses.root}.${inputBaseClasses.hiddenLabel}`]: {\n182|    paddingTop: 0,\n183|    paddingBottom: 0,\n184|    [`& .${autocompleteClasses.input}`]: {\n185|      paddingTop: 16,\n186|      paddingBottom: 17,\n187|    },\n188|  },\n189|  [`& .${filledInputClasses.root}.${inputBaseClasses.hiddenLabel}.${inputBaseClasses.sizeSmall}`]: {\n190|    [`& .${autocompleteClasses.input}`]: {\n191|      paddingTop: 8,\n192|      paddingBottom: 9,\n193|    },\n194|  },\n195|  [`& .${autocompleteClasses.input}`]: {\n196|    flexGrow: 1,\n197|    textOverflow: 'ellipsis',\n198|    opacity: 0,\n199|    ...(ownerState.inputFocused && {\n200|      opacity: 1,\n201|    }),\n202|  },\n203|}));\n204|\n205|const AutocompleteEndAdornment = styled('div', {\n206|  name: 'MuiAutocomplete',\n207|  slot: 'EndAdornment',\n208|  overridesResolver: (props, styles) => styles.endAdornment,\n209|})({\n210|  // We use a position absolute to support wrapping tags.\n211|  position: 'absolute',\n212|  right: 0,\n213|  top: 'calc(50% - 14px)', // Center vertically\n214|});\n215|\n216|const AutocompleteClearIndicator = styled(IconButton, {\n217|  name: 'MuiAutocomplete',\n218|  slot: 'ClearIndicator',\n219|  overridesResolver: (props, styles) => styles.clearIndicator,\n220|})({\n221|  marginRight: -2,\n222|  padding: 4,\n223|  visibility: 'hidden',\n224|});\n225|\n226|const AutocompletePopupIndicator = styled(IconButton, {\n227|  name: 'MuiAutocomplete',\n228|  slot: 'PopupIndicator',\n229|  overridesResolver: ({ ownerState }, styles) => ({\n230|    ...styles.popupIndicator,\n231|    ...(ownerState.popupOpen && styles.popupIndicatorOpen),\n232|  }),\n233|})(({ ownerState }) => ({\n234|  padding: 2,\n235|  marginRight: -2,\n236|  ...(ownerState.popupOpen && {\n237|    transform: 'rotate(180deg)',\n238|  }),\n239|}));\n240|\n241|const AutocompletePopper = styled(Popper, {\n242|  name: 'MuiAutocomplete',\n243|  slot: 'Popper',\n244|  overridesResolver: (props, styles) => {\n245|    const { ownerState } = props;\n246|\n247|    return [\n248|      { [`& .${autocompleteClasses.option}`]: styles.option },\n249|      styles.popper,\n250|      ownerState.disablePortal && styles.popperDisablePortal,\n251|    ];\n252|  },\n253|})(({ theme, ownerState }) => ({\n254|  zIndex: (theme.vars || theme).zIndex.modal,\n255|  ...(ownerState.disablePortal && {\n256|    position: 'absolute',\n257|  }),\n258|}));\n259|\n260|const AutocompletePaper = styled(Paper, {\n261|  name: 'MuiAutocomplete',\n262|  slot: 'Paper',\n263|  overridesResolver: (props, styles) => styles.paper,\n264|})(({ theme }) => ({\n265|  ...theme.typography.body1,\n266|  overflow: 'auto',\n267|}));\n268|\n269|const AutocompleteLoading = styled('div', {\n270|  name: 'MuiAutocomplete',\n271|  slot: 'Loading',\n272|  overridesResolver: (props, styles) => styles.loading,\n273|})(({ theme }) => ({\n274|  color: (theme.vars || theme).palette.text.secondary,\n275|  padding: '14px 16px',\n276|}));\n277|\n278|const AutocompleteNoOptions = styled('div', {\n279|  name: 'MuiAutocomplete',\n280|  slot: 'NoOptions',\n281|  overridesResolver: (props, styles) => styles.noOptions,\n282|})(({ theme }) => ({\n283|  color: (theme.vars || theme).palette.text.secondary,\n284|  padding: '14px 16px',\n285|}));\n286|\n287|const AutocompleteListbox = styled('div', {\n288|  name: 'MuiAutocomplete',\n289|  slot: 'Listbox',\n290|  overridesResolver: (props, styles) => styles.listbox,\n291|})(({ theme }) => ({\n292|  listStyle: 'none',\n293|  margin: 0,\n294|  padding: '8px 0',\n295|  maxHeight: '40vh',\n296|  overflow: 'auto',\n297|  position: 'relative',\n298|  [`& .${autocompleteClasses.option}`]: {\n299|    minHeight: 48,\n300|    display: 'flex',\n301|    overflow: 'hidden',\n302|    justifyContent: 'flex-start',\n303|    alignItems: 'center',\n304|    cursor: 'pointer',\n305|    paddingTop: 6,\n306|    boxSizing: 'border-box',\n307|    outline: '0',\n308|    WebkitTapHighlightColor: 'transparent',\n309|    paddingBottom: 6,\n310|    paddingLeft: 16,\n311|    paddingRight: 16,\n312|    [theme.breakpoints.up('sm')]: {\n313|      minHeight: 'auto',\n314|    },\n315|    [`&.${autocompleteClasses.focused}`]: {\n316|      backgroundColor: (theme.vars || theme).palette.action.hover,\n317|      // Reset on touch devices, it doesn't add specificity\n318|      '@media (hover: none)': {\n319|        backgroundColor: 'transparent',\n320|      },\n321|    },\n322|    '&[aria-disabled=\"true\"]': {\n323|      opacity: (theme.vars || theme).palette.action.disabledOpacity,\n324|      pointerEvents: 'none',\n325|    },\n326|    [`&.${autocompleteClasses.focusVisible}`]: {\n327|      backgroundColor: (theme.vars || theme).palette.action.focus,\n328|    },\n329|    '&[aria-selected=\"true\"]': {\n330|      backgroundColor: theme.vars\n331|        ? `rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})`\n332|        : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity),\n333|      [`&.${autocompleteClasses.focused}`]: {\n334|        backgroundColor: theme.vars\n335|          ? `rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.hoverOpacity}))`\n336|          : alpha(\n337|              theme.palette.primary.main,\n338|              theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity,\n339|            ),\n340|        // Reset on touch devices, it doesn't add specificity\n341|        '@media (hover: none)': {\n342|          backgroundColor: (theme.vars || theme).palette.action.selected,\n343|        },\n344|      },\n345|      [`&.${autocompleteClasses.focusVisible}`]: {\n346|        backgroundColor: theme.vars\n347|          ? `rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.focusOpacity}))`\n348|          : alpha(\n349|              theme.palette.primary.main,\n350|              theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity,\n351|            ),\n352|      },\n353|    },\n354|  },\n355|}));\n356|\n357|const AutocompleteGroupLabel = styled(ListSubheader, {\n358|  name: 'MuiAutocomplete',\n359|  slot: 'GroupLabel',\n360|  overridesResolver: (props, styles) => styles.groupLabel,\n361|})(({ theme }) => ({\n362|  backgroundColor: (theme.vars || theme).palette.background.paper,\n363|  top: -8,\n364|}));\n365|\n366|const AutocompleteGroupUl = styled('ul', {\n367|  name: 'MuiAutocomplete',\n368|  slot: 'GroupUl',\n369|  overridesResolver: (props, styles) => styles.groupUl,\n370|})({\n371|  padding: 0,\n372|  [`& .${autocompleteClasses.option}`]: {\n373|    paddingLeft: 24,\n374|  },\n375|});\n376|\n377|export { createFilterOptions };\n378|\n379|const Autocomplete = React.forwardRef(function Autocomplete(inProps, ref) {\n380|  const props = useThemeProps({ props: inProps, name: 'MuiAutocomplete' });\n381|  /* eslint-disable @typescript-eslint/no-unused-vars */\n382|  const {\n383|    autoComplete = false,\n384|    autoHighlight = false,\n385|    autoSelect = false,\n386|    blurOnSelect = false,\n387|    ChipProps,\n388|    className,\n389|    clearIcon = <ClearIcon fontSize=\"small\" />,\n390|    clearOnBlur = !props.freeSolo,\n391|    clearOnEscape = false,\n392|    clearText = 'Clear',\n393|    closeText = 'Close',\n394|    componentsProps = {},\n395|    defaultValue = props.multiple ? [] : null,\n396|    disableClearable = false,\n397|    disableCloseOnSelect = false,\n398|    disabled = false,\n399|    disabledItemsFocusable = false,\n400|    disableListWrap = false,\n401|    disablePortal = false,\n402|    filterOptions,\n403|    filterSelectedOptions = false,\n404|    forcePopupIcon = 'auto',\n405|    freeSolo = false,\n406|    fullWidth = false,\n407|    getLimitTagsText = (more) => `+${more}`,\n408|    getOptionDisabled,\n409|    getOptionLabel = (option) => option.label ?? option,\n410|    isOptionEqualToValue,\n411|    groupBy,\n412|    handleHomeEndKeys = !props.freeSolo,\n413|    id: idProp,\n414|    includeInputInList = false,\n415|    inputValue: inputValueProp,\n416|    limitTags = -1,\n417|    ListboxComponent = 'ul',\n418|    ListboxProps,\n419|    loading = false,\n420|    loadingText = 'Loading‚Ä¶',\n421|    multiple = false,\n422|    noOptionsText = 'No options',\n423|    onChange,\n424|    onClose,\n425|    onHighlightChange,\n426|    onInputChange,\n427|    onOpen,\n428|    open,\n429|    openOnFocus = false,\n430|    openText = 'Open',\n431|    options,\n432|    PaperComponent = Paper,\n433|    PopperComponent = Popper,\n434|    popupIcon = <ArrowDropDownIcon />,\n435|    readOnly = false,\n436|    renderGroup: renderGroupProp,\n437|    renderInput,\n438|    renderOption: renderOptionProp,\n439|    renderTags,\n440|    selectOnFocus = !props.freeSolo,\n441|    size = 'medium',\n442|    slotProps = {},\n443|    value: valueProp,\n444|    ...other\n445|  } = props;\n446|  /* eslint-enable @typescript-eslint/no-unused-vars */\n447|\n448|  const {\n449|    getRootProps,\n450|    getInputProps,\n451|    getInputLabelProps,\n452|    getPopupIndicatorProps,\n453|    getClearProps,\n454|    getTagProps,\n455|    getListboxProps,\n456|    getOptionProps,\n457|    value,\n458|    dirty,\n459|    id,\n460|    popupOpen,\n461|    focused,\n462|    focusedTag,\n463|    anchorEl,\n464|    setAnchorEl,\n465|    inputValue,\n466|    groupedOptions,\n467|  } = useAutocomplete({ ...props, componentName: 'Autocomplete' });\n468|\n469|  const hasClearIcon = !disableClearable && !disabled && dirty && !readOnly;\n470|  const hasPopupIcon = (!freeSolo || forcePopupIcon === true) && forcePopupIcon !== false;\n471|\n472|  // If you modify this, make sure to keep the `AutocompleteOwnerState` type in sync.\n473|  const ownerState = {\n474|    ...props,\n475|    disablePortal,\n476|    focused,\n477|    fullWidth,\n478|    hasClearIcon,\n479|    hasPopupIcon,\n480|    inputFocused: focusedTag === -1,\n481|    popupOpen,\n482|    size,\n483|  };\n484|\n485|  const classes = useUtilityClasses(ownerState);\n486|\n487|  let startAdornment;\n488|\n489|  if (multiple && value.length > 0) {\n490|    const getCustomizedTagProps = (params) => ({\n491|      className: classes.tag,\n492|      disabled,\n493|      ...getTagProps(params),\n494|    });\n495|\n496|    if (renderTags) {\n497|      startAdornment = renderTags(value, getCustomizedTagProps, ownerState);\n498|    } else {\n499|      startAdornment = value.map((option, index) => (\n500|        <Chip\n501|          label={getOptionLabel(option)}\n502|          size={size}\n503|          {...getCustomizedTagProps({ index })}\n504|          {...ChipProps}\n505|        />\n506|      ));\n507|    }\n508|  }\n509|\n510|  if (limitTags > -1 && Array.isArray(startAdornment)) {\n511|    const more = startAdornment.length - limitTags;\n512|    if (!focused && more > 0) {\n513|      startAdornment = startAdornment.splice(0, limitTags);\n514|      startAdornment.push(\n515|        <span className={classes.tag} key={startAdornment.length}>\n516|          {getLimitTagsText(more)}\n517|        </span>,\n518|      );\n519|    }\n520|  }\n521|\n522|  const defaultRenderGroup = (params) => (\n523|    <li key={params.key}>\n524|      <AutocompleteGroupLabel\n525|        className={classes.groupLabel}\n526|        ownerState={ownerState}\n527|        component=\"div\"\n528|      >\n529|        {params.group}\n530|      </AutocompleteGroupLabel>\n531|      <AutocompleteGroupUl className={classes.groupUl} ownerState={ownerState}>\n532|        {params.children}\n533|      </AutocompleteGroupUl>\n534|    </li>\n535|  );\n536|\n537|  const renderGroup = renderGroupProp || defaultRenderGroup;\n538|  const defaultRenderOption = (props2, option) => <li {...props2}>{getOptionLabel(option)}</li>;\n539|  const renderOption = renderOptionProp || defaultRenderOption;\n540|\n541|  const renderListOption = (option, index) => {\n542|    const optionProps = getOptionProps({ option, index });\n543|\n544|    return renderOption({ ...optionProps, className: classes.option }, option, {\n545|      selected: optionProps['aria-selected'],\n546|      index,\n547|      inputValue,\n548|    });\n549|  };\n550|\n551|  const clearIndicatorSlotProps = slotProps.clearIndicator ?? componentsProps.clearIndicator;\n552|  const paperSlotProps = slotProps.paper ?? componentsProps.paper;\n553|  const popperSlotProps = slotProps.popper ?? componentsProps.popper;\n554|  const popupIndicatorSlotProps = slotProps.popupIndicator ?? componentsProps.popupIndicator;\n555|\n556|  return (\n557|    <React.Fragment>\n558|      <AutocompleteRoot\n559|        ref={ref}\n560|        className={clsx(classes.root, className)}\n561|        ownerState={ownerState}\n562|        {...getRootProps(other)}\n563|      >\n564|        {renderInput({\n565|          id,\n566|          disabled,\n567|          fullWidth: true,\n568|          size: size === 'small' ? 'small' : undefined,\n569|          InputLabelProps: getInputLabelProps(),\n570|          InputProps: {\n571|            ref: setAnchorEl,\n572|            className: classes.inputRoot,\n573|            startAdornment,\n574|            ...((hasClearIcon || hasPopupIcon) && {\n575|              endAdornment: (\n576|                <AutocompleteEndAdornment className={classes.endAdornment} ownerState={ownerState}>\n577|                  {hasClearIcon ? (\n578|                    <AutocompleteClearIndicator\n579|                      {...getClearProps()}\n580|                      aria-label={clearText}\n581|                      title={clearText}\n582|                      ownerState={ownerState}\n583|                      {...clearIndicatorSlotProps}\n584|                      className={clsx(classes.clearIndicator, clearIndicatorSlotProps?.className)}\n585|                    >\n586|                      {clearIcon}\n587|                    </AutocompleteClearIndicator>\n588|                  ) : null}\n589|\n590|                  {hasPopupIcon ? (\n591|                    <AutocompletePopupIndicator\n592|                      {...getPopupIndicatorProps()}\n593|                      disabled={disabled}\n594|                      aria-label={popupOpen ? closeText : openText}\n595|                      title={popupOpen ? closeText : openText}\n596|                      ownerState={ownerState}\n597|                      {...popupIndicatorSlotProps}\n598|                      className={clsx(classes.popupIndicator, popupIndicatorSlotProps?.className)}\n599|                    >\n600|                      {popupIcon}\n601|                    </AutocompletePopupIndicator>\n602|                  ) : null}\n603|                </AutocompleteEndAdornment>\n604|              ),\n605|            }),\n606|          },\n607|          inputProps: {\n608|            className: classes.input,\n609|            disabled,\n610|            readOnly,\n611|            ...getInputProps(),\n612|          },\n613|        })}\n614|      </AutocompleteRoot>\n615|      {anchorEl ? (\n616|        <AutocompletePopper\n617|          as={PopperComponent}\n618|          disablePortal={disablePortal}\n619|          style={{\n620|            width: anchorEl ? anchorEl.clientWidth : null,\n621|          }}\n622|          ownerState={ownerState}\n623|          role=\"presentation\"\n624|          anchorEl={anchorEl}\n625|          open={popupOpen}\n626|          {...popperSlotProps}\n627|          className={clsx(classes.popper, popperSlotProps?.className)}\n628|        >\n629|          <AutocompletePaper\n630|            ownerState={ownerState}\n631|            as={PaperComponent}\n632|            {...paperSlotProps}\n633|            className={clsx(classes.paper, paperSlotProps?.className)}\n634|          >\n635|            {loading && groupedOptions.length === 0 ? (\n636|              <AutocompleteLoading className={classes.loading} ownerState={ownerState}>\n637|                {loadingText}\n638|              </AutocompleteLoading>\n639|            ) : null}\n640|            {groupedOptions.length === 0 && !freeSolo && !loading ? (\n641|              <AutocompleteNoOptions\n642|                className={classes.noOptions}\n643|                ownerState={ownerState}\n644|                role=\"presentation\"\n645|                onMouseDown={(event) => {\n646|                  // Prevent input blur when interacting with the \"no options\" content\n647|                  event.preventDefault();\n648|                }}\n649|              >\n650|                {noOptionsText}\n651|              </AutocompleteNoOptions>\n652|            ) : null}\n653|            {groupedOptions.length > 0 ? (\n654|              <AutocompleteListbox\n655|                as={ListboxComponent}\n656|                className={classes.listbox}\n657|                ownerState={ownerState}\n658|                {...getListboxProps()}\n659|                {...ListboxProps}\n660|              >\n661|                {groupedOptions.map((option, index) => {\n662|                  if (groupBy) {\n663|                    return renderGroup({\n664|                      key: option.key,\n665|                      group: option.group,\n666|                      children: option.options.map((option2, index2) =>\n667|                        renderListOption(option2, option.index + index2),\n668|                      ),\n669|                    });\n670|                  }\n671|                  return renderListOption(option, index);\n672|                })}\n673|              </AutocompleteListbox>\n674|            ) : null}\n675|          </AutocompletePaper>\n676|        </AutocompletePopper>\n677|      ) : null}\n678|    </React.Fragment>\n679|  );\n680|});\n681|\n682|Autocomplete.propTypes /* remove-proptypes */ = {\n683|  // ----------------------------- Warning --------------------------------\n684|  // | These PropTypes are generated from the TypeScript type definitions |\n685|  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n686|  // ----------------------------------------------------------------------\n687|  /**\n688|   * If `true`, the portion of the selected suggestion that has not been typed by the user,\n689|   * known as the completion string, appears inline after the input cursor in the textbox.\n690|   * The inline completion string is visually highlighted and has a selected state.\n691|   * @default false\n692|   */\n693|  autoComplete: PropTypes.bool,\n694|  /**\n695|   * If `true`, the first option is automatically highlighted.\n696|   * @default false\n697|   */\n698|  autoHighlight: PropTypes.bool,\n699|  /**\n700|   * If `true`, the selected option becomes the value of the input\n701|   * when the Autocomplete loses focus unless the user chooses\n702|   * a different option or changes the character string in the input.\n703|   * @default false\n704|   */\n705|  autoSelect: PropTypes.bool,\n706|  /**\n707|   * Control if the input should be blurred when an option is selected:\n708|   *\n709|   * - `false` the input is not blurred.\n710|   * - `true` the input is always blurred.\n711|   * - `touch` the input is blurred after a touch event.\n712|   * - `mouse` the input is blurred after a mouse event.\n713|   * @default false\n714|   */\n715|  blurOnSelect: PropTypes.oneOfType([PropTypes.oneOf(['mouse', 'touch']), PropTypes.bool]),\n716|  /**\n717|   * Props applied to the [`Chip`](/material-ui/api/chip/) element.\n718|   */\n719|  ChipProps: PropTypes.object,\n720|  /**\n721|   * Override or extend the styles applied to the component.\n722|   */\n723|  classes: PropTypes.object,\n724|  /**\n725|   * @ignore\n726|   */\n727|  className: PropTypes.string,\n728|  /**\n729|   * The icon to display in place of the default clear icon.\n730|   * @default <ClearIcon fontSize=\"small\" />\n731|   */\n732|  clearIcon: PropTypes.node,\n733|  /**\n734|   * If `true`, the input's text is cleared on blur if no value is selected.\n735|   *\n736|   * Set to `true` if you want to help the user enter a new value.\n737|   * Set to `false` if you want to help the user resume their search.\n738|   * @default !props.freeSolo\n739|   */\n740|  clearOnBlur: PropTypes.bool,\n741|  /**\n742|   * If `true`, clear all values when the user presses escape and the popup is closed.\n743|   * @default false\n744|   */\n745|  clearOnEscape: PropTypes.bool,\n746|  /**\n747|   * Override the default text for the *clear* icon button.\n748|   *\n749|   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).\n750|   * @default 'Clear'\n751|   */\n752|  clearText: PropTypes.string,\n753|  /**\n754|   * Override the default text for the *close popup* icon button.\n755|   *\n756|   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).\n757|   * @default 'Close'\n758|   */\n759|  closeText: PropTypes.string,\n760|  /**\n761|   * The props used for each slot inside.\n762|   * @default {}\n763|   */\n764|  componentsProps: PropTypes.shape({\n765|    clearIndicator: PropTypes.object,\n766|    paper: PropTypes.object,\n767|    popper: PropTypes.object,\n768|    popupIndicator: PropTypes.object,\n769|  }),\n770|  /**\n771|   * The default value. Use when the component is not controlled.\n772|   * @default props.multiple ? [] : null\n773|   */\n774|  defaultValue: chainPropTypes(PropTypes.any, (props) => {\n775|    if (props.multiple && props.defaultValue !== undefined && !Array.isArray(props.defaultValue)) {\n776|      return new Error(\n777|        [\n778|          'MUI: The Autocomplete expects the `defaultValue` prop to be an array when `multiple={true}` or undefined.',\n779|          `However, ${props.defaultValue} was provided.`,\n780|        ].join('\\n'),\n781|      );\n782|    }\n783|    return null;\n784|  }),\n785|  /**\n786|   * If `true`, the input can't be cleared.\n787|   * @default false\n788|   */\n789|  disableClearable: PropTypes.bool,\n790|  /**\n791|   * If `true`, the popup won't close when a value is selected.\n792|   * @default false\n793|   */\n794|  disableCloseOnSelect: PropTypes.bool,\n795|  /**\n796|   * If `true`, the component is disabled.\n797|   * @default false\n798|   */\n799|  disabled: PropTypes.bool,\n800|  /**\n801|   * If `true`, will allow focus on disabled items.\n802|   * @default false\n803|   */\n804|  disabledItemsFocusable: PropTypes.bool,\n805|  /**\n806|   * If `true`, the list box in the popup will not wrap focus.\n807|   * @default false\n808|   */\n809|  disableListWrap: PropTypes.bool,\n810|  /**\n811|   * If `true`, the `Popper` content will be under the DOM hierarchy of the parent component.\n812|   * @default false\n813|   */\n814|  disablePortal: PropTypes.bool,\n815|  /**\n816|   * A function that determines the filtered options to be rendered on search.\n817|   *\n818|   * @param {T[]} options The options to render.\n819|   * @param {object} state The state of the component.\n820|   * @returns {T[]}\n821|   */\n822|  filterOptions: PropTypes.func,\n823|  /**\n824|   * If `true`, hide the selected options from the list box.\n825|   * @default false\n826|   */\n827|  filterSelectedOptions: PropTypes.bool,\n828|  /**\n829|   * Force the visibility display of the popup icon.\n830|   * @default 'auto'\n831|   */\n832|  forcePopupIcon: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.bool]),\n833|  /**\n834|   * If `true`, the Autocomplete is free solo, meaning that the user input is not bound to provided options.\n835|   * @default false\n836|   */\n837|  freeSolo: PropTypes.bool,\n838|  /**\n839|   * If `true`, the input will take up the full width of its container.\n840|   * @default false\n841|   */\n842|  fullWidth: PropTypes.bool,\n843|  /**\n844|   * The label to display when the tags are truncated (`limitTags`).\n845|   *\n846|   * @param {number} more The number of truncated tags.\n847|   * @returns {ReactNode}\n848|   * @default (more) => `+${more}`\n849|   */\n850|  getLimitTagsText: PropTypes.func,\n851|  /**\n852|   * Used to determine the disabled state for a given option.\n853|   *\n854|   * @param {T} option The option to test.\n855|   * @returns {boolean}\n856|   */\n857|  getOptionDisabled: PropTypes.func,\n858|  /**\n859|   * Used to determine the string value for a given option.\n860|   * It's used to fill the input (and the list box options if `renderOption` is not provided).\n861|   *\n862|   * If used in free solo mode, it must accept both the type of the options and a string.\n863|   *\n864|   * @param {T} option\n865|   * @returns {string}\n866|   * @default (option) => option.label ?? option\n867|   */\n868|  getOptionLabel: PropTypes.func,\n869|  /**\n870|   * If provided, the options will be grouped under the returned string.\n871|   * The groupBy value is also used as the text for group headings when `renderGroup` is not provided.\n872|   *\n873|   * @param {T} options The options to group.\n874|   * @returns {string}\n875|   */\n876|  groupBy: PropTypes.func,\n877|  /**\n878|   * If `true`, the component handles the \"Home\" and \"End\" keys when the popup is open.\n879|   * It should move focus to the first option and last option, respectively.\n880|   * @default !props.freeSolo\n881|   */\n882|  handleHomeEndKeys: PropTypes.bool,\n883|  /**\n884|   * This prop is used to help implement the accessibility logic.\n885|   * If you don't provide an id it will fall back to a randomly generated one.\n886|   */\n887|  id: PropTypes.string,\n888|  /**\n889|   * If `true`, the highlight can move to the input.\n890|   * @default false\n891|   */\n892|  includeInputInList: PropTypes.bool,\n893|  /**\n894|   * The input value.\n895|   */\n896|  inputValue: PropTypes.string,\n897|  /**\n898|   * Used to determine if the option represents the given value.\n899|   * Uses strict equality by default.\n900|   * ‚ö†Ô∏è Both arguments need to be handled, an option can only match with one value.\n901|   *\n902|   * @param {T} option The option to test.\n903|   * @param {T} value The value to test against.\n904|   * @returns {boolean}\n905|   */\n906|  isOptionEqualToValue: PropTypes.func,\n907|  /**\n908|   * The maximum number of tags that will be visible when not focused.\n909|   * Set `-1` to disable the limit.\n910|   * @default -1\n911|   */\n912|  limitTags: integerPropType,\n913|  /**\n914|   * The component used to render the listbox.\n915|   * @default 'ul'\n916|   */\n917|  ListboxComponent: PropTypes.elementType,\n918|  /**\n919|   * Props applied to the Listbox element.\n920|   */\n921|  ListboxProps: PropTypes.object,\n922|  /**\n923|   * If `true`, the component is in a loading state.\n924|   * This shows the `loadingText` in place of suggestions (only if there are no suggestions to show, e.g. `options` are empty).\n925|   * @default false\n926|   */\n927|  loading: PropTypes.bool,\n928|  /**\n929|   * Text to display when in a loading state.\n930|   *\n931|   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).\n932|   * @default 'Loading‚Ä¶'\n933|   */\n934|  loadingText: PropTypes.node,\n935|  /**\n936|   * If `true`, `value` must be an array and the menu will support multiple selections.\n937|   * @default false\n938|   */\n939|  multiple: PropTypes.bool,\n940|  /**\n941|   * Text to display when there are no options.\n942|   *\n943|   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).\n944|   * @default 'No options'\n945|   */\n946|  noOptionsText: PropTypes.node,\n947|  /**\n948|   * Callback fired when the value changes.\n949|   *\n950|   * @param {React.SyntheticEvent} event The event source of the callback.\n951|   * @param {T|T[]} value The new value of the component.\n952|   * @param {string} reason One of \"createOption\", \"selectOption\", \"removeOption\", \"blur\" or \"clear\".\n953|   * @param {string} [details]\n954|   */\n955|  onChange: PropTypes.func,\n956|  /**\n957|   * Callback fired when the popup requests to be closed.\n958|   * Use in controlled mode (see open).\n959|   *\n960|   * @param {React.SyntheticEvent} event The event source of the callback.\n961|   * @param {string} reason Can be: `\"toggleInput\"`, `\"escape\"`, `\"selectOption\"`, `\"removeOption\"`, `\"blur\"`.\n962|   */\n963|  onClose: PropTypes.func,\n964|  /**\n965|   * Callback fired when the highlight option changes.\n966|   *\n967|   * @param {React.SyntheticEvent} event The event source of the callback.\n968|   * @param {T} option The highlighted option.\n969|   * @param {string} reason Can be: `\"keyboard\"`, `\"auto\"`, `\"mouse\"`.\n970|   */\n971|  onHighlightChange: PropTypes.func,\n972|  /**\n973|   * Callback fired when the input value changes.\n974|   *\n975|   * @param {React.SyntheticEvent} event The event source of the callback.\n976|   * @param {string} value The new value of the text input.\n977|   * @param {string} reason Can be: `\"input\"` (user input), `\"reset\"` (programmatic change), `\"clear\"`.\n978|   */\n979|  onInputChange: PropTypes.func,\n980|  /**\n981|   * Callback fired when the popup requests to be opened.\n982|   * Use in controlled mode (see open).\n983|   *\n984|   * @param {React.SyntheticEvent} event The event source of the callback.\n985|   */\n986|  onOpen: PropTypes.func,\n987|  /**\n988|   * If `true`, the component is shown.\n989|   */\n990|  open: PropTypes.bool,\n991|  /**\n992|   * If `true`, the popup will open on input focus.\n993|   * @default false\n994|   */\n995|  openOnFocus: PropTypes.bool,\n996|  /**\n997|   * Override the default text for the *open popup* icon button.\n998|   *\n999|   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).\n1000|   * @default 'Open'\n1001|   */\n1002|  openText: PropTypes.string,\n1003|  /**\n1004|   * Array of options.\n1005|   */\n1006|  options: PropTypes.array.isRequired,\n1007|  /**\n1008|   * The component used to render the body of the popup.\n1009|   * @default Paper\n1010|   */\n1011|  PaperComponent: PropTypes.elementType,\n1012|  /**\n1013|   * The component used to position the popup.\n1014|   * @default Popper\n1015|   */\n1016|  PopperComponent: PropTypes.elementType,\n1017|  /**\n1018|   * The icon to display in place of the default popup icon.\n1019|   * @default <ArrowDropDownIcon />\n1020|   */\n1021|  popupIcon: PropTypes.node,\n1022|  /**\n1023|   * If `true`, the component becomes readonly. It is also supported for multiple tags where the tag cannot be deleted.\n1024|   * @default false\n1025|   */\n1026|  readOnly: PropTypes.bool,\n1027|  /**\n1028|   * Render the group.\n1029|   *\n1030|   * @param {AutocompleteRenderGroupParams} params The group to render.\n1031|   * @returns {ReactNode}\n1032|   */\n1033|  renderGroup: PropTypes.func,\n1034|  /**\n1035|   * Render the input.\n1036|   *\n1037|   * @param {object} params\n1038|   * @returns {ReactNode}\n1039|   */\n1040|  renderInput: PropTypes.func.isRequired,\n1041|  /**\n1042|   * Render the option, use `getOptionLabel` by default.\n1043|   *\n1044|   * @param {object} props The props to apply on the li element.\n1045|   * @param {T} option The option to render.\n1046|   * @param {object} state The state of the component.\n1047|   * @returns {ReactNode}\n1048|   */\n1049|  renderOption: PropTypes.func,\n1050|  /**\n1051|   * Render the selected value.\n1052|   *\n1053|   * @param {T[]} value The `value` provided to the component.\n1054|   * @param {function} getTagProps A tag props getter.\n1055|   * @param {object} ownerState The state of the Autocomplete component.\n1056|   * @returns {ReactNode}\n1057|   */\n1058|  renderTags: PropTypes.func,\n1059|  /**\n1060|   * If `true`, the input's text is selected on focus.\n1061|   * It helps the user clear the selected value.\n1062|   * @default !props.freeSolo\n1063|   */\n1064|  selectOnFocus: PropTypes.bool,\n1065|  /**\n1066|   * The size of the component.\n1067|   * @default 'medium'\n1068|   */\n1069|  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([\n1070|    PropTypes.oneOf(['small', 'medium']),\n1071|    PropTypes.string,\n1072|  ]),\n1073|  /**\n1074|   * The props used for each slot inside.\n1075|   * @default {}\n1076|   */\n1077|  slotProps: PropTypes.shape({\n1078|    clearIndicator: PropTypes.object,\n1079|    paper: PropTypes.object,\n1080|    popper: PropTypes.object,\n1081|    popupIndicator: PropTypes.object,\n1082|  }),\n1083|  /**\n1084|   * The system prop that allows defining system overrides as well as additional CSS styles.\n1085|   */\n1086|  sx: PropTypes.oneOfType([\n1087|    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])),\n1088|    PropTypes.func,\n1089|    PropTypes.object,\n1090|  ]),\n1091|  /**\n1092|   * The value of the autocomplete.\n1093|   *\n1094|   * The value must have reference equality with the option in order to be selected.\n1095|   * You can customize the equality behavior with the `isOptionEqualToValue` prop.\n1096|   */\n1097|  value: chainPropTypes(PropTypes.any, (props) => {\n1098|    if (props.multiple && props.value !== undefined && !Array.isArray(props.value)) {\n1099|      return new Error(\n1100|        [\n1101|          'MUI: The Autocomplete expects the `value` prop to be an array when `multiple={true}` or undefined.',\n1102|          `However, ${props.value} was provided.`,\n1103|        ].join('\\n'),\n1104|      );\n1105|    }\n1106|    return null;\n1107|  }),\n1108|};\n1109|\n1110|export default Autocomplete;\n\n\n### packages/mui-material/src/useAutocomplete/useAutocomplete.js\n1|export { useAutocomplete as default } from '@mui/base/AutocompleteUnstyled';\n2|export * from '@mui/base/AutocompleteUnstyled';\n\n\n\n\n###\n\nPlease provide the class name, function or method name, or the exact line numbers that need to be edited.\nThe possible location outputs should be either \"class\", \"function\" or \"line\".\n\n### Examples:\n```\nfull_path1/file1.ts\nline: 10\nclass: MyClass1\nline: 51\n\nfull_path2/file2.ts\nfunction: MyClass2.my_method\nline: 12\n\nfull_path3/file3.ts\nfunction: my_function\nline: 24\nline: 156\n```\n\nReturn just the location(s) wrapped with ```.\n",
        "response": [
          "```\npackages/mui-material/src/Autocomplete/Autocomplete.js\nline: 409\nline: 447\nline: 467\nline: 501\nline: 538\n```",
          "```\npackages/mui-material/src/Autocomplete/Autocomplete.js\nline: 501\nline: 538\n```"
        ],
        "usage": {
          "completion_tokens": 0,
          "prompt_tokens": 0
        }
      },
      "additional_artifact_loc_edit_location": [
        {
          "raw_output_loc": [
            "```\npackages/mui-material/src/Autocomplete/Autocomplete.js\nline: 409\nline: 447\nline: 467\nline: 501\nline: 538\n```",
            "```\npackages/mui-material/src/Autocomplete/Autocomplete.js\nline: 501\nline: 538\n```"
          ]
        }
      ]
    },
    {
      "sample_index": 1,
      "edit_locs": {
        "packages/mui-material/src/Autocomplete/Autocomplete.js": [
          "line: 501\nline: 538"
        ],
        "packages/mui-material/src/Autocomplete/Autocomplete.test.js": [
          ""
        ],
        "packages/mui-material/src/useAutocomplete/useAutocomplete.js": [
          ""
        ]
      },
      "patches": [
        "diff --git a/packages/mui-material/src/Autocomplete/Autocomplete.js b/packages/mui-material/src/Autocomplete/Autocomplete.js\nindex c49d02a..cdcf4ad 100644\n--- a/packages/mui-material/src/Autocomplete/Autocomplete.js\n+++ b/packages/mui-material/src/Autocomplete/Autocomplete.js\n@@ -498,7 +498,7 @@ const Autocomplete = React.forwardRef(function Autocomplete(inProps, ref) {\n     } else {\n       startAdornment = value.map((option, index) => (\n         <Chip\n-          label={getOptionLabel(option)}\n+          label={typeof option === 'string' ? option : getOptionLabel(option)}\n           size={size}\n           {...getCustomizedTagProps({ index })}\n           {...ChipProps}\n@@ -535,7 +535,7 @@ const Autocomplete = React.forwardRef(function Autocomplete(inProps, ref) {\n   );\n \n   const renderGroup = renderGroupProp || defaultRenderGroup;\n-  const defaultRenderOption = (props2, option) => <li {...props2}>{getOptionLabel(option)}</li>;\n+  const defaultRenderOption = (props2, option) => <li {...props2}>{typeof option === 'string' ? option : getOptionLabel(option)}</li>;\n   const renderOption = renderOptionProp || defaultRenderOption;\n \n   const renderListOption = (option, index) => {\n",
        "diff --git a/packages/mui-material/src/Autocomplete/Autocomplete.js b/packages/mui-material/src/Autocomplete/Autocomplete.js\nindex c49d02a..db410ef 100644\n--- a/packages/mui-material/src/Autocomplete/Autocomplete.js\n+++ b/packages/mui-material/src/Autocomplete/Autocomplete.js\n@@ -498,7 +498,7 @@ const Autocomplete = React.forwardRef(function Autocomplete(inProps, ref) {\n     } else {\n       startAdornment = value.map((option, index) => (\n         <Chip\n-          label={getOptionLabel(option)}\n+          label={getResolvedOptionLabel(option)}\n           size={size}\n           {...getCustomizedTagProps({ index })}\n           {...ChipProps}\n@@ -535,7 +535,18 @@ const Autocomplete = React.forwardRef(function Autocomplete(inProps, ref) {\n   );\n \n   const renderGroup = renderGroupProp || defaultRenderGroup;\n-  const defaultRenderOption = (props2, option) => <li {...props2}>{getOptionLabel(option)}</li>;\n+  // Avoid calling user-provided getOptionLabel with primitive values that may appear due to internal state.\n+  const getResolvedOptionLabel = (option) => {\n+    if (option == null) {\n+      return '';\n+    }\n+    const optionType = typeof option;\n+    if (optionType === 'string' || optionType === 'number') {\n+      return String(option);\n+    }\n+    return getOptionLabel(option);\n+  };\n+  const defaultRenderOption = (props2, option) => <li {...props2}>{getResolvedOptionLabel(option)}</li>;\n   const renderOption = renderOptionProp || defaultRenderOption;\n \n   const renderListOption = (option, index) => {\n"
      ],
      "edit_loc_traj": {
        "prompt": "\nPlease review the following GitHub problem description and relevant files, and provide a set of locations that need to be edited to fix the issue.\nThe locations can be specified as class names, function or method names, or exact line numbers that require modification.\n\n### GitHub Problem Description ###\n[Autocomplete] Non-freesolo autocomplete acts like freesolo: passes string to `getOptionLabel` instead of option\n### Duplicates\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Latest version\r\n\r\n- [X] I have tested the latest version\r\n\r\n### Steps to reproduce üïπ\r\n\r\nSteps:\r\n1. Make a normal auto-complete (not free solo)\r\n2. Implement `getOptionLabel` as `(opt) => opt.property.subProperty` (for some \"property\" field)\r\n3. Play around with the autocomplete for a while (selecting an option, clearing the option, and clicking to expand the options)... eventually you will get a \r\n\r\n```\r\nTypeError: Cannot read properties of undefined (reading 'subProperty')\r\n```\r\nCodeSandbox: https://codesandbox.io/s/angry-tree-2jcp3o?file=/src/App.tsx\r\n\r\nI'm assuming that's because I'm being passed a string instead of an object of the expected type. However I was trying to debug this in prod with an upset user so I did not have time to check for sure.\r\n\r\nThis bug ONLY occurs on v5.11.7. When I pinned @mui/material to v5.11.6, the behavior went away, and user reported no further issues. I'm assuming this is the result of your recent changes to freesoloing autocompletes in the release from 3 days ago.\r\n\r\n### Current behavior üòØ\r\n\r\n_No response_\r\n\r\n### Expected behavior ü§î\r\n\r\n_No response_\r\n\r\n### Context üî¶\r\n\r\n_No response_\r\n\r\n### Your environment üåé\r\n\r\n_No response_\n\n###\n### packages/mui-material/src/Autocomplete/Autocomplete.js\n1|import * as React from 'react';\n2|import PropTypes from 'prop-types';\n3|import clsx from 'clsx';\n4|import { chainPropTypes, integerPropType } from '@mui/utils';\n5|import {\n6|  unstable_composeClasses as composeClasses,\n7|  useAutocomplete,\n8|  createFilterOptions,\n9|} from '@mui/base';\n10|import { alpha } from '@mui/system';\n11|import Popper from '../Popper';\n12|import ListSubheader from '../ListSubheader';\n13|import Paper from '../Paper';\n14|import IconButton from '../IconButton';\n15|import Chip from '../Chip';\n16|import inputClasses from '../Input/inputClasses';\n17|import inputBaseClasses from '../InputBase/inputBaseClasses';\n18|import outlinedInputClasses from '../OutlinedInput/outlinedInputClasses';\n19|import filledInputClasses from '../FilledInput/filledInputClasses';\n20|import ClearIcon from '../internal/svg-icons/Close';\n21|import ArrowDropDownIcon from '../internal/svg-icons/ArrowDropDown';\n22|import useThemeProps from '../styles/useThemeProps';\n23|import styled from '../styles/styled';\n24|import autocompleteClasses, { getAutocompleteUtilityClass } from './autocompleteClasses';\n25|import capitalize from '../utils/capitalize';\n26|\n27|const useUtilityClasses = (ownerState) => {\n28|  const {\n29|    classes,\n30|    disablePortal,\n31|    focused,\n32|    fullWidth,\n33|    hasClearIcon,\n34|    hasPopupIcon,\n35|    inputFocused,\n36|    popupOpen,\n37|    size,\n38|  } = ownerState;\n39|\n40|  const slots = {\n41|    root: [\n42|      'root',\n43|      focused && 'focused',\n44|      fullWidth && 'fullWidth',\n45|      hasClearIcon && 'hasClearIcon',\n46|      hasPopupIcon && 'hasPopupIcon',\n47|    ],\n48|    inputRoot: ['inputRoot'],\n49|    input: ['input', inputFocused && 'inputFocused'],\n50|    tag: ['tag', `tagSize${capitalize(size)}`],\n51|    endAdornment: ['endAdornment'],\n52|    clearIndicator: ['clearIndicator'],\n53|    popupIndicator: ['popupIndicator', popupOpen && 'popupIndicatorOpen'],\n54|    popper: ['popper', disablePortal && 'popperDisablePortal'],\n55|    paper: ['paper'],\n56|    listbox: ['listbox'],\n57|    loading: ['loading'],\n58|    noOptions: ['noOptions'],\n59|    option: ['option'],\n60|    groupLabel: ['groupLabel'],\n61|    groupUl: ['groupUl'],\n62|  };\n63|\n64|  return composeClasses(slots, getAutocompleteUtilityClass, classes);\n65|};\n66|\n67|const AutocompleteRoot = styled('div', {\n68|  name: 'MuiAutocomplete',\n69|  slot: 'Root',\n70|  overridesResolver: (props, styles) => {\n71|    const { ownerState } = props;\n72|    const { fullWidth, hasClearIcon, hasPopupIcon, inputFocused, size } = ownerState;\n73|\n74|    return [\n75|      { [`& .${autocompleteClasses.tag}`]: styles.tag },\n76|      { [`& .${autocompleteClasses.tag}`]: styles[`tagSize${capitalize(size)}`] },\n77|      { [`& .${autocompleteClasses.inputRoot}`]: styles.inputRoot },\n78|      { [`& .${autocompleteClasses.input}`]: styles.input },\n79|      { [`& .${autocompleteClasses.input}`]: inputFocused && styles.inputFocused },\n80|      styles.root,\n81|      fullWidth && styles.fullWidth,\n82|      hasPopupIcon && styles.hasPopupIcon,\n83|      hasClearIcon && styles.hasClearIcon,\n84|    ];\n85|  },\n86|})(({ ownerState }) => ({\n87|  [`&.${autocompleteClasses.focused} .${autocompleteClasses.clearIndicator}`]: {\n88|    visibility: 'visible',\n89|  },\n90|  /* Avoid double tap issue on iOS */\n91|  '@media (pointer: fine)': {\n92|    [`&:hover .${autocompleteClasses.clearIndicator}`]: {\n93|      visibility: 'visible',\n94|    },\n95|  },\n96|  ...(ownerState.fullWidth && {\n97|    width: '100%',\n98|  }),\n99|  [`& .${autocompleteClasses.tag}`]: {\n100|    margin: 3,\n101|    maxWidth: 'calc(100% - 6px)',\n102|    ...(ownerState.size === 'small' && {\n103|      margin: 2,\n104|      maxWidth: 'calc(100% - 4px)',\n105|    }),\n106|  },\n107|  [`& .${autocompleteClasses.inputRoot}`]: {\n108|    flexWrap: 'wrap',\n109|    [`.${autocompleteClasses.hasPopupIcon}&, .${autocompleteClasses.hasClearIcon}&`]: {\n110|      paddingRight: 26 + 4,\n111|    },\n112|    [`.${autocompleteClasses.hasPopupIcon}.${autocompleteClasses.hasClearIcon}&`]: {\n113|      paddingRight: 52 + 4,\n114|    },\n115|    [`& .${autocompleteClasses.input}`]: {\n116|      width: 0,\n117|      minWidth: 30,\n118|    },\n119|  },\n120|  [`& .${inputClasses.root}`]: {\n121|    paddingBottom: 1,\n122|    '& .MuiInput-input': {\n123|      padding: '4px 4px 4px 0px',\n124|    },\n125|  },\n126|  [`& .${inputClasses.root}.${inputBaseClasses.sizeSmall}`]: {\n127|    [`& .${inputClasses.input}`]: {\n128|      padding: '2px 4px 3px 0',\n129|    },\n130|  },\n131|  [`& .${outlinedInputClasses.root}`]: {\n132|    padding: 9,\n133|    [`.${autocompleteClasses.hasPopupIcon}&, .${autocompleteClasses.hasClearIcon}&`]: {\n134|      paddingRight: 26 + 4 + 9,\n135|    },\n136|    [`.${autocompleteClasses.hasPopupIcon}.${autocompleteClasses.hasClearIcon}&`]: {\n137|      paddingRight: 52 + 4 + 9,\n138|    },\n139|    [`& .${autocompleteClasses.input}`]: {\n140|      padding: '7.5px 4px 7.5px 6px',\n141|    },\n142|    [`& .${autocompleteClasses.endAdornment}`]: {\n143|      right: 9,\n144|    },\n145|  },\n146|  [`& .${outlinedInputClasses.root}.${inputBaseClasses.sizeSmall}`]: {\n147|    // Don't specify paddingRight, as it overrides the default value set when there is only\n148|    // one of the popup or clear icon as the specificity is equal so the latter one wins\n149|    paddingTop: 6,\n150|    paddingBottom: 6,\n151|    paddingLeft: 6,\n152|    [`& .${autocompleteClasses.input}`]: {\n153|      padding: '2.5px 4px 2.5px 6px',\n154|    },\n155|  },\n156|  [`& .${filledInputClasses.root}`]: {\n157|    paddingTop: 19,\n158|    paddingLeft: 8,\n159|    [`.${autocompleteClasses.hasPopupIcon}&, .${autocompleteClasses.hasClearIcon}&`]: {\n160|      paddingRight: 26 + 4 + 9,\n161|    },\n162|    [`.${autocompleteClasses.hasPopupIcon}.${autocompleteClasses.hasClearIcon}&`]: {\n163|      paddingRight: 52 + 4 + 9,\n164|    },\n165|    [`& .${filledInputClasses.input}`]: {\n166|      padding: '7px 4px',\n167|    },\n168|    [`& .${autocompleteClasses.endAdornment}`]: {\n169|      right: 9,\n170|    },\n171|  },\n172|  [`& .${filledInputClasses.root}.${inputBaseClasses.sizeSmall}`]: {\n173|    paddingBottom: 1,\n174|    [`& .${filledInputClasses.input}`]: {\n175|      padding: '2.5px 4px',\n176|    },\n177|  },\n178|  [`& .${inputBaseClasses.hiddenLabel}`]: {\n179|    paddingTop: 8,\n180|  },\n181|  [`& .${filledInputClasses.root}.${inputBaseClasses.hiddenLabel}`]: {\n182|    paddingTop: 0,\n183|    paddingBottom: 0,\n184|    [`& .${autocompleteClasses.input}`]: {\n185|      paddingTop: 16,\n186|      paddingBottom: 17,\n187|    },\n188|  },\n189|  [`& .${filledInputClasses.root}.${inputBaseClasses.hiddenLabel}.${inputBaseClasses.sizeSmall}`]: {\n190|    [`& .${autocompleteClasses.input}`]: {\n191|      paddingTop: 8,\n192|      paddingBottom: 9,\n193|    },\n194|  },\n195|  [`& .${autocompleteClasses.input}`]: {\n196|    flexGrow: 1,\n197|    textOverflow: 'ellipsis',\n198|    opacity: 0,\n199|    ...(ownerState.inputFocused && {\n200|      opacity: 1,\n201|    }),\n202|  },\n203|}));\n204|\n205|const AutocompleteEndAdornment = styled('div', {\n206|  name: 'MuiAutocomplete',\n207|  slot: 'EndAdornment',\n208|  overridesResolver: (props, styles) => styles.endAdornment,\n209|})({\n210|  // We use a position absolute to support wrapping tags.\n211|  position: 'absolute',\n212|  right: 0,\n213|  top: 'calc(50% - 14px)', // Center vertically\n214|});\n215|\n216|const AutocompleteClearIndicator = styled(IconButton, {\n217|  name: 'MuiAutocomplete',\n218|  slot: 'ClearIndicator',\n219|  overridesResolver: (props, styles) => styles.clearIndicator,\n220|})({\n221|  marginRight: -2,\n222|  padding: 4,\n223|  visibility: 'hidden',\n224|});\n225|\n226|const AutocompletePopupIndicator = styled(IconButton, {\n227|  name: 'MuiAutocomplete',\n228|  slot: 'PopupIndicator',\n229|  overridesResolver: ({ ownerState }, styles) => ({\n230|    ...styles.popupIndicator,\n231|    ...(ownerState.popupOpen && styles.popupIndicatorOpen),\n232|  }),\n233|})(({ ownerState }) => ({\n234|  padding: 2,\n235|  marginRight: -2,\n236|  ...(ownerState.popupOpen && {\n237|    transform: 'rotate(180deg)',\n238|  }),\n239|}));\n240|\n241|const AutocompletePopper = styled(Popper, {\n242|  name: 'MuiAutocomplete',\n243|  slot: 'Popper',\n244|  overridesResolver: (props, styles) => {\n245|    const { ownerState } = props;\n246|\n247|    return [\n248|      { [`& .${autocompleteClasses.option}`]: styles.option },\n249|      styles.popper,\n250|      ownerState.disablePortal && styles.popperDisablePortal,\n251|    ];\n252|  },\n253|})(({ theme, ownerState }) => ({\n254|  zIndex: (theme.vars || theme).zIndex.modal,\n255|  ...(ownerState.disablePortal && {\n256|    position: 'absolute',\n257|  }),\n258|}));\n259|\n260|const AutocompletePaper = styled(Paper, {\n261|  name: 'MuiAutocomplete',\n262|  slot: 'Paper',\n263|  overridesResolver: (props, styles) => styles.paper,\n264|})(({ theme }) => ({\n265|  ...theme.typography.body1,\n266|  overflow: 'auto',\n267|}));\n268|\n269|const AutocompleteLoading = styled('div', {\n270|  name: 'MuiAutocomplete',\n271|  slot: 'Loading',\n272|  overridesResolver: (props, styles) => styles.loading,\n273|})(({ theme }) => ({\n274|  color: (theme.vars || theme).palette.text.secondary,\n275|  padding: '14px 16px',\n276|}));\n277|\n278|const AutocompleteNoOptions = styled('div', {\n279|  name: 'MuiAutocomplete',\n280|  slot: 'NoOptions',\n281|  overridesResolver: (props, styles) => styles.noOptions,\n282|})(({ theme }) => ({\n283|  color: (theme.vars || theme).palette.text.secondary,\n284|  padding: '14px 16px',\n285|}));\n286|\n287|const AutocompleteListbox = styled('div', {\n288|  name: 'MuiAutocomplete',\n289|  slot: 'Listbox',\n290|  overridesResolver: (props, styles) => styles.listbox,\n291|})(({ theme }) => ({\n292|  listStyle: 'none',\n293|  margin: 0,\n294|  padding: '8px 0',\n295|  maxHeight: '40vh',\n296|  overflow: 'auto',\n297|  position: 'relative',\n298|  [`& .${autocompleteClasses.option}`]: {\n299|    minHeight: 48,\n300|    display: 'flex',\n301|    overflow: 'hidden',\n302|    justifyContent: 'flex-start',\n303|    alignItems: 'center',\n304|    cursor: 'pointer',\n305|    paddingTop: 6,\n306|    boxSizing: 'border-box',\n307|    outline: '0',\n308|    WebkitTapHighlightColor: 'transparent',\n309|    paddingBottom: 6,\n310|    paddingLeft: 16,\n311|    paddingRight: 16,\n312|    [theme.breakpoints.up('sm')]: {\n313|      minHeight: 'auto',\n314|    },\n315|    [`&.${autocompleteClasses.focused}`]: {\n316|      backgroundColor: (theme.vars || theme).palette.action.hover,\n317|      // Reset on touch devices, it doesn't add specificity\n318|      '@media (hover: none)': {\n319|        backgroundColor: 'transparent',\n320|      },\n321|    },\n322|    '&[aria-disabled=\"true\"]': {\n323|      opacity: (theme.vars || theme).palette.action.disabledOpacity,\n324|      pointerEvents: 'none',\n325|    },\n326|    [`&.${autocompleteClasses.focusVisible}`]: {\n327|      backgroundColor: (theme.vars || theme).palette.action.focus,\n328|    },\n329|    '&[aria-selected=\"true\"]': {\n330|      backgroundColor: theme.vars\n331|        ? `rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})`\n332|        : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity),\n333|      [`&.${autocompleteClasses.focused}`]: {\n334|        backgroundColor: theme.vars\n335|          ? `rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.hoverOpacity}))`\n336|          : alpha(\n337|              theme.palette.primary.main,\n338|              theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity,\n339|            ),\n340|        // Reset on touch devices, it doesn't add specificity\n341|        '@media (hover: none)': {\n342|          backgroundColor: (theme.vars || theme).palette.action.selected,\n343|        },\n344|      },\n345|      [`&.${autocompleteClasses.focusVisible}`]: {\n346|        backgroundColor: theme.vars\n347|          ? `rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.focusOpacity}))`\n348|          : alpha(\n349|              theme.palette.primary.main,\n350|              theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity,\n351|            ),\n352|      },\n353|    },\n354|  },\n355|}));\n356|\n357|const AutocompleteGroupLabel = styled(ListSubheader, {\n358|  name: 'MuiAutocomplete',\n359|  slot: 'GroupLabel',\n360|  overridesResolver: (props, styles) => styles.groupLabel,\n361|})(({ theme }) => ({\n362|  backgroundColor: (theme.vars || theme).palette.background.paper,\n363|  top: -8,\n364|}));\n365|\n366|const AutocompleteGroupUl = styled('ul', {\n367|  name: 'MuiAutocomplete',\n368|  slot: 'GroupUl',\n369|  overridesResolver: (props, styles) => styles.groupUl,\n370|})({\n371|  padding: 0,\n372|  [`& .${autocompleteClasses.option}`]: {\n373|    paddingLeft: 24,\n374|  },\n375|});\n376|\n377|export { createFilterOptions };\n378|\n379|const Autocomplete = React.forwardRef(function Autocomplete(inProps, ref) {\n380|  const props = useThemeProps({ props: inProps, name: 'MuiAutocomplete' });\n381|  /* eslint-disable @typescript-eslint/no-unused-vars */\n382|  const {\n383|    autoComplete = false,\n384|    autoHighlight = false,\n385|    autoSelect = false,\n386|    blurOnSelect = false,\n387|    ChipProps,\n388|    className,\n389|    clearIcon = <ClearIcon fontSize=\"small\" />,\n390|    clearOnBlur = !props.freeSolo,\n391|    clearOnEscape = false,\n392|    clearText = 'Clear',\n393|    closeText = 'Close',\n394|    componentsProps = {},\n395|    defaultValue = props.multiple ? [] : null,\n396|    disableClearable = false,\n397|    disableCloseOnSelect = false,\n398|    disabled = false,\n399|    disabledItemsFocusable = false,\n400|    disableListWrap = false,\n401|    disablePortal = false,\n402|    filterOptions,\n403|    filterSelectedOptions = false,\n404|    forcePopupIcon = 'auto',\n405|    freeSolo = false,\n406|    fullWidth = false,\n407|    getLimitTagsText = (more) => `+${more}`,\n408|    getOptionDisabled,\n409|    getOptionLabel = (option) => option.label ?? option,\n410|    isOptionEqualToValue,\n411|    groupBy,\n412|    handleHomeEndKeys = !props.freeSolo,\n413|    id: idProp,\n414|    includeInputInList = false,\n415|    inputValue: inputValueProp,\n416|    limitTags = -1,\n417|    ListboxComponent = 'ul',\n418|    ListboxProps,\n419|    loading = false,\n420|    loadingText = 'Loading‚Ä¶',\n421|    multiple = false,\n422|    noOptionsText = 'No options',\n423|    onChange,\n424|    onClose,\n425|    onHighlightChange,\n426|    onInputChange,\n427|    onOpen,\n428|    open,\n429|    openOnFocus = false,\n430|    openText = 'Open',\n431|    options,\n432|    PaperComponent = Paper,\n433|    PopperComponent = Popper,\n434|    popupIcon = <ArrowDropDownIcon />,\n435|    readOnly = false,\n436|    renderGroup: renderGroupProp,\n437|    renderInput,\n438|    renderOption: renderOptionProp,\n439|    renderTags,\n440|    selectOnFocus = !props.freeSolo,\n441|    size = 'medium',\n442|    slotProps = {},\n443|    value: valueProp,\n444|    ...other\n445|  } = props;\n446|  /* eslint-enable @typescript-eslint/no-unused-vars */\n447|\n448|  const {\n449|    getRootProps,\n450|    getInputProps,\n451|    getInputLabelProps,\n452|    getPopupIndicatorProps,\n453|    getClearProps,\n454|    getTagProps,\n455|    getListboxProps,\n456|    getOptionProps,\n457|    value,\n458|    dirty,\n459|    id,\n460|    popupOpen,\n461|    focused,\n462|    focusedTag,\n463|    anchorEl,\n464|    setAnchorEl,\n465|    inputValue,\n466|    groupedOptions,\n467|  } = useAutocomplete({ ...props, componentName: 'Autocomplete' });\n468|\n469|  const hasClearIcon = !disableClearable && !disabled && dirty && !readOnly;\n470|  const hasPopupIcon = (!freeSolo || forcePopupIcon === true) && forcePopupIcon !== false;\n471|\n472|  // If you modify this, make sure to keep the `AutocompleteOwnerState` type in sync.\n473|  const ownerState = {\n474|    ...props,\n475|    disablePortal,\n476|    focused,\n477|    fullWidth,\n478|    hasClearIcon,\n479|    hasPopupIcon,\n480|    inputFocused: focusedTag === -1,\n481|    popupOpen,\n482|    size,\n483|  };\n484|\n485|  const classes = useUtilityClasses(ownerState);\n486|\n487|  let startAdornment;\n488|\n489|  if (multiple && value.length > 0) {\n490|    const getCustomizedTagProps = (params) => ({\n491|      className: classes.tag,\n492|      disabled,\n493|      ...getTagProps(params),\n494|    });\n495|\n496|    if (renderTags) {\n497|      startAdornment = renderTags(value, getCustomizedTagProps, ownerState);\n498|    } else {\n499|      startAdornment = value.map((option, index) => (\n500|        <Chip\n501|          label={getOptionLabel(option)}\n502|          size={size}\n503|          {...getCustomizedTagProps({ index })}\n504|          {...ChipProps}\n505|        />\n506|      ));\n507|    }\n508|  }\n509|\n510|  if (limitTags > -1 && Array.isArray(startAdornment)) {\n511|    const more = startAdornment.length - limitTags;\n512|    if (!focused && more > 0) {\n513|      startAdornment = startAdornment.splice(0, limitTags);\n514|      startAdornment.push(\n515|        <span className={classes.tag} key={startAdornment.length}>\n516|          {getLimitTagsText(more)}\n517|        </span>,\n518|      );\n519|    }\n520|  }\n521|\n522|  const defaultRenderGroup = (params) => (\n523|    <li key={params.key}>\n524|      <AutocompleteGroupLabel\n525|        className={classes.groupLabel}\n526|        ownerState={ownerState}\n527|        component=\"div\"\n528|      >\n529|        {params.group}\n530|      </AutocompleteGroupLabel>\n531|      <AutocompleteGroupUl className={classes.groupUl} ownerState={ownerState}>\n532|        {params.children}\n533|      </AutocompleteGroupUl>\n534|    </li>\n535|  );\n536|\n537|  const renderGroup = renderGroupProp || defaultRenderGroup;\n538|  const defaultRenderOption = (props2, option) => <li {...props2}>{getOptionLabel(option)}</li>;\n539|  const renderOption = renderOptionProp || defaultRenderOption;\n540|\n541|  const renderListOption = (option, index) => {\n542|    const optionProps = getOptionProps({ option, index });\n543|\n544|    return renderOption({ ...optionProps, className: classes.option }, option, {\n545|      selected: optionProps['aria-selected'],\n546|      index,\n547|      inputValue,\n548|    });\n549|  };\n550|\n551|  const clearIndicatorSlotProps = slotProps.clearIndicator ?? componentsProps.clearIndicator;\n552|  const paperSlotProps = slotProps.paper ?? componentsProps.paper;\n553|  const popperSlotProps = slotProps.popper ?? componentsProps.popper;\n554|  const popupIndicatorSlotProps = slotProps.popupIndicator ?? componentsProps.popupIndicator;\n555|\n556|  return (\n557|    <React.Fragment>\n558|      <AutocompleteRoot\n559|        ref={ref}\n560|        className={clsx(classes.root, className)}\n561|        ownerState={ownerState}\n562|        {...getRootProps(other)}\n563|      >\n564|        {renderInput({\n565|          id,\n566|          disabled,\n567|          fullWidth: true,\n568|          size: size === 'small' ? 'small' : undefined,\n569|          InputLabelProps: getInputLabelProps(),\n570|          InputProps: {\n571|            ref: setAnchorEl,\n572|            className: classes.inputRoot,\n573|            startAdornment,\n574|            ...((hasClearIcon || hasPopupIcon) && {\n575|              endAdornment: (\n576|                <AutocompleteEndAdornment className={classes.endAdornment} ownerState={ownerState}>\n577|                  {hasClearIcon ? (\n578|                    <AutocompleteClearIndicator\n579|                      {...getClearProps()}\n580|                      aria-label={clearText}\n581|                      title={clearText}\n582|                      ownerState={ownerState}\n583|                      {...clearIndicatorSlotProps}\n584|                      className={clsx(classes.clearIndicator, clearIndicatorSlotProps?.className)}\n585|                    >\n586|                      {clearIcon}\n587|                    </AutocompleteClearIndicator>\n588|                  ) : null}\n589|\n590|                  {hasPopupIcon ? (\n591|                    <AutocompletePopupIndicator\n592|                      {...getPopupIndicatorProps()}\n593|                      disabled={disabled}\n594|                      aria-label={popupOpen ? closeText : openText}\n595|                      title={popupOpen ? closeText : openText}\n596|                      ownerState={ownerState}\n597|                      {...popupIndicatorSlotProps}\n598|                      className={clsx(classes.popupIndicator, popupIndicatorSlotProps?.className)}\n599|                    >\n600|                      {popupIcon}\n601|                    </AutocompletePopupIndicator>\n602|                  ) : null}\n603|                </AutocompleteEndAdornment>\n604|              ),\n605|            }),\n606|          },\n607|          inputProps: {\n608|            className: classes.input,\n609|            disabled,\n610|            readOnly,\n611|            ...getInputProps(),\n612|          },\n613|        })}\n614|      </AutocompleteRoot>\n615|      {anchorEl ? (\n616|        <AutocompletePopper\n617|          as={PopperComponent}\n618|          disablePortal={disablePortal}\n619|          style={{\n620|            width: anchorEl ? anchorEl.clientWidth : null,\n621|          }}\n622|          ownerState={ownerState}\n623|          role=\"presentation\"\n624|          anchorEl={anchorEl}\n625|          open={popupOpen}\n626|          {...popperSlotProps}\n627|          className={clsx(classes.popper, popperSlotProps?.className)}\n628|        >\n629|          <AutocompletePaper\n630|            ownerState={ownerState}\n631|            as={PaperComponent}\n632|            {...paperSlotProps}\n633|            className={clsx(classes.paper, paperSlotProps?.className)}\n634|          >\n635|            {loading && groupedOptions.length === 0 ? (\n636|              <AutocompleteLoading className={classes.loading} ownerState={ownerState}>\n637|                {loadingText}\n638|              </AutocompleteLoading>\n639|            ) : null}\n640|            {groupedOptions.length === 0 && !freeSolo && !loading ? (\n641|              <AutocompleteNoOptions\n642|                className={classes.noOptions}\n643|                ownerState={ownerState}\n644|                role=\"presentation\"\n645|                onMouseDown={(event) => {\n646|                  // Prevent input blur when interacting with the \"no options\" content\n647|                  event.preventDefault();\n648|                }}\n649|              >\n650|                {noOptionsText}\n651|              </AutocompleteNoOptions>\n652|            ) : null}\n653|            {groupedOptions.length > 0 ? (\n654|              <AutocompleteListbox\n655|                as={ListboxComponent}\n656|                className={classes.listbox}\n657|                ownerState={ownerState}\n658|                {...getListboxProps()}\n659|                {...ListboxProps}\n660|              >\n661|                {groupedOptions.map((option, index) => {\n662|                  if (groupBy) {\n663|                    return renderGroup({\n664|                      key: option.key,\n665|                      group: option.group,\n666|                      children: option.options.map((option2, index2) =>\n667|                        renderListOption(option2, option.index + index2),\n668|                      ),\n669|                    });\n670|                  }\n671|                  return renderListOption(option, index);\n672|                })}\n673|              </AutocompleteListbox>\n674|            ) : null}\n675|          </AutocompletePaper>\n676|        </AutocompletePopper>\n677|      ) : null}\n678|    </React.Fragment>\n679|  );\n680|});\n681|\n682|Autocomplete.propTypes /* remove-proptypes */ = {\n683|  // ----------------------------- Warning --------------------------------\n684|  // | These PropTypes are generated from the TypeScript type definitions |\n685|  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n686|  // ----------------------------------------------------------------------\n687|  /**\n688|   * If `true`, the portion of the selected suggestion that has not been typed by the user,\n689|   * known as the completion string, appears inline after the input cursor in the textbox.\n690|   * The inline completion string is visually highlighted and has a selected state.\n691|   * @default false\n692|   */\n693|  autoComplete: PropTypes.bool,\n694|  /**\n695|   * If `true`, the first option is automatically highlighted.\n696|   * @default false\n697|   */\n698|  autoHighlight: PropTypes.bool,\n699|  /**\n700|   * If `true`, the selected option becomes the value of the input\n701|   * when the Autocomplete loses focus unless the user chooses\n702|   * a different option or changes the character string in the input.\n703|   * @default false\n704|   */\n705|  autoSelect: PropTypes.bool,\n706|  /**\n707|   * Control if the input should be blurred when an option is selected:\n708|   *\n709|   * - `false` the input is not blurred.\n710|   * - `true` the input is always blurred.\n711|   * - `touch` the input is blurred after a touch event.\n712|   * - `mouse` the input is blurred after a mouse event.\n713|   * @default false\n714|   */\n715|  blurOnSelect: PropTypes.oneOfType([PropTypes.oneOf(['mouse', 'touch']), PropTypes.bool]),\n716|  /**\n717|   * Props applied to the [`Chip`](/material-ui/api/chip/) element.\n718|   */\n719|  ChipProps: PropTypes.object,\n720|  /**\n721|   * Override or extend the styles applied to the component.\n722|   */\n723|  classes: PropTypes.object,\n724|  /**\n725|   * @ignore\n726|   */\n727|  className: PropTypes.string,\n728|  /**\n729|   * The icon to display in place of the default clear icon.\n730|   * @default <ClearIcon fontSize=\"small\" />\n731|   */\n732|  clearIcon: PropTypes.node,\n733|  /**\n734|   * If `true`, the input's text is cleared on blur if no value is selected.\n735|   *\n736|   * Set to `true` if you want to help the user enter a new value.\n737|   * Set to `false` if you want to help the user resume their search.\n738|   * @default !props.freeSolo\n739|   */\n740|  clearOnBlur: PropTypes.bool,\n741|  /**\n742|   * If `true`, clear all values when the user presses escape and the popup is closed.\n743|   * @default false\n744|   */\n745|  clearOnEscape: PropTypes.bool,\n746|  /**\n747|   * Override the default text for the *clear* icon button.\n748|   *\n749|   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).\n750|   * @default 'Clear'\n751|   */\n752|  clearText: PropTypes.string,\n753|  /**\n754|   * Override the default text for the *close popup* icon button.\n755|   *\n756|   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).\n757|   * @default 'Close'\n758|   */\n759|  closeText: PropTypes.string,\n760|  /**\n761|   * The props used for each slot inside.\n762|   * @default {}\n763|   */\n764|  componentsProps: PropTypes.shape({\n765|    clearIndicator: PropTypes.object,\n766|    paper: PropTypes.object,\n767|    popper: PropTypes.object,\n768|    popupIndicator: PropTypes.object,\n769|  }),\n770|  /**\n771|   * The default value. Use when the component is not controlled.\n772|   * @default props.multiple ? [] : null\n773|   */\n774|  defaultValue: chainPropTypes(PropTypes.any, (props) => {\n775|    if (props.multiple && props.defaultValue !== undefined && !Array.isArray(props.defaultValue)) {\n776|      return new Error(\n777|        [\n778|          'MUI: The Autocomplete expects the `defaultValue` prop to be an array when `multiple={true}` or undefined.',\n779|          `However, ${props.defaultValue} was provided.`,\n780|        ].join('\\n'),\n781|      );\n782|    }\n783|    return null;\n784|  }),\n785|  /**\n786|   * If `true`, the input can't be cleared.\n787|   * @default false\n788|   */\n789|  disableClearable: PropTypes.bool,\n790|  /**\n791|   * If `true`, the popup won't close when a value is selected.\n792|   * @default false\n793|   */\n794|  disableCloseOnSelect: PropTypes.bool,\n795|  /**\n796|   * If `true`, the component is disabled.\n797|   * @default false\n798|   */\n799|  disabled: PropTypes.bool,\n800|  /**\n801|   * If `true`, will allow focus on disabled items.\n802|   * @default false\n803|   */\n804|  disabledItemsFocusable: PropTypes.bool,\n805|  /**\n806|   * If `true`, the list box in the popup will not wrap focus.\n807|   * @default false\n808|   */\n809|  disableListWrap: PropTypes.bool,\n810|  /**\n811|   * If `true`, the `Popper` content will be under the DOM hierarchy of the parent component.\n812|   * @default false\n813|   */\n814|  disablePortal: PropTypes.bool,\n815|  /**\n816|   * A function that determines the filtered options to be rendered on search.\n817|   *\n818|   * @param {T[]} options The options to render.\n819|   * @param {object} state The state of the component.\n820|   * @returns {T[]}\n821|   */\n822|  filterOptions: PropTypes.func,\n823|  /**\n824|   * If `true`, hide the selected options from the list box.\n825|   * @default false\n826|   */\n827|  filterSelectedOptions: PropTypes.bool,\n828|  /**\n829|   * Force the visibility display of the popup icon.\n830|   * @default 'auto'\n831|   */\n832|  forcePopupIcon: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.bool]),\n833|  /**\n834|   * If `true`, the Autocomplete is free solo, meaning that the user input is not bound to provided options.\n835|   * @default false\n836|   */\n837|  freeSolo: PropTypes.bool,\n838|  /**\n839|   * If `true`, the input will take up the full width of its container.\n840|   * @default false\n841|   */\n842|  fullWidth: PropTypes.bool,\n843|  /**\n844|   * The label to display when the tags are truncated (`limitTags`).\n845|   *\n846|   * @param {number} more The number of truncated tags.\n847|   * @returns {ReactNode}\n848|   * @default (more) => `+${more}`\n849|   */\n850|  getLimitTagsText: PropTypes.func,\n851|  /**\n852|   * Used to determine the disabled state for a given option.\n853|   *\n854|   * @param {T} option The option to test.\n855|   * @returns {boolean}\n856|   */\n857|  getOptionDisabled: PropTypes.func,\n858|  /**\n859|   * Used to determine the string value for a given option.\n860|   * It's used to fill the input (and the list box options if `renderOption` is not provided).\n861|   *\n862|   * If used in free solo mode, it must accept both the type of the options and a string.\n863|   *\n864|   * @param {T} option\n865|   * @returns {string}\n866|   * @default (option) => option.label ?? option\n867|   */\n868|  getOptionLabel: PropTypes.func,\n869|  /**\n870|   * If provided, the options will be grouped under the returned string.\n871|   * The groupBy value is also used as the text for group headings when `renderGroup` is not provided.\n872|   *\n873|   * @param {T} options The options to group.\n874|   * @returns {string}\n875|   */\n876|  groupBy: PropTypes.func,\n877|  /**\n878|   * If `true`, the component handles the \"Home\" and \"End\" keys when the popup is open.\n879|   * It should move focus to the first option and last option, respectively.\n880|   * @default !props.freeSolo\n881|   */\n882|  handleHomeEndKeys: PropTypes.bool,\n883|  /**\n884|   * This prop is used to help implement the accessibility logic.\n885|   * If you don't provide an id it will fall back to a randomly generated one.\n886|   */\n887|  id: PropTypes.string,\n888|  /**\n889|   * If `true`, the highlight can move to the input.\n890|   * @default false\n891|   */\n892|  includeInputInList: PropTypes.bool,\n893|  /**\n894|   * The input value.\n895|   */\n896|  inputValue: PropTypes.string,\n897|  /**\n898|   * Used to determine if the option represents the given value.\n899|   * Uses strict equality by default.\n900|   * ‚ö†Ô∏è Both arguments need to be handled, an option can only match with one value.\n901|   *\n902|   * @param {T} option The option to test.\n903|   * @param {T} value The value to test against.\n904|   * @returns {boolean}\n905|   */\n906|  isOptionEqualToValue: PropTypes.func,\n907|  /**\n908|   * The maximum number of tags that will be visible when not focused.\n909|   * Set `-1` to disable the limit.\n910|   * @default -1\n911|   */\n912|  limitTags: integerPropType,\n913|  /**\n914|   * The component used to render the listbox.\n915|   * @default 'ul'\n916|   */\n917|  ListboxComponent: PropTypes.elementType,\n918|  /**\n919|   * Props applied to the Listbox element.\n920|   */\n921|  ListboxProps: PropTypes.object,\n922|  /**\n923|   * If `true`, the component is in a loading state.\n924|   * This shows the `loadingText` in place of suggestions (only if there are no suggestions to show, e.g. `options` are empty).\n925|   * @default false\n926|   */\n927|  loading: PropTypes.bool,\n928|  /**\n929|   * Text to display when in a loading state.\n930|   *\n931|   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).\n932|   * @default 'Loading‚Ä¶'\n933|   */\n934|  loadingText: PropTypes.node,\n935|  /**\n936|   * If `true`, `value` must be an array and the menu will support multiple selections.\n937|   * @default false\n938|   */\n939|  multiple: PropTypes.bool,\n940|  /**\n941|   * Text to display when there are no options.\n942|   *\n943|   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).\n944|   * @default 'No options'\n945|   */\n946|  noOptionsText: PropTypes.node,\n947|  /**\n948|   * Callback fired when the value changes.\n949|   *\n950|   * @param {React.SyntheticEvent} event The event source of the callback.\n951|   * @param {T|T[]} value The new value of the component.\n952|   * @param {string} reason One of \"createOption\", \"selectOption\", \"removeOption\", \"blur\" or \"clear\".\n953|   * @param {string} [details]\n954|   */\n955|  onChange: PropTypes.func,\n956|  /**\n957|   * Callback fired when the popup requests to be closed.\n958|   * Use in controlled mode (see open).\n959|   *\n960|   * @param {React.SyntheticEvent} event The event source of the callback.\n961|   * @param {string} reason Can be: `\"toggleInput\"`, `\"escape\"`, `\"selectOption\"`, `\"removeOption\"`, `\"blur\"`.\n962|   */\n963|  onClose: PropTypes.func,\n964|  /**\n965|   * Callback fired when the highlight option changes.\n966|   *\n967|   * @param {React.SyntheticEvent} event The event source of the callback.\n968|   * @param {T} option The highlighted option.\n969|   * @param {string} reason Can be: `\"keyboard\"`, `\"auto\"`, `\"mouse\"`.\n970|   */\n971|  onHighlightChange: PropTypes.func,\n972|  /**\n973|   * Callback fired when the input value changes.\n974|   *\n975|   * @param {React.SyntheticEvent} event The event source of the callback.\n976|   * @param {string} value The new value of the text input.\n977|   * @param {string} reason Can be: `\"input\"` (user input), `\"reset\"` (programmatic change), `\"clear\"`.\n978|   */\n979|  onInputChange: PropTypes.func,\n980|  /**\n981|   * Callback fired when the popup requests to be opened.\n982|   * Use in controlled mode (see open).\n983|   *\n984|   * @param {React.SyntheticEvent} event The event source of the callback.\n985|   */\n986|  onOpen: PropTypes.func,\n987|  /**\n988|   * If `true`, the component is shown.\n989|   */\n990|  open: PropTypes.bool,\n991|  /**\n992|   * If `true`, the popup will open on input focus.\n993|   * @default false\n994|   */\n995|  openOnFocus: PropTypes.bool,\n996|  /**\n997|   * Override the default text for the *open popup* icon button.\n998|   *\n999|   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).\n1000|   * @default 'Open'\n1001|   */\n1002|  openText: PropTypes.string,\n1003|  /**\n1004|   * Array of options.\n1005|   */\n1006|  options: PropTypes.array.isRequired,\n1007|  /**\n1008|   * The component used to render the body of the popup.\n1009|   * @default Paper\n1010|   */\n1011|  PaperComponent: PropTypes.elementType,\n1012|  /**\n1013|   * The component used to position the popup.\n1014|   * @default Popper\n1015|   */\n1016|  PopperComponent: PropTypes.elementType,\n1017|  /**\n1018|   * The icon to display in place of the default popup icon.\n1019|   * @default <ArrowDropDownIcon />\n1020|   */\n1021|  popupIcon: PropTypes.node,\n1022|  /**\n1023|   * If `true`, the component becomes readonly. It is also supported for multiple tags where the tag cannot be deleted.\n1024|   * @default false\n1025|   */\n1026|  readOnly: PropTypes.bool,\n1027|  /**\n1028|   * Render the group.\n1029|   *\n1030|   * @param {AutocompleteRenderGroupParams} params The group to render.\n1031|   * @returns {ReactNode}\n1032|   */\n1033|  renderGroup: PropTypes.func,\n1034|  /**\n1035|   * Render the input.\n1036|   *\n1037|   * @param {object} params\n1038|   * @returns {ReactNode}\n1039|   */\n1040|  renderInput: PropTypes.func.isRequired,\n1041|  /**\n1042|   * Render the option, use `getOptionLabel` by default.\n1043|   *\n1044|   * @param {object} props The props to apply on the li element.\n1045|   * @param {T} option The option to render.\n1046|   * @param {object} state The state of the component.\n1047|   * @returns {ReactNode}\n1048|   */\n1049|  renderOption: PropTypes.func,\n1050|  /**\n1051|   * Render the selected value.\n1052|   *\n1053|   * @param {T[]} value The `value` provided to the component.\n1054|   * @param {function} getTagProps A tag props getter.\n1055|   * @param {object} ownerState The state of the Autocomplete component.\n1056|   * @returns {ReactNode}\n1057|   */\n1058|  renderTags: PropTypes.func,\n1059|  /**\n1060|   * If `true`, the input's text is selected on focus.\n1061|   * It helps the user clear the selected value.\n1062|   * @default !props.freeSolo\n1063|   */\n1064|  selectOnFocus: PropTypes.bool,\n1065|  /**\n1066|   * The size of the component.\n1067|   * @default 'medium'\n1068|   */\n1069|  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([\n1070|    PropTypes.oneOf(['small', 'medium']),\n1071|    PropTypes.string,\n1072|  ]),\n1073|  /**\n1074|   * The props used for each slot inside.\n1075|   * @default {}\n1076|   */\n1077|  slotProps: PropTypes.shape({\n1078|    clearIndicator: PropTypes.object,\n1079|    paper: PropTypes.object,\n1080|    popper: PropTypes.object,\n1081|    popupIndicator: PropTypes.object,\n1082|  }),\n1083|  /**\n1084|   * The system prop that allows defining system overrides as well as additional CSS styles.\n1085|   */\n1086|  sx: PropTypes.oneOfType([\n1087|    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])),\n1088|    PropTypes.func,\n1089|    PropTypes.object,\n1090|  ]),\n1091|  /**\n1092|   * The value of the autocomplete.\n1093|   *\n1094|   * The value must have reference equality with the option in order to be selected.\n1095|   * You can customize the equality behavior with the `isOptionEqualToValue` prop.\n1096|   */\n1097|  value: chainPropTypes(PropTypes.any, (props) => {\n1098|    if (props.multiple && props.value !== undefined && !Array.isArray(props.value)) {\n1099|      return new Error(\n1100|        [\n1101|          'MUI: The Autocomplete expects the `value` prop to be an array when `multiple={true}` or undefined.',\n1102|          `However, ${props.value} was provided.`,\n1103|        ].join('\\n'),\n1104|      );\n1105|    }\n1106|    return null;\n1107|  }),\n1108|};\n1109|\n1110|export default Autocomplete;\n\n\n### packages/mui-material/src/useAutocomplete/useAutocomplete.js\n1|export { useAutocomplete as default } from '@mui/base/AutocompleteUnstyled';\n2|export * from '@mui/base/AutocompleteUnstyled';\n\n\n\n\n###\n\nPlease provide the class name, function or method name, or the exact line numbers that need to be edited.\nThe possible location outputs should be either \"class\", \"function\" or \"line\".\n\n### Examples:\n```\nfull_path1/file1.ts\nline: 10\nclass: MyClass1\nline: 51\n\nfull_path2/file2.ts\nfunction: MyClass2.my_method\nline: 12\n\nfull_path3/file3.ts\nfunction: my_function\nline: 24\nline: 156\n```\n\nReturn just the location(s) wrapped with ```.\n",
        "response": [
          "```\npackages/mui-material/src/Autocomplete/Autocomplete.js\nline: 409\nline: 447\nline: 467\nline: 501\nline: 538\n```",
          "```\npackages/mui-material/src/Autocomplete/Autocomplete.js\nline: 501\nline: 538\n```"
        ],
        "usage": {
          "completion_tokens": 0,
          "prompt_tokens": 0
        }
      },
      "additional_artifact_loc_edit_location": [
        {
          "raw_output_loc": [
            "```\npackages/mui-material/src/Autocomplete/Autocomplete.js\nline: 409\nline: 447\nline: 467\nline: 501\nline: 538\n```",
            "```\npackages/mui-material/src/Autocomplete/Autocomplete.js\nline: 501\nline: 538\n```"
          ]
        }
      ]
    }
  ],
  "6_final_selected_patch": "diff --git a/packages/mui-material/src/Autocomplete/Autocomplete.js b/packages/mui-material/src/Autocomplete/Autocomplete.js\nindex c49d02a..414acf0 100644\n--- a/packages/mui-material/src/Autocomplete/Autocomplete.js\n+++ b/packages/mui-material/src/Autocomplete/Autocomplete.js\n@@ -469,6 +469,16 @@ const Autocomplete = React.forwardRef(function Autocomplete(inProps, ref) {\n   const hasClearIcon = !disableClearable && !disabled && dirty && !readOnly;\n   const hasPopupIcon = (!freeSolo || forcePopupIcon === true) && forcePopupIcon !== false;\n \n+  // Use a safe wrapper to avoid calling user-provided getOptionLabel with a primitive.\n+  // In non-freeSolo mode, options should be objects. If due to a regression a string sneaks in,\n+  // render the string directly instead of invoking getOptionLabel.\n+  const getOptionLabelSafe = (optionParam) => {\n+    if (optionParam == null) {\n+      return '';\n+    }\n+    return typeof optionParam === 'string' ? optionParam : getOptionLabel(optionParam);\n+  };\n+\n   // If you modify this, make sure to keep the `AutocompleteOwnerState` type in sync.\n   const ownerState = {\n     ...props,\n@@ -498,7 +508,7 @@ const Autocomplete = React.forwardRef(function Autocomplete(inProps, ref) {\n     } else {\n       startAdornment = value.map((option, index) => (\n         <Chip\n-          label={getOptionLabel(option)}\n+          label={getOptionLabelSafe(option)}\n           size={size}\n           {...getCustomizedTagProps({ index })}\n           {...ChipProps}\n@@ -535,7 +545,7 @@ const Autocomplete = React.forwardRef(function Autocomplete(inProps, ref) {\n   );\n \n   const renderGroup = renderGroupProp || defaultRenderGroup;\n-  const defaultRenderOption = (props2, option) => <li {...props2}>{getOptionLabel(option)}</li>;\n+  const defaultRenderOption = (props2, option) => <li {...props2}>{getOptionLabelSafe(option)}</li>;\n   const renderOption = renderOptionProp || defaultRenderOption;\n \n   const renderListOption = (option, index) => {\n",
  "7_resolved": false
}