{
  "instance_id": "Multi-SWE-Bench__typescript__maintenance__bugfix__05c53458",
  "original_id": "mui__material-ui-29898",
  "1_model_selected_files": [
    "packages/mui-material/src/AvatarGroup/AvatarGroup.js",
    "packages/mui-material/src/AvatarGroup/AvatarGroup.d.ts",
    "packages/mui-material/src/AvatarGroup/AvatarGroup.test.js"
  ],
  "2_embedding_selected_files": [
    "packages/mui-material/src/AvatarGroup/AvatarGroup.js",
    "packages/mui-material/src/AvatarGroup/AvatarGroup.test.js",
    "packages/mui-material/src/AvatarGroup/AvatarGroup.d.ts",
    "packages/mui-lab/src/AvatarGroup/AvatarGroup.js",
    "packages/mui-material/src/Avatar/Avatar.js",
    "packages/mui-material/src/AvatarGroup/index.js",
    "packages/mui-material/src/Avatar/Avatar.d.ts",
    "packages/mui-lab/src/AvatarGroup/index.js",
    "packages/mui-material/src/Avatar/Avatar.test.js",
    "packages/mui-material/src/AvatarGroup/index.d.ts",
    "packages/mui-material/src/AvatarGroup/avatarGroupClasses.ts",
    "packages/mui-lab/src/AvatarGroup/AvatarGroup.d.ts",
    "packages/mui-lab/src/AvatarGroup/index.d.ts",
    "packages/mui-material/src/ListItemAvatar/ListItemAvatar.js",
    "packages/mui-codemod/src/v5.0.0/avatar-circle-circular.test/actual.js",
    "packages/mui-material/src/CardHeader/CardHeader.test.js",
    "packages/mui-material/src/ButtonGroup/ButtonGroup.js",
    "packages/mui-material/src/usePagination/usePagination.test.js",
    "packages/mui-codemod/src/v5.0.0/avatar-circle-circular.test/expected.js",
    "packages/mui-material/src/usePagination/usePagination.js",
    "packages/mui-material/src/Pagination/Pagination.js",
    "packages/mui-material/src/Avatar/avatarClasses.ts",
    "packages/mui-codemod/src/v5.0.0/preset-safe.test/actual.js",
    "packages/mui-material/src/Badge/Badge.test.js",
    "packages/mui-material/src/ListItemAvatar/ListItemAvatar.d.ts",
    "packages/mui-codemod/src/v5.0.0/avatar-circle-circular.js",
    "packages/mui-material/src/ButtonGroup/ButtonGroup.d.ts",
    "packages/mui-material/src/ToggleButtonGroup/ToggleButtonGroup.js",
    "packages/mui-codemod/src/v5.0.0/badge-overlap-value.test/actual.js",
    "packages/mui-material/src/TablePagination/TablePagination.test.js",
    "packages/mui-material/src/Autocomplete/Autocomplete.js",
    "packages/mui-codemod/src/v5.0.0/avatar-circle-circular.test.js",
    "packages/mui-material/src/Pagination/Pagination.test.js",
    "packages/mui-material/src/ImageList/ImageList.test.js",
    "packages/mui-material/src/TablePagination/TablePaginationActions.js",
    "packages/mui-material/src/ButtonGroup/ButtonGroup.test.js",
    "packages/mui-codemod/src/v5.0.0/pagination-round-circular.test/actual.js",
    "packages/mui-material/src/Button/Button.js",
    "packages/mui-material/src/TablePagination/TablePagination.js",
    "packages/mui-material/src/Grow/Grow.js",
    "packages/mui-material/src/Avatar/index.js",
    "packages/mui-material/src/Badge/Badge.js",
    "packages/mui-material/src/ListItemAvatar/ListItemAvatar.test.js",
    "packages/mui-base/src/AutocompleteUnstyled/useAutocomplete.js",
    "packages/mui-codemod/src/v5.0.0/badge-overlap-value.test/expected.js",
    "packages/mui-base/src/TextareaAutosize/TextareaAutosize.test.js",
    "packages/mui-material/src/Accordion/Accordion.test.js",
    "packages/mui-codemod/src/v5.0.0/preset-safe.test/expected.js",
    "packages/mui-material/src/ToggleButtonGroup/ToggleButtonGroup.d.ts",
    "packages/mui-material/src/Rating/Rating.js",
    "packages/mui-material/src/Skeleton/Skeleton.js",
    "packages/mui-codemod/src/v5.0.0/badge-overlap-value.js",
    "packages/mui-codemod/src/v5.0.0/pagination-round-circular.test/expected.js",
    "packages/mui-material/src/Hidden/Hidden.js",
    "packages/mui-lab/src/Masonry/Masonry.js",
    "packages/mui-material/src/PaginationItem/PaginationItem.js",
    "packages/mui-base/src/TextareaAutosize/TextareaAutosize.js"
  ],
  "3_final_combined_files": [
    "packages/mui-material/src/AvatarGroup/AvatarGroup.js",
    "packages/mui-material/src/AvatarGroup/AvatarGroup.d.ts",
    "packages/mui-material/src/AvatarGroup/AvatarGroup.test.js"
  ],
  "4_related_elements": {
    "packages/mui-material/src/AvatarGroup/AvatarGroup.js": [
      "function: AvatarGroup\nvariable: extraAvatars\nvariable: ownerState\nvariable: children\nvariable: AvatarGroup.propTypes"
    ],
    "packages/mui-material/src/AvatarGroup/AvatarGroup.d.ts": [
      "function: AvatarGroup\nvariable: AvatarGroupProps"
    ],
    "packages/mui-material/src/AvatarGroup/AvatarGroup.test.js": [
      "function: it"
    ]
  },
  "5_sampled_edit_locs_and_patches": [
    {
      "sample_index": 0,
      "edit_locs": {
        "packages/mui-material/src/AvatarGroup/AvatarGroup.js": [
          "line: 70\nfunction: AvatarGroup\nfunction: AvatarGroup.propTypes"
        ],
        "packages/mui-material/src/AvatarGroup/AvatarGroup.d.ts": [
          "class: AvatarGroupProps"
        ],
        "packages/mui-material/src/AvatarGroup/AvatarGroup.test.js": [
          ""
        ]
      },
      "patches": [
        "diff --git a/packages/mui-material/src/AvatarGroup/AvatarGroup.d.ts b/packages/mui-material/src/AvatarGroup/AvatarGroup.d.ts\nindex e6a0a98..ce329ca 100644\n--- a/packages/mui-material/src/AvatarGroup/AvatarGroup.d.ts\n+++ b/packages/mui-material/src/AvatarGroup/AvatarGroup.d.ts\n@@ -1,3 +1,4 @@\n+\n import * as React from 'react';\n import { InternalStandardProps as StandardProps, Theme } from '@mui/material';\n import { OverridableStringUnion } from '@mui/types';\n@@ -9,6 +10,12 @@ export interface AvatarGroupPropsVariantOverrides {}\n export interface AvatarGroupProps extends StandardProps<React.HTMLAttributes<HTMLDivElement>> {\n   /**\n    * The avatars to stack.\n+  /**\n+   * The total number of avatars.\n+   * If provided, this value is used to calculate the \"+x\" counter instead of relying on the number of `Avatar` children.\n+   * Useful for paginated or partially loaded data where the backend provides the total count.\n+   */\n+  total?: number;\n    */\n   children?: React.ReactNode;\n   /**\ndiff --git a/packages/mui-material/src/AvatarGroup/AvatarGroup.js b/packages/mui-material/src/AvatarGroup/AvatarGroup.js\nindex 5f249eb..f31df90 100644\n--- a/packages/mui-material/src/AvatarGroup/AvatarGroup.js\n+++ b/packages/mui-material/src/AvatarGroup/AvatarGroup.js\n@@ -79,6 +79,7 @@ const AvatarGroup = React.forwardRef(function AvatarGroup(inProps, ref) {\n     max,\n     spacing,\n     variant,\n+    total,\n   };\n \n   const classes = useUtilityClasses(ownerState);\n",
        "diff --git a/packages/mui-material/src/AvatarGroup/AvatarGroup.js b/packages/mui-material/src/AvatarGroup/AvatarGroup.js\nindex 5f249eb..1c728be 100644\n--- a/packages/mui-material/src/AvatarGroup/AvatarGroup.js\n+++ b/packages/mui-material/src/AvatarGroup/AvatarGroup.js\n@@ -69,6 +69,7 @@ const AvatarGroup = React.forwardRef(function AvatarGroup(inProps, ref) {\n     className,\n     max = 5,\n     spacing = 'medium',\n+    total,\n     variant = 'circular',\n     ...other\n   } = props;\n"
      ],
      "edit_loc_traj": {
        "prompt": "\nPlease review the following GitHub problem description and relevant files, and provide a set of locations that need to be edited to fix the issue.\nThe locations can be specified as class names, function or method names, or exact line numbers that require modification.\n\n### GitHub Problem Description ###\n[Avatar] Allow the customization of how the \"+x\" is calculated\n### Duplicates\n\n- [X] I have searched the existing issues\n\n### Latest version\n\n- [X] I have tested the latest version\n\n### Summary ðŸ’¡\n\nAt the moment `AvatarGroup` solely relies on the amount of `Avatar` children to internally calculate how many `Avatar`s are left so that it is displayed on the \"+X\" `Avatar`.\r\n\r\nThe `AvatarGroup` component should expose an API that allows to \"override\" said calculation by ignoring the amount of children and, instead, consider a provided `total` amount. \n\n### Examples ðŸŒˆ\n\nCurrent implementation (docs example):\r\n```\r\nexport default function GroupAvatars() {\r\n  return (\r\n    <AvatarGroup max={4}>\r\n      <Avatar alt=\"Remy Sharp\" src=\"/static/images/avatar/1.jpg\" />\r\n      <Avatar alt=\"Travis Howard\" src=\"/static/images/avatar/2.jpg\" />\r\n      <Avatar alt=\"Cindy Baker\" src=\"/static/images/avatar/3.jpg\" />\r\n      <Avatar alt=\"Agnes Walker\" src=\"/static/images/avatar/4.jpg\" />\r\n      <Avatar alt=\"Trevor Henderson\" src=\"/static/images/avatar/5.jpg\" />\r\n    </AvatarGroup>\r\n  );\r\n}\r\n```\r\n\r\nSuggested implementation:\r\n```\r\nexport default function GroupAvatars() {\r\n  return (\r\n    <AvatarGroup max={4} total={5}>\r\n      <Avatar alt=\"Remy Sharp\" src=\"/static/images/avatar/1.jpg\" />\r\n      <Avatar alt=\"Travis Howard\" src=\"/static/images/avatar/2.jpg\" />\r\n      <Avatar alt=\"Cindy Baker\" src=\"/static/images/avatar/3.jpg\" />\r\n    </AvatarGroup>\r\n  );\r\n}\r\n```\n\n### Motivation ðŸ”¦\n\nUse case: \r\n\r\n- Huge **paginated** list of N users fetched from the backend server\r\n- Show said list as an `AvatarGroup` but only the first 3 should be shown and the remaining ones should be displayed as \"+N-3\"\r\n- Backend server also exposes the total number of users (N) in the db\r\n\r\nProblem:\r\n\r\n- It's unfeasible to ask for all the users at once to fulfill the requirement of the `AvatarGroup` since it needs N `Avatar`s as children to calculate the \"+x\"\n\n###\n### packages/mui-material/src/AvatarGroup/AvatarGroup.js\n...\n51|  overridesResolver: (props, styles) => styles.avatar,\n52|})(({ theme }) => ({\n53|  border: `2px solid ${theme.palette.background.default}`,\n54|  boxSizing: 'content-box',\n55|  marginLeft: -8,\n56|  '&:last-child': {\n57|    marginLeft: 0,\n58|  },\n59|}));\n60|\n61|const AvatarGroup = React.forwardRef(function AvatarGroup(inProps, ref) {\n62|  const props = useThemeProps({\n63|    props: inProps,\n64|    name: 'MuiAvatarGroup',\n65|  });\n66|\n67|  const {\n68|    children: childrenProp,\n69|    className,\n70|    max = 5,\n71|    spacing = 'medium',\n72|    variant = 'circular',\n73|    ...other\n74|  } = props;\n75|  const clampedMax = max < 2 ? 2 : max;\n76|\n77|  const ownerState = {\n78|    ...props,\n79|    max,\n80|    spacing,\n81|    variant,\n82|  };\n83|\n84|  const classes = useUtilityClasses(ownerState);\n85|\n86|  const children = React.Children.toArray(childrenProp).filter((child) => {\n87|    if (process.env.NODE_ENV !== 'production') {\n88|      if (isFragment(child)) {\n89|        console.error(\n90|          [\n91|            \"MUI: The AvatarGroup component doesn't accept a Fragment as a child.\",\n...\n\n\n### packages/mui-material/src/AvatarGroup/AvatarGroup.d.ts\n...\n42|/**\n43| *\n44| * Demos:\n45| *\n46| * - [Avatars](https://mui.com/components/avatars/)\n47| *\n48| * API:\n49| *\n50| * - [AvatarGroup API](https://mui.com/api/avatar-group/)\n51| */\n52|export default function AvatarGroup(props: AvatarGroupProps): JSX.Element;\n\n\n### packages/mui-material/src/AvatarGroup/AvatarGroup.test.js\n1|import * as React from 'react';\n2|import { expect } from 'chai';\n3|import { describeConformance, createRenderer } from 'test/utils';\n4|import Avatar from '@mui/material/Avatar';\n5|import AvatarGroup, { avatarGroupClasses as classes } from '@mui/material/AvatarGroup';\n6|\n7|describe('<AvatarGroup />', () => {\n8|  const { render } = createRenderer();\n9|\n10|  describeConformance(\n11|    <AvatarGroup>\n12|      <div />\n13|    </AvatarGroup>,\n14|    () => ({\n15|      classes,\n16|      inheritComponent: 'div',\n17|      render,\n18|      muiName: 'MuiAvatarGroup',\n19|      refInstanceof: window.HTMLDivElement,\n20|      testVariantProps: { max: 10, spacing: 'small', variant: 'square' },\n21|      skip: ['componentProp', 'componentsProp'],\n22|    }),\n23|  );\n24|\n25|  it('should display all the avatars', () => {\n26|    const { container } = render(\n27|      <AvatarGroup max={3}>\n28|        <Avatar src=\"/fake.png\" />\n29|        <Avatar src=\"/fake.png\" />\n30|        <Avatar src=\"/fake.png\" />\n31|      </AvatarGroup>,\n32|    );\n33|    expect(container.querySelectorAll('.MuiAvatar-root').length).to.equal(3);\n34|    expect(container.querySelectorAll('img').length).to.equal(3);\n35|    expect(container.textContent).to.equal('');\n36|  });\n37|\n38|  it('should display 2 avatars and \"+2\"', () => {\n39|    const { container } = render(\n40|      <AvatarGroup max={3}>\n41|        <Avatar src=\"/fake.png\" />\n42|        <Avatar src=\"/fake.png\" />\n43|        <Avatar src=\"/fake.png\" />\n44|        <Avatar src=\"/fake.png\" />\n45|      </AvatarGroup>,\n46|    );\n47|    expect(container.querySelectorAll('.MuiAvatar-root').length).to.equal(3);\n48|    expect(container.querySelectorAll('img').length).to.equal(2);\n49|    expect(container.textContent).to.equal('+2');\n50|  });\n51|\n52|  it('should display all avatars with default (circular) variant', () => {\n53|    const { container } = render(\n54|      <AvatarGroup>\n55|        <Avatar src=\"/fake.png\" />\n56|      </AvatarGroup>,\n57|    );\n58|    const avatarGroup = container.firstChild;\n59|    const avatar = avatarGroup.firstChild;\n60|    expect(container.querySelectorAll('.MuiAvatar-root').length).to.equal(\n61|      avatarGroup.childNodes.length,\n62|    );\n63|    expect(avatar).to.have.class('MuiAvatar-circular');\n64|    expect(avatar).not.to.have.class('MuiAvatar-rounded');\n65|    expect(avatar).not.to.have.class('MuiAvatar-square');\n66|  });\n67|\n68|  it('should display all avatars with the specified variant', () => {\n69|    const { container } = render(\n70|      <AvatarGroup variant=\"square\">\n71|        <Avatar src=\"/fake.png\" />\n72|      </AvatarGroup>,\n73|    );\n74|    const avatarGroup = container.firstChild;\n75|    const avatar = avatarGroup.firstChild;\n76|    expect(container.querySelectorAll('.MuiAvatar-root').length).to.equal(\n77|      avatarGroup.childNodes.length,\n78|    );\n79|    expect(avatar).to.have.class('MuiAvatar-square');\n80|    expect(avatar).not.to.have.class('MuiAvatar-circular');\n81|    expect(avatar).not.to.have.class('MuiAvatar-rounded');\n82|  });\n83|\n84|  it(\"should respect child's avatar variant prop if specified\", () => {\n85|    const { container } = render(\n86|      <AvatarGroup variant=\"square\">\n87|        <Avatar src=\"/fake.png\" variant=\"rounded\" />\n88|      </AvatarGroup>,\n89|    );\n90|    const avatarGroup = container.firstChild;\n91|    const roundedAvatar = avatarGroup.firstChild;\n92|    expect(roundedAvatar).to.have.class('MuiAvatar-rounded');\n93|    expect(roundedAvatar).not.to.have.class('MuiAvatar-circular');\n94|    expect(roundedAvatar).not.to.have.class('MuiAvatar-square');\n95|  });\n96|});\n\n\n\n\n###\n\nPlease provide the class name, function or method name, or the exact line numbers that need to be edited.\nThe possible location outputs should be either \"class\", \"function\" or \"line\".\n\n### Examples:\n```\nfull_path1/file1.ts\nline: 10\nclass: MyClass1\nline: 51\n\nfull_path2/file2.ts\nfunction: MyClass2.my_method\nline: 12\n\nfull_path3/file3.ts\nfunction: my_function\nline: 24\nline: 156\n```\n\nReturn just the location(s) wrapped with ```.\n",
        "response": [
          "```\npackages/mui-material/src/AvatarGroup/AvatarGroup.js\nline: 70\nfunction: AvatarGroup\nfunction: AvatarGroup.propTypes\n\npackages/mui-material/src/AvatarGroup/AvatarGroup.d.ts\nclass: AvatarGroupProps\n```",
          "```\npackages/mui-material/src/AvatarGroup/AvatarGroup.js\nline: 73\nline: 82\nfunction: AvatarGroup\n\npackages/mui-material/src/AvatarGroup/AvatarGroup.d.ts\nline: 1\n```"
        ],
        "usage": {
          "completion_tokens": 0,
          "prompt_tokens": 0
        }
      },
      "additional_artifact_loc_edit_location": [
        {
          "raw_output_loc": [
            "```\npackages/mui-material/src/AvatarGroup/AvatarGroup.js\nline: 70\nfunction: AvatarGroup\nfunction: AvatarGroup.propTypes\n\npackages/mui-material/src/AvatarGroup/AvatarGroup.d.ts\nclass: AvatarGroupProps\n```",
            "```\npackages/mui-material/src/AvatarGroup/AvatarGroup.js\nline: 73\nline: 82\nfunction: AvatarGroup\n\npackages/mui-material/src/AvatarGroup/AvatarGroup.d.ts\nline: 1\n```"
          ]
        }
      ]
    },
    {
      "sample_index": 1,
      "edit_locs": {
        "packages/mui-material/src/AvatarGroup/AvatarGroup.js": [
          "line: 73\nline: 82\nfunction: AvatarGroup"
        ],
        "packages/mui-material/src/AvatarGroup/AvatarGroup.d.ts": [
          "line: 1"
        ],
        "packages/mui-material/src/AvatarGroup/AvatarGroup.test.js": [
          ""
        ]
      },
      "patches": [
        "diff --git a/packages/mui-material/src/AvatarGroup/AvatarGroup.d.ts b/packages/mui-material/src/AvatarGroup/AvatarGroup.d.ts\nindex e6a0a98..02e343f 100644\n--- a/packages/mui-material/src/AvatarGroup/AvatarGroup.d.ts\n+++ b/packages/mui-material/src/AvatarGroup/AvatarGroup.d.ts\n@@ -1,3 +1,4 @@\n+\n import * as React from 'react';\n import { InternalStandardProps as StandardProps, Theme } from '@mui/material';\n import { OverridableStringUnion } from '@mui/types';\n@@ -7,6 +8,12 @@ import { AvatarGroupClasses } from './avatarGroupClasses';\n export interface AvatarGroupPropsVariantOverrides {}\n \n export interface AvatarGroupProps extends StandardProps<React.HTMLAttributes<HTMLDivElement>> {\n+  /**\n+   * The total number of avatars.\n+   * When provided, this value is used to calculate the \"+x\" indicator instead of relying\n+   * on the number of `Avatar` children. Useful for paginated or server-side data.\n+   */\n+  total?: number;\n   /**\n    * The avatars to stack.\n    */\ndiff --git a/packages/mui-material/src/AvatarGroup/AvatarGroup.js b/packages/mui-material/src/AvatarGroup/AvatarGroup.js\nindex 5f249eb..af9bdc5 100644\n--- a/packages/mui-material/src/AvatarGroup/AvatarGroup.js\n+++ b/packages/mui-material/src/AvatarGroup/AvatarGroup.js\n@@ -70,6 +70,7 @@ const AvatarGroup = React.forwardRef(function AvatarGroup(inProps, ref) {\n     max = 5,\n     spacing = 'medium',\n     variant = 'circular',\n+    total,\n     ...other\n   } = props;\n   const clampedMax = max < 2 ? 2 : max;\n@@ -79,6 +80,7 @@ const AvatarGroup = React.forwardRef(function AvatarGroup(inProps, ref) {\n     max,\n     spacing,\n     variant,\n+    total,\n   };\n \n   const classes = useUtilityClasses(ownerState);\n",
        "diff --git a/packages/mui-material/src/AvatarGroup/AvatarGroup.js b/packages/mui-material/src/AvatarGroup/AvatarGroup.js\nindex 5f249eb..10498ca 100644\n--- a/packages/mui-material/src/AvatarGroup/AvatarGroup.js\n+++ b/packages/mui-material/src/AvatarGroup/AvatarGroup.js\n@@ -70,6 +70,7 @@ const AvatarGroup = React.forwardRef(function AvatarGroup(inProps, ref) {\n     max = 5,\n     spacing = 'medium',\n     variant = 'circular',\n+    total,\n     ...other\n   } = props;\n   const clampedMax = max < 2 ? 2 : max;\n@@ -79,9 +80,13 @@ const AvatarGroup = React.forwardRef(function AvatarGroup(inProps, ref) {\n     max,\n     spacing,\n     variant,\n+    total,\n   };\n \n   const classes = useUtilityClasses(ownerState);\n+  // If `total` is provided, it will be used by the overflow \"+x\" calculation downstream\n+  // to represent the total number of avatars, independent of rendered children.\n+  const computedTotal = typeof total === 'number' ? total : undefined;\n \n   const children = React.Children.toArray(childrenProp).filter((child) => {\n     if (process.env.NODE_ENV !== 'production') {\n"
      ],
      "edit_loc_traj": {
        "prompt": "\nPlease review the following GitHub problem description and relevant files, and provide a set of locations that need to be edited to fix the issue.\nThe locations can be specified as class names, function or method names, or exact line numbers that require modification.\n\n### GitHub Problem Description ###\n[Avatar] Allow the customization of how the \"+x\" is calculated\n### Duplicates\n\n- [X] I have searched the existing issues\n\n### Latest version\n\n- [X] I have tested the latest version\n\n### Summary ðŸ’¡\n\nAt the moment `AvatarGroup` solely relies on the amount of `Avatar` children to internally calculate how many `Avatar`s are left so that it is displayed on the \"+X\" `Avatar`.\r\n\r\nThe `AvatarGroup` component should expose an API that allows to \"override\" said calculation by ignoring the amount of children and, instead, consider a provided `total` amount. \n\n### Examples ðŸŒˆ\n\nCurrent implementation (docs example):\r\n```\r\nexport default function GroupAvatars() {\r\n  return (\r\n    <AvatarGroup max={4}>\r\n      <Avatar alt=\"Remy Sharp\" src=\"/static/images/avatar/1.jpg\" />\r\n      <Avatar alt=\"Travis Howard\" src=\"/static/images/avatar/2.jpg\" />\r\n      <Avatar alt=\"Cindy Baker\" src=\"/static/images/avatar/3.jpg\" />\r\n      <Avatar alt=\"Agnes Walker\" src=\"/static/images/avatar/4.jpg\" />\r\n      <Avatar alt=\"Trevor Henderson\" src=\"/static/images/avatar/5.jpg\" />\r\n    </AvatarGroup>\r\n  );\r\n}\r\n```\r\n\r\nSuggested implementation:\r\n```\r\nexport default function GroupAvatars() {\r\n  return (\r\n    <AvatarGroup max={4} total={5}>\r\n      <Avatar alt=\"Remy Sharp\" src=\"/static/images/avatar/1.jpg\" />\r\n      <Avatar alt=\"Travis Howard\" src=\"/static/images/avatar/2.jpg\" />\r\n      <Avatar alt=\"Cindy Baker\" src=\"/static/images/avatar/3.jpg\" />\r\n    </AvatarGroup>\r\n  );\r\n}\r\n```\n\n### Motivation ðŸ”¦\n\nUse case: \r\n\r\n- Huge **paginated** list of N users fetched from the backend server\r\n- Show said list as an `AvatarGroup` but only the first 3 should be shown and the remaining ones should be displayed as \"+N-3\"\r\n- Backend server also exposes the total number of users (N) in the db\r\n\r\nProblem:\r\n\r\n- It's unfeasible to ask for all the users at once to fulfill the requirement of the `AvatarGroup` since it needs N `Avatar`s as children to calculate the \"+x\"\n\n###\n### packages/mui-material/src/AvatarGroup/AvatarGroup.js\n...\n51|  overridesResolver: (props, styles) => styles.avatar,\n52|})(({ theme }) => ({\n53|  border: `2px solid ${theme.palette.background.default}`,\n54|  boxSizing: 'content-box',\n55|  marginLeft: -8,\n56|  '&:last-child': {\n57|    marginLeft: 0,\n58|  },\n59|}));\n60|\n61|const AvatarGroup = React.forwardRef(function AvatarGroup(inProps, ref) {\n62|  const props = useThemeProps({\n63|    props: inProps,\n64|    name: 'MuiAvatarGroup',\n65|  });\n66|\n67|  const {\n68|    children: childrenProp,\n69|    className,\n70|    max = 5,\n71|    spacing = 'medium',\n72|    variant = 'circular',\n73|    ...other\n74|  } = props;\n75|  const clampedMax = max < 2 ? 2 : max;\n76|\n77|  const ownerState = {\n78|    ...props,\n79|    max,\n80|    spacing,\n81|    variant,\n82|  };\n83|\n84|  const classes = useUtilityClasses(ownerState);\n85|\n86|  const children = React.Children.toArray(childrenProp).filter((child) => {\n87|    if (process.env.NODE_ENV !== 'production') {\n88|      if (isFragment(child)) {\n89|        console.error(\n90|          [\n91|            \"MUI: The AvatarGroup component doesn't accept a Fragment as a child.\",\n...\n\n\n### packages/mui-material/src/AvatarGroup/AvatarGroup.d.ts\n...\n42|/**\n43| *\n44| * Demos:\n45| *\n46| * - [Avatars](https://mui.com/components/avatars/)\n47| *\n48| * API:\n49| *\n50| * - [AvatarGroup API](https://mui.com/api/avatar-group/)\n51| */\n52|export default function AvatarGroup(props: AvatarGroupProps): JSX.Element;\n\n\n### packages/mui-material/src/AvatarGroup/AvatarGroup.test.js\n1|import * as React from 'react';\n2|import { expect } from 'chai';\n3|import { describeConformance, createRenderer } from 'test/utils';\n4|import Avatar from '@mui/material/Avatar';\n5|import AvatarGroup, { avatarGroupClasses as classes } from '@mui/material/AvatarGroup';\n6|\n7|describe('<AvatarGroup />', () => {\n8|  const { render } = createRenderer();\n9|\n10|  describeConformance(\n11|    <AvatarGroup>\n12|      <div />\n13|    </AvatarGroup>,\n14|    () => ({\n15|      classes,\n16|      inheritComponent: 'div',\n17|      render,\n18|      muiName: 'MuiAvatarGroup',\n19|      refInstanceof: window.HTMLDivElement,\n20|      testVariantProps: { max: 10, spacing: 'small', variant: 'square' },\n21|      skip: ['componentProp', 'componentsProp'],\n22|    }),\n23|  );\n24|\n25|  it('should display all the avatars', () => {\n26|    const { container } = render(\n27|      <AvatarGroup max={3}>\n28|        <Avatar src=\"/fake.png\" />\n29|        <Avatar src=\"/fake.png\" />\n30|        <Avatar src=\"/fake.png\" />\n31|      </AvatarGroup>,\n32|    );\n33|    expect(container.querySelectorAll('.MuiAvatar-root').length).to.equal(3);\n34|    expect(container.querySelectorAll('img').length).to.equal(3);\n35|    expect(container.textContent).to.equal('');\n36|  });\n37|\n38|  it('should display 2 avatars and \"+2\"', () => {\n39|    const { container } = render(\n40|      <AvatarGroup max={3}>\n41|        <Avatar src=\"/fake.png\" />\n42|        <Avatar src=\"/fake.png\" />\n43|        <Avatar src=\"/fake.png\" />\n44|        <Avatar src=\"/fake.png\" />\n45|      </AvatarGroup>,\n46|    );\n47|    expect(container.querySelectorAll('.MuiAvatar-root').length).to.equal(3);\n48|    expect(container.querySelectorAll('img').length).to.equal(2);\n49|    expect(container.textContent).to.equal('+2');\n50|  });\n51|\n52|  it('should display all avatars with default (circular) variant', () => {\n53|    const { container } = render(\n54|      <AvatarGroup>\n55|        <Avatar src=\"/fake.png\" />\n56|      </AvatarGroup>,\n57|    );\n58|    const avatarGroup = container.firstChild;\n59|    const avatar = avatarGroup.firstChild;\n60|    expect(container.querySelectorAll('.MuiAvatar-root').length).to.equal(\n61|      avatarGroup.childNodes.length,\n62|    );\n63|    expect(avatar).to.have.class('MuiAvatar-circular');\n64|    expect(avatar).not.to.have.class('MuiAvatar-rounded');\n65|    expect(avatar).not.to.have.class('MuiAvatar-square');\n66|  });\n67|\n68|  it('should display all avatars with the specified variant', () => {\n69|    const { container } = render(\n70|      <AvatarGroup variant=\"square\">\n71|        <Avatar src=\"/fake.png\" />\n72|      </AvatarGroup>,\n73|    );\n74|    const avatarGroup = container.firstChild;\n75|    const avatar = avatarGroup.firstChild;\n76|    expect(container.querySelectorAll('.MuiAvatar-root').length).to.equal(\n77|      avatarGroup.childNodes.length,\n78|    );\n79|    expect(avatar).to.have.class('MuiAvatar-square');\n80|    expect(avatar).not.to.have.class('MuiAvatar-circular');\n81|    expect(avatar).not.to.have.class('MuiAvatar-rounded');\n82|  });\n83|\n84|  it(\"should respect child's avatar variant prop if specified\", () => {\n85|    const { container } = render(\n86|      <AvatarGroup variant=\"square\">\n87|        <Avatar src=\"/fake.png\" variant=\"rounded\" />\n88|      </AvatarGroup>,\n89|    );\n90|    const avatarGroup = container.firstChild;\n91|    const roundedAvatar = avatarGroup.firstChild;\n92|    expect(roundedAvatar).to.have.class('MuiAvatar-rounded');\n93|    expect(roundedAvatar).not.to.have.class('MuiAvatar-circular');\n94|    expect(roundedAvatar).not.to.have.class('MuiAvatar-square');\n95|  });\n96|});\n\n\n\n\n###\n\nPlease provide the class name, function or method name, or the exact line numbers that need to be edited.\nThe possible location outputs should be either \"class\", \"function\" or \"line\".\n\n### Examples:\n```\nfull_path1/file1.ts\nline: 10\nclass: MyClass1\nline: 51\n\nfull_path2/file2.ts\nfunction: MyClass2.my_method\nline: 12\n\nfull_path3/file3.ts\nfunction: my_function\nline: 24\nline: 156\n```\n\nReturn just the location(s) wrapped with ```.\n",
        "response": [
          "```\npackages/mui-material/src/AvatarGroup/AvatarGroup.js\nline: 70\nfunction: AvatarGroup\nfunction: AvatarGroup.propTypes\n\npackages/mui-material/src/AvatarGroup/AvatarGroup.d.ts\nclass: AvatarGroupProps\n```",
          "```\npackages/mui-material/src/AvatarGroup/AvatarGroup.js\nline: 73\nline: 82\nfunction: AvatarGroup\n\npackages/mui-material/src/AvatarGroup/AvatarGroup.d.ts\nline: 1\n```"
        ],
        "usage": {
          "completion_tokens": 0,
          "prompt_tokens": 0
        }
      },
      "additional_artifact_loc_edit_location": [
        {
          "raw_output_loc": [
            "```\npackages/mui-material/src/AvatarGroup/AvatarGroup.js\nline: 70\nfunction: AvatarGroup\nfunction: AvatarGroup.propTypes\n\npackages/mui-material/src/AvatarGroup/AvatarGroup.d.ts\nclass: AvatarGroupProps\n```",
            "```\npackages/mui-material/src/AvatarGroup/AvatarGroup.js\nline: 73\nline: 82\nfunction: AvatarGroup\n\npackages/mui-material/src/AvatarGroup/AvatarGroup.d.ts\nline: 1\n```"
          ]
        }
      ]
    }
  ],
  "6_final_selected_patch": "diff --git a/packages/mui-material/src/AvatarGroup/AvatarGroup.js b/packages/mui-material/src/AvatarGroup/AvatarGroup.js\nindex 5f249eb..1c728be 100644\n--- a/packages/mui-material/src/AvatarGroup/AvatarGroup.js\n+++ b/packages/mui-material/src/AvatarGroup/AvatarGroup.js\n@@ -69,6 +69,7 @@ const AvatarGroup = React.forwardRef(function AvatarGroup(inProps, ref) {\n     className,\n     max = 5,\n     spacing = 'medium',\n+    total,\n     variant = 'circular',\n     ...other\n   } = props;\n",
  "7_resolved": false
}