{
  "instance_id": "Multi-SWE-Bench__typescript__maintenance__bugfix__8d0f55cd",
  "original_id": "mui__material-ui-34159",
  "1_model_selected_files": [
    "packages/mui-material/src/ListItemButton/ListItemButton.js",
    "packages/mui-material/src/ListItemButton/ListItemButton.test.js",
    "packages/mui-material/src/ListItemButton/ListItemButton.d.ts",
    "packages/mui-material/src/ButtonBase/ButtonBase.js",
    "packages/mui-material/src/styles/useThemeProps.js"
  ],
  "2_embedding_selected_files": [
    "packages/mui-material/src/ListItemButton/ListItemButton.js",
    "packages/mui-material/src/Link/Link.js",
    "packages/mui-material/src/ListItemButton/ListItemButton.test.js",
    "packages/mui-codemod/src/v5.0.0/link-underline-hover.test/actual.js",
    "packages/mui-material/src/ListItem/ListItem.js",
    "packages/mui-material/src/ListItem/ListItem.test.js",
    "packages/mui-codemod/src/v5.0.0/link-underline-hover.test/expected.js",
    "packages/mui-material/src/ButtonBase/ButtonBase.test.js",
    "packages/mui-material/src/Link/Link.test.js",
    "packages/mui-material/src/ListItem/ListItem.d.ts",
    "packages/mui-material/src/ListItemButton/ListItemButton.d.ts",
    "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/sixth.expected.js",
    "packages/mui-material/src/MenuItem/MenuItem.js",
    "packages/mui-material/src/ListItemSecondaryAction/ListItemSecondaryAction.js",
    "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/second.expected.js",
    "packages/mui-material/src/ListItemText/ListItemText.js",
    "packages/mui-material/src/ListItemAvatar/ListItemAvatar.js",
    "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/sixth.actual.js",
    "packages/mui-material/src/ListItemIcon/ListItemIcon.js",
    "packages/mui-material/src/Link/Link.d.ts",
    "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/fifth.expected.js",
    "packages/mui-material/src/ImageListItem/ImageListItem.js",
    "packages/mui-material/src/ImageListItem/ImageListItem.test.js",
    "packages/mui-material/src/Button/Button.test.js",
    "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/second.actual.js",
    "packages/mui-codemod/src/v5.0.0/theme-spacing.test/large-expected.js",
    "packages/mui-material/src/ListItemIcon/ListItemIcon.test.js",
    "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/eighth.expected.js",
    "packages/mui-material/src/Switch/Switch.js",
    "packages/mui-codemod/src/v5.0.0/base-rename-components-to-slots.test/actual.js",
    "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/fifth.actual.js",
    "packages/mui-codemod/src/v5.0.0/mui-replace.test/actual.js",
    "packages/mui-material/src/ListItemSecondaryAction/ListItemSecondaryAction.test.js",
    "packages/mui-material/src/ButtonGroup/ButtonGroup.test.js",
    "packages/mui-material/src/ListItemText/ListItemText.test.js",
    "packages/mui-material/src/ImageListItemBar/ImageListItemBar.js",
    "packages/mui-codemod/src/v5.0.0/mui-replace.test/expected.js",
    "packages/mui-codemod/src/v5.0.0/root-ref.test/expected.js",
    "packages/mui-codemod/src/v5.0.0/theme-spacing.test/large-actual.js",
    "packages/mui-material/src/ButtonBase/ButtonBase.js",
    "packages/mui-material/src/Button/Button.js",
    "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/fourth.expected.js",
    "packages/mui-material/src/ToggleButton/ToggleButton.js",
    "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/multipleWithStyles.expected.js",
    "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/third.expected.js",
    "packages/mui-material/src/OverridableComponent.d.ts",
    "packages/mui-material/src/styles/createTheme.test.js",
    "packages/mui-codemod/src/v5.0.0/box-sx-prop.test/actual.js",
    "packages/mui-codemod/src/v5.0.0/grid-list-component.test/expected.js",
    "packages/mui-material/src/StepButton/StepButton.test.js",
    "packages/mui-material/src/StepLabel/StepLabel.test.js",
    "packages/mui-codemod/src/v5.0.0/base-rename-components-to-slots.test/expected.js",
    "packages/mui-codemod/src/v5.0.0/box-sx-prop.test/expected.js",
    "packages/mui-material/src/ImageListItemBar/ImageListItemBar.test.js",
    "packages/mui-material/src/ListItemAvatar/ListItemAvatar.test.js",
    "packages/mui-codemod/src/v5.0.0/jss-to-styled.test/eighth.actual.js",
    "packages/mui-material/src/StepButton/StepButton.js",
    "packages/mui-material/src/ListItemAvatar/ListItemAvatar.d.ts",
    "packages/mui-material/src/Badge/Badge.test.js",
    "packages/mui-material/src/IconButton/IconButton.js",
    "packages/mui-material/src/IconButton/IconButton.test.js",
    "packages/mui-material/src/BottomNavigation/BottomNavigation.test.js",
    "packages/mui-material/src/ListItemIcon/ListItemIcon.d.ts"
  ],
  "3_final_combined_files": [
    "packages/mui-material/src/ListItemButton/ListItemButton.js",
    "packages/mui-material/src/ListItemButton/ListItemButton.test.js",
    "packages/mui-material/src/ListItemButton/ListItemButton.d.ts",
    "packages/mui-material/src/Link/Link.js"
  ],
  "4_related_elements": {
    "packages/mui-material/src/ListItemButton/ListItemButton.js": [
      "function: ListItemButton\nvariable: ListItemButtonRoot"
    ],
    "packages/mui-material/src/ListItemButton/ListItemButton.test.js": [
      ""
    ],
    "packages/mui-material/src/ListItemButton/ListItemButton.d.ts": [
      ""
    ]
  },
  "5_sampled_edit_locs_and_patches": [
    {
      "sample_index": 0,
      "edit_locs": {
        "packages/mui-material/src/ListItemButton/ListItemButton.js": [
          "function: ListItemButton\nline: 132\nline: 180"
        ],
        "packages/mui-material/src/ListItemButton/ListItemButton.test.js": [
          ""
        ],
        "packages/mui-material/src/ListItemButton/ListItemButton.d.ts": [
          ""
        ]
      },
      "patches": [
        "diff --git a/packages/mui-material/src/ListItemButton/ListItemButton.js b/packages/mui-material/src/ListItemButton/ListItemButton.js\nindex 530e3e7..f22ee50 100644\n--- a/packages/mui-material/src/ListItemButton/ListItemButton.js\n+++ b/packages/mui-material/src/ListItemButton/ListItemButton.js\n@@ -181,7 +181,7 @@ const ListItemButton = React.forwardRef(function ListItemButton(inProps, ref) {\n       <ListItemButtonRoot\n         ref={handleRef}\n         href={other.href || other.to}\n-        component={(other.href || other.to) && component === 'div' ? 'a' : component}\n+        component={(other.href || other.to) && inProps.component === undefined ? undefined : component}\n         focusVisibleClassName={clsx(classes.focusVisible, focusVisibleClassName)}\n         ownerState={ownerState}\n         className={clsx(classes.root, className)}\n",
        "diff --git a/packages/mui-material/src/ListItemButton/ListItemButton.js b/packages/mui-material/src/ListItemButton/ListItemButton.js\nindex 530e3e7..86124e2 100644\n--- a/packages/mui-material/src/ListItemButton/ListItemButton.js\n+++ b/packages/mui-material/src/ListItemButton/ListItemButton.js\n@@ -181,7 +181,7 @@ const ListItemButton = React.forwardRef(function ListItemButton(inProps, ref) {\n       <ListItemButtonRoot\n         ref={handleRef}\n         href={other.href || other.to}\n-        component={(other.href || other.to) && component === 'div' ? 'a' : component}\n+        component={(other.href || other.to) && component === 'div' ? (other.LinkComponent || 'a') : component}\n         focusVisibleClassName={clsx(classes.focusVisible, focusVisibleClassName)}\n         ownerState={ownerState}\n         className={clsx(classes.root, className)}\n"
      ],
      "edit_loc_traj": {
        "prompt": "\nPlease review the following GitHub problem description and relevant files, and provide a set of locations that need to be edited to fix the issue.\nThe locations can be specified as class names, function or method names, or exact line numbers that require modification.\n\n### GitHub Problem Description ###\nLinkedComponent not respected by ListItemButton\n### Duplicates\n\n- [X] I have searched the existing issues\n\n### Latest version\n\n- [X] I have tested the latest version\n\n### Current behavior ðŸ˜¯\n\nSupplying `LinkComponent` to `ListItemButton` does not cause its `component` to be overriden.\n\n### Expected behavior ðŸ¤”\n\nSupplying `LinkComponent` to `ListItemButton` should cause its `component` to be overriden by the supplied component.\n\n### Steps to reproduce ðŸ•¹\n\nCan be found at https://codesandbox.io/s/naughty-wilson-yo40q8?file=/src/App.tsx.\n\n### Context ðŸ”¦\n\nEncountered this issue when trying to use https://mui.com/material-ui/guides/routing/#global-theme-link . Should be caused bt https://github.com/mui/material-ui/blob/v5.10.1/packages/mui-material/src/ListItemButton/ListItemButton.js#L180 .\n\n### Your environment ðŸŒŽ\n\n<details>\r\n  <summary><code>npx @mui/envinfo</code></summary>\r\n\r\n```\r\n\r\n  System:\r\n    OS: macOS 12.4\r\n  Binaries:\r\n    Node: 16.16.0 - ~/.nvm/versions/node/v16.16.0/bin/node\r\n    Yarn: 1.22.17 - /opt/homebrew/bin/yarn\r\n    npm: 8.11.0 - ~/.nvm/versions/node/v16.16.0/bin/npm\r\n  Browsers:\r\n    Chrome: 104.0.5112.101\r\n    Edge: Not Found\r\n    Firefox: Not Found\r\n    Safari: 15.5\r\n  npmPackages:\r\n    @emotion/react: ^11.10.0 => 11.10.0 \r\n    @emotion/styled: ^11.10.0 => 11.10.0 \r\n    @mui/base:  5.0.0-alpha.93 \r\n    @mui/core-downloads-tracker:  5.10.1 \r\n    @mui/icons-material: ^5.8.4 => 5.8.4 \r\n    @mui/material: ^5.10.1 => 5.10.1 \r\n    @mui/private-theming:  5.9.3 \r\n    @mui/styled-engine:  5.10.1 \r\n    @mui/system:  5.10.1 \r\n    @mui/types:  7.1.5 \r\n    @mui/utils:  5.9.3 \r\n    @types/react: ^18.0.17 => 18.0.17 \r\n    react: ^18.2.0 => 18.2.0 \r\n    react-dom: ^18.2.0 => 18.2.0 \r\n    typescript: ^4.7.4 => 4.7.4 \r\n```\r\n</details>\r\n\n\n###\n### packages/mui-material/src/ListItemButton/ListItemButton.js\n...\n117|  ...(!ownerState.disableGutters && {\n118|    paddingLeft: 16,\n119|    paddingRight: 16,\n120|  }),\n121|  ...(ownerState.dense && {\n122|    paddingTop: 4,\n123|    paddingBottom: 4,\n124|  }),\n125|}));\n126|\n127|const ListItemButton = React.forwardRef(function ListItemButton(inProps, ref) {\n128|  const props = useThemeProps({ props: inProps, name: 'MuiListItemButton' });\n129|  const {\n130|    alignItems = 'center',\n131|    autoFocus = false,\n132|    component = 'div',\n133|    children,\n134|    dense = false,\n135|    disableGutters = false,\n136|    divider = false,\n137|    focusVisibleClassName,\n138|    selected = false,\n139|    className,\n140|    ...other\n141|  } = props;\n142|\n143|  const context = React.useContext(ListContext);\n144|  const childContext = React.useMemo(\n145|    () => ({\n146|      dense: dense || context.dense || false,\n147|      alignItems,\n148|      disableGutters,\n149|    }),\n150|    [alignItems, context.dense, dense, disableGutters],\n151|  );\n152|\n153|  const listItemRef = React.useRef(null);\n154|  useEnhancedEffect(() => {\n155|    if (autoFocus) {\n156|      if (listItemRef.current) {\n157|        listItemRef.current.focus();\n...\n\n\n\n\n###\n\nPlease provide the class name, function or method name, or the exact line numbers that need to be edited.\nThe possible location outputs should be either \"class\", \"function\" or \"line\".\n\n### Examples:\n```\nfull_path1/file1.ts\nline: 10\nclass: MyClass1\nline: 51\n\nfull_path2/file2.ts\nfunction: MyClass2.my_method\nline: 12\n\nfull_path3/file3.ts\nfunction: my_function\nline: 24\nline: 156\n```\n\nReturn just the location(s) wrapped with ```.\n",
        "response": [
          "```\npackages/mui-material/src/ListItemButton/ListItemButton.js\nfunction: ListItemButton\nline: 132\nline: 180\n```",
          "```\npackages/mui-material/src/ListItemButton/ListItemButton.js\nfunction: ListItemButton\nline: 180\n```"
        ],
        "usage": {
          "completion_tokens": 0,
          "prompt_tokens": 0
        }
      },
      "additional_artifact_loc_edit_location": [
        {
          "raw_output_loc": [
            "```\npackages/mui-material/src/ListItemButton/ListItemButton.js\nfunction: ListItemButton\nline: 132\nline: 180\n```",
            "```\npackages/mui-material/src/ListItemButton/ListItemButton.js\nfunction: ListItemButton\nline: 180\n```"
          ]
        }
      ]
    },
    {
      "sample_index": 1,
      "edit_locs": {
        "packages/mui-material/src/ListItemButton/ListItemButton.js": [
          "function: ListItemButton\nline: 180"
        ],
        "packages/mui-material/src/ListItemButton/ListItemButton.test.js": [
          ""
        ],
        "packages/mui-material/src/ListItemButton/ListItemButton.d.ts": [
          ""
        ]
      },
      "patches": [
        "diff --git a/packages/mui-material/src/ListItemButton/ListItemButton.js b/packages/mui-material/src/ListItemButton/ListItemButton.js\nindex 530e3e7..9c501ea 100644\n--- a/packages/mui-material/src/ListItemButton/ListItemButton.js\n+++ b/packages/mui-material/src/ListItemButton/ListItemButton.js\n@@ -180,8 +180,9 @@ const ListItemButton = React.forwardRef(function ListItemButton(inProps, ref) {\n     <ListContext.Provider value={childContext}>\n       <ListItemButtonRoot\n         ref={handleRef}\n-        href={other.href || other.to}\n-        component={(other.href || other.to) && component === 'div' ? 'a' : component}\n+        href={other.href}\n+        to={other.to}\n+        component={component}\n         focusVisibleClassName={clsx(classes.focusVisible, focusVisibleClassName)}\n         ownerState={ownerState}\n         className={clsx(classes.root, className)}\n",
        "diff --git a/packages/mui-material/src/ListItemButton/ListItemButton.js b/packages/mui-material/src/ListItemButton/ListItemButton.js\nindex 530e3e7..9828b55 100644\n--- a/packages/mui-material/src/ListItemButton/ListItemButton.js\n+++ b/packages/mui-material/src/ListItemButton/ListItemButton.js\n@@ -180,8 +180,7 @@ const ListItemButton = React.forwardRef(function ListItemButton(inProps, ref) {\n     <ListContext.Provider value={childContext}>\n       <ListItemButtonRoot\n         ref={handleRef}\n-        href={other.href || other.to}\n-        component={(other.href || other.to) && component === 'div' ? 'a' : component}\n+        component={(other.href || other.to) && component === 'div' ? undefined : component}\n         focusVisibleClassName={clsx(classes.focusVisible, focusVisibleClassName)}\n         ownerState={ownerState}\n         className={clsx(classes.root, className)}\n"
      ],
      "edit_loc_traj": {
        "prompt": "\nPlease review the following GitHub problem description and relevant files, and provide a set of locations that need to be edited to fix the issue.\nThe locations can be specified as class names, function or method names, or exact line numbers that require modification.\n\n### GitHub Problem Description ###\nLinkedComponent not respected by ListItemButton\n### Duplicates\n\n- [X] I have searched the existing issues\n\n### Latest version\n\n- [X] I have tested the latest version\n\n### Current behavior ðŸ˜¯\n\nSupplying `LinkComponent` to `ListItemButton` does not cause its `component` to be overriden.\n\n### Expected behavior ðŸ¤”\n\nSupplying `LinkComponent` to `ListItemButton` should cause its `component` to be overriden by the supplied component.\n\n### Steps to reproduce ðŸ•¹\n\nCan be found at https://codesandbox.io/s/naughty-wilson-yo40q8?file=/src/App.tsx.\n\n### Context ðŸ”¦\n\nEncountered this issue when trying to use https://mui.com/material-ui/guides/routing/#global-theme-link . Should be caused bt https://github.com/mui/material-ui/blob/v5.10.1/packages/mui-material/src/ListItemButton/ListItemButton.js#L180 .\n\n### Your environment ðŸŒŽ\n\n<details>\r\n  <summary><code>npx @mui/envinfo</code></summary>\r\n\r\n```\r\n\r\n  System:\r\n    OS: macOS 12.4\r\n  Binaries:\r\n    Node: 16.16.0 - ~/.nvm/versions/node/v16.16.0/bin/node\r\n    Yarn: 1.22.17 - /opt/homebrew/bin/yarn\r\n    npm: 8.11.0 - ~/.nvm/versions/node/v16.16.0/bin/npm\r\n  Browsers:\r\n    Chrome: 104.0.5112.101\r\n    Edge: Not Found\r\n    Firefox: Not Found\r\n    Safari: 15.5\r\n  npmPackages:\r\n    @emotion/react: ^11.10.0 => 11.10.0 \r\n    @emotion/styled: ^11.10.0 => 11.10.0 \r\n    @mui/base:  5.0.0-alpha.93 \r\n    @mui/core-downloads-tracker:  5.10.1 \r\n    @mui/icons-material: ^5.8.4 => 5.8.4 \r\n    @mui/material: ^5.10.1 => 5.10.1 \r\n    @mui/private-theming:  5.9.3 \r\n    @mui/styled-engine:  5.10.1 \r\n    @mui/system:  5.10.1 \r\n    @mui/types:  7.1.5 \r\n    @mui/utils:  5.9.3 \r\n    @types/react: ^18.0.17 => 18.0.17 \r\n    react: ^18.2.0 => 18.2.0 \r\n    react-dom: ^18.2.0 => 18.2.0 \r\n    typescript: ^4.7.4 => 4.7.4 \r\n```\r\n</details>\r\n\n\n###\n### packages/mui-material/src/ListItemButton/ListItemButton.js\n...\n117|  ...(!ownerState.disableGutters && {\n118|    paddingLeft: 16,\n119|    paddingRight: 16,\n120|  }),\n121|  ...(ownerState.dense && {\n122|    paddingTop: 4,\n123|    paddingBottom: 4,\n124|  }),\n125|}));\n126|\n127|const ListItemButton = React.forwardRef(function ListItemButton(inProps, ref) {\n128|  const props = useThemeProps({ props: inProps, name: 'MuiListItemButton' });\n129|  const {\n130|    alignItems = 'center',\n131|    autoFocus = false,\n132|    component = 'div',\n133|    children,\n134|    dense = false,\n135|    disableGutters = false,\n136|    divider = false,\n137|    focusVisibleClassName,\n138|    selected = false,\n139|    className,\n140|    ...other\n141|  } = props;\n142|\n143|  const context = React.useContext(ListContext);\n144|  const childContext = React.useMemo(\n145|    () => ({\n146|      dense: dense || context.dense || false,\n147|      alignItems,\n148|      disableGutters,\n149|    }),\n150|    [alignItems, context.dense, dense, disableGutters],\n151|  );\n152|\n153|  const listItemRef = React.useRef(null);\n154|  useEnhancedEffect(() => {\n155|    if (autoFocus) {\n156|      if (listItemRef.current) {\n157|        listItemRef.current.focus();\n...\n\n\n\n\n###\n\nPlease provide the class name, function or method name, or the exact line numbers that need to be edited.\nThe possible location outputs should be either \"class\", \"function\" or \"line\".\n\n### Examples:\n```\nfull_path1/file1.ts\nline: 10\nclass: MyClass1\nline: 51\n\nfull_path2/file2.ts\nfunction: MyClass2.my_method\nline: 12\n\nfull_path3/file3.ts\nfunction: my_function\nline: 24\nline: 156\n```\n\nReturn just the location(s) wrapped with ```.\n",
        "response": [
          "```\npackages/mui-material/src/ListItemButton/ListItemButton.js\nfunction: ListItemButton\nline: 132\nline: 180\n```",
          "```\npackages/mui-material/src/ListItemButton/ListItemButton.js\nfunction: ListItemButton\nline: 180\n```"
        ],
        "usage": {
          "completion_tokens": 0,
          "prompt_tokens": 0
        }
      },
      "additional_artifact_loc_edit_location": [
        {
          "raw_output_loc": [
            "```\npackages/mui-material/src/ListItemButton/ListItemButton.js\nfunction: ListItemButton\nline: 132\nline: 180\n```",
            "```\npackages/mui-material/src/ListItemButton/ListItemButton.js\nfunction: ListItemButton\nline: 180\n```"
          ]
        }
      ]
    }
  ],
  "6_final_selected_patch": "diff --git a/packages/mui-material/src/ListItemButton/ListItemButton.js b/packages/mui-material/src/ListItemButton/ListItemButton.js\nindex 530e3e7..86124e2 100644\n--- a/packages/mui-material/src/ListItemButton/ListItemButton.js\n+++ b/packages/mui-material/src/ListItemButton/ListItemButton.js\n@@ -181,7 +181,7 @@ const ListItemButton = React.forwardRef(function ListItemButton(inProps, ref) {\n       <ListItemButtonRoot\n         ref={handleRef}\n         href={other.href || other.to}\n-        component={(other.href || other.to) && component === 'div' ? 'a' : component}\n+        component={(other.href || other.to) && component === 'div' ? (other.LinkComponent || 'a') : component}\n         focusVisibleClassName={clsx(classes.focusVisible, focusVisibleClassName)}\n         ownerState={ownerState}\n         className={clsx(classes.root, className)}\n",
  "7_resolved": false
}