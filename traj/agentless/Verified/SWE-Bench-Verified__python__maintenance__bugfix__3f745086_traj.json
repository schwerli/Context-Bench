{
  "instance_id": "SWE-Bench-Verified__python__maintenance__bugfix__3f745086",
  "original_id": "django__django-15987",
  "1_model_selected_files": [
    "django/core/management/commands/loaddata.py"
  ],
  "2_embedding_selected_files": [
    "django/core/management/commands/loaddata.py",
    "django/setup.py",
    "django/core/management/templates.py",
    "django/core/management/commands/dumpdata.py",
    "django/core/__init__.py",
    "django/core/management/commands/check.py",
    "django/core/management/commands/makemigrations.py",
    "django/core/management/commands/compilemessages.py",
    "django/core/management/commands/migrate.py",
    "django/core/management/commands/makemessages.py",
    "django/core/management/commands/diffsettings.py",
    "django/__init__.py",
    "django/core/management/commands/squashmigrations.py",
    "django/core/management/commands/__init__.py",
    "django/core/validators.py",
    "django/core/exceptions.py",
    "django/core/management/commands/inspectdb.py",
    "django/core/management/commands/createcachetable.py",
    "django/core/management/commands/showmigrations.py",
    "django/core/management/utils.py",
    "django/core/management/base.py",
    "django/core/management/commands/optimizemigration.py",
    "django/__main__.py",
    "django/core/management/commands/sqlflush.py",
    "django/core/management/commands/startproject.py",
    "django/core/management/color.py",
    "django/core/management/commands/flush.py",
    "django/core/signals.py",
    "django/core/management/commands/sqlmigrate.py",
    "django/core/management/commands/dbshell.py",
    "django/core/management/__init__.py",
    "django/core/management/commands/sendtestemail.py",
    "django/core/management/commands/startapp.py",
    "django/core/management/sql.py",
    "django/core/management/commands/sqlsequencereset.py",
    "django/core/paginator.py",
    "django/shortcuts.py",
    "django/core/management/commands/shell.py",
    "django/core/management/commands/runserver.py",
    "django/core/signing.py",
    "django/core/wsgi.py",
    "django/core/asgi.py"
  ],
  "3_final_combined_files": [
    "django/core/management/commands/loaddata.py",
    "django/setup.py",
    "django/core/management/templates.py"
  ],
  "4_related_elements": {
    "django/core/management/commands/loaddata.py": [
      "function: Command.fixture_dirs\nfunction: Command.get_fixture_name_and_dirs\nfunction: Command.get_targets\nfunction: Command.find_fixture_files_in_dir\nfunction: Command.find_fixtures\nfunction: Command.loaddata\nfunction: humanize"
    ],
    "django/setup.py": [
      ""
    ],
    "django/core/management/templates.py": [
      ""
    ]
  },
  "5_sampled_edit_locs_and_patches": [
    {
      "sample_index": 0,
      "edit_locs": {
        "django/core/management/commands/loaddata.py": [
          "\nfunction: Command.fixture_dirs\nline: 364\nline: 365\nline: 369\nline: 370"
        ]
      },
      "patches": [
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..a5efd3a 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,12 +361,15 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize to real paths as strings to ensure duplicate detection\n+        # works across str and pathlib.Path instances.\n+        fixture_dirs = [os.path.realpath(os.fspath(d)) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n             app_dir = os.path.join(app_config.path, \"fixtures\")\n+            app_dir = os.path.realpath(app_dir)\n             if app_dir in fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..9dd9a03 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,7 +361,7 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        fixture_dirs = [os.fspath(d) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..9dd9a03 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,7 +361,7 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        fixture_dirs = [os.fspath(d) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..dd83a99 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,12 +361,13 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize FIXTURE_DIRS entries to real path strings to handle Path instances\n+        fixture_dirs = [os.path.realpath(os.fspath(d)) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n-            app_dir = os.path.join(app_config.path, \"fixtures\")\n+            app_dir = os.path.realpath(os.path.join(app_config.path, \"fixtures\"))\n             if app_dir in fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..9690944 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,7 +361,9 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize FIXTURE_DIRS entries to path strings to ensure duplicate\n+        # detection works even if entries are pathlib.Path instances.\n+        fixture_dirs = [os.fspath(d) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n@@ -380,7 +382,7 @@ class Command(BaseCommand):\n                 dirs.append(app_dir)\n         dirs.extend(fixture_dirs)\n         dirs.append(\"\")\n-        return [os.path.realpath(d) for d in dirs]\n+        return [os.path.realpath(os.fspath(d)) for d in dirs]\n \n     def parse_name(self, fixture_name):\n         \"\"\"\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..00bb55c 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,12 +361,12 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        fixture_dirs = [os.path.realpath(os.fspath(d)) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n-            app_dir = os.path.join(app_config.path, \"fixtures\")\n+            app_dir = os.path.realpath(os.path.join(app_config.path, \"fixtures\"))\n             if app_dir in fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..4791087 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,13 +361,17 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize FIXTURE_DIRS entries to real path strings so duplicate\n+        # detection works with pathlib.Path instances and strings.\n+        raw_fixture_dirs = settings.FIXTURE_DIRS\n+        fixture_dirs = [os.path.realpath(os.fspath(d)) for d in raw_fixture_dirs]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n             app_dir = os.path.join(app_config.path, \"fixtures\")\n-            if app_dir in fixture_dirs:\n+            app_dir_real = os.path.realpath(app_dir)\n+            if app_dir_real in fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n                     \"and cannot be listed in settings.FIXTURE_DIRS.\"\n@@ -377,7 +381,7 @@ class Command(BaseCommand):\n             if self.app_label and app_label != self.app_label:\n                 continue\n             if os.path.isdir(app_dir):\n-                dirs.append(app_dir)\n+                dirs.append(app_dir_real)\n         dirs.extend(fixture_dirs)\n         dirs.append(\"\")\n         return [os.path.realpath(d) for d in dirs]\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..7175337 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,13 +361,16 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize fixture directories to real paths and strings to detect duplicates\n+        # even when Path-like objects are provided.\n+        fixture_dirs = [os.path.realpath(os.fspath(d)) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n             app_dir = os.path.join(app_config.path, \"fixtures\")\n-            if app_dir in fixture_dirs:\n+            app_dir_real = os.path.realpath(app_dir)\n+            if app_dir_real in fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n                     \"and cannot be listed in settings.FIXTURE_DIRS.\"\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..d81dfc9 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -362,12 +362,16 @@ class Command(BaseCommand):\n         \"\"\"\n         dirs = []\n         fixture_dirs = settings.FIXTURE_DIRS\n-        if len(fixture_dirs) != len(set(fixture_dirs)):\n+        # Normalize fixture dirs to real paths and strings to ensure duplicate\n+        # detection works with Path instances and strings.\n+        normalized_fixture_dirs = [os.path.realpath(os.fspath(d)) for d in fixture_dirs]\n+        if len(normalized_fixture_dirs) != len(set(normalized_fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n             app_dir = os.path.join(app_config.path, \"fixtures\")\n-            if app_dir in fixture_dirs:\n+            app_dir_real = os.path.realpath(app_dir)\n+            if app_dir_real in normalized_fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n                     \"and cannot be listed in settings.FIXTURE_DIRS.\"\n@@ -378,7 +382,7 @@ class Command(BaseCommand):\n                 continue\n             if os.path.isdir(app_dir):\n                 dirs.append(app_dir)\n-        dirs.extend(fixture_dirs)\n+        dirs.extend(normalized_fixture_dirs)\n         dirs.append(\"\")\n         return [os.path.realpath(d) for d in dirs]\n \n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..247211b 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,13 +361,18 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n-        if len(fixture_dirs) != len(set(fixture_dirs)):\n+        # Normalize path-like objects to strings and real paths to ensure\n+        # duplicate detection works even when mixing str and Path instances.\n+        fixture_dirs = [os.fspath(d) for d in settings.FIXTURE_DIRS]\n+        normalized_fixture_dirs = [os.path.realpath(d) for d in fixture_dirs]\n+        if len(normalized_fixture_dirs) != len(set(normalized_fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n+        normalized_fixture_dirs_set = set(normalized_fixture_dirs)\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n             app_dir = os.path.join(app_config.path, \"fixtures\")\n-            if app_dir in fixture_dirs:\n+            app_dir_real = os.path.realpath(app_dir)\n+            if app_dir_real in normalized_fixture_dirs_set:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n                     \"and cannot be listed in settings.FIXTURE_DIRS.\"\n@@ -378,7 +383,7 @@ class Command(BaseCommand):\n                 continue\n             if os.path.isdir(app_dir):\n                 dirs.append(app_dir)\n-        dirs.extend(fixture_dirs)\n+        dirs.extend(normalized_fixture_dirs)\n         dirs.append(\"\")\n         return [os.path.realpath(d) for d in dirs]\n \n"
      ]
    },
    {
      "sample_index": 1,
      "edit_locs": {
        "django/core/management/commands/loaddata.py": [
          "\nfunction: Command.fixture_dirs\nline: 364\nline: 369\nline: 370"
        ]
      },
      "patches": [
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..c201bbb 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,13 +361,18 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n-        if len(fixture_dirs) != len(set(fixture_dirs)):\n+        # Normalize FIXTURE_DIRS entries to real paths (strings) to ensure\n+        # duplicate detection and membership checks work even when Path\n+        # instances are used.\n+        raw_fixture_dirs = settings.FIXTURE_DIRS\n+        normalized_fixture_dirs = [os.path.realpath(os.fspath(d)) for d in raw_fixture_dirs]\n+        if len(normalized_fixture_dirs) != len(set(normalized_fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n             app_dir = os.path.join(app_config.path, \"fixtures\")\n-            if app_dir in fixture_dirs:\n+            app_dir_real = os.path.realpath(app_dir)\n+            if app_dir_real in normalized_fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n                     \"and cannot be listed in settings.FIXTURE_DIRS.\"\n@@ -378,7 +383,7 @@ class Command(BaseCommand):\n                 continue\n             if os.path.isdir(app_dir):\n                 dirs.append(app_dir)\n-        dirs.extend(fixture_dirs)\n+        dirs.extend(normalized_fixture_dirs)\n         dirs.append(\"\")\n         return [os.path.realpath(d) for d in dirs]\n \n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..46928a3 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,12 +361,13 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize FIXTURE_DIRS to real path strings to ensure duplicate detection\n+        fixture_dirs = [os.path.realpath(str(d)) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n-            app_dir = os.path.join(app_config.path, \"fixtures\")\n+            app_dir = os.path.realpath(os.path.join(app_config.path, \"fixtures\"))\n             if app_dir in fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..a8f5ebb 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,12 +361,16 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize FIXTURE_DIRS entries to strings and real paths to ensure\n+        # proper duplicate detection and comparisons, even when Path instances\n+        # are provided.\n+        fixture_dirs = [os.path.realpath(os.fspath(d)) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n             app_dir = os.path.join(app_config.path, \"fixtures\")\n+            app_dir = os.path.realpath(app_dir)\n             if app_dir in fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..93950a9 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,7 +361,10 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize FIXTURE_DIRS entries to filesystem paths (strings) to\n+        # ensure proper duplicate detection and membership checks even when\n+        # Path objects are provided.\n+        fixture_dirs = [os.fspath(d) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..56444b0 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,17 +361,20 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize FIXTURE_DIRS entries to strings and real paths to ensure\n+        # duplicate detection works even with pathlib.Path instances.\n+        fixture_dirs = [os.path.realpath(os.fspath(d)) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n             app_dir = os.path.join(app_config.path, \"fixtures\")\n-            if app_dir in fixture_dirs:\n+            app_dir_real = os.path.realpath(app_dir)\n+            if app_dir_real in fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n                     \"and cannot be listed in settings.FIXTURE_DIRS.\"\n-                    % (app_dir, app_label)\n+                    % (app_dir_real, app_label)\n                 )\n \n             if self.app_label and app_label != self.app_label:\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..6e04e83 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,23 +361,25 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize FIXTURE_DIRS entries to real paths and strings to handle Path instances.\n+        fixture_dirs = [os.path.realpath(os.fspath(d)) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n             app_dir = os.path.join(app_config.path, \"fixtures\")\n-            if app_dir in fixture_dirs:\n+            app_dir_real = os.path.realpath(app_dir)\n+            if app_dir_real in fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n                     \"and cannot be listed in settings.FIXTURE_DIRS.\"\n-                    % (app_dir, app_label)\n+                    % (app_dir_real, app_label)\n                 )\n \n             if self.app_label and app_label != self.app_label:\n                 continue\n-            if os.path.isdir(app_dir):\n-                dirs.append(app_dir)\n+            if os.path.isdir(app_dir_real):\n+                dirs.append(app_dir_real)\n         dirs.extend(fixture_dirs)\n         dirs.append(\"\")\n         return [os.path.realpath(d) for d in dirs]\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..be19d12 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,23 +361,26 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize FIXTURE_DIRS entries to real path strings for consistent comparison.\n+        fixture_dirs_setting = settings.FIXTURE_DIRS\n+        fixture_dirs = [os.path.realpath(os.fspath(d)) for d in fixture_dirs_setting]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n             app_dir = os.path.join(app_config.path, \"fixtures\")\n-            if app_dir in fixture_dirs:\n+            app_dir_real = os.path.realpath(app_dir)\n+            if app_dir_real in fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n                     \"and cannot be listed in settings.FIXTURE_DIRS.\"\n-                    % (app_dir, app_label)\n+                    % (app_dir_real, app_label)\n                 )\n \n             if self.app_label and app_label != self.app_label:\n                 continue\n-            if os.path.isdir(app_dir):\n-                dirs.append(app_dir)\n+            if os.path.isdir(app_dir_real):\n+                dirs.append(app_dir_real)\n         dirs.extend(fixture_dirs)\n         dirs.append(\"\")\n         return [os.path.realpath(d) for d in dirs]\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..58dc04c 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,7 +361,8 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Coerce entries to strings to handle pathlib.Path objects consistently.\n+        fixture_dirs = [str(d) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..9dd9a03 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,7 +361,7 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        fixture_dirs = [os.fspath(d) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..9dd9a03 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,7 +361,7 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        fixture_dirs = [os.fspath(d) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n"
      ]
    },
    {
      "sample_index": 2,
      "edit_locs": {
        "django/core/management/commands/loaddata.py": [
          "\nfunction: Command.fixture_dirs\nline: 364\nline: 365\nline: 370"
        ]
      },
      "patches": [
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..69f575f 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,7 +361,9 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize FIXTURE_DIRS entries to strings to ensure duplicate detection\n+        # works across str and pathlib.Path instances.\n+        fixture_dirs = [os.fspath(d) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..9867e72 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,13 +361,18 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n-        if len(fixture_dirs) != len(set(fixture_dirs)):\n+        # Normalize FIXTURE_DIRS entries to real paths and string types to\n+        # ensure duplicate detection works with Path instances.\n+        raw_fixture_dirs = settings.FIXTURE_DIRS\n+        normalized_fixture_dirs = [os.path.realpath(os.fspath(d)) for d in raw_fixture_dirs]\n+        if len(normalized_fixture_dirs) != len(set(normalized_fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n+        normalized_fixture_dirs_set = set(normalized_fixture_dirs)\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n             app_dir = os.path.join(app_config.path, \"fixtures\")\n-            if app_dir in fixture_dirs:\n+            # Check conflicts using normalized paths so Path vs str doesn't bypass the check.\n+            if os.path.realpath(app_dir) in normalized_fixture_dirs_set:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n                     \"and cannot be listed in settings.FIXTURE_DIRS.\"\n@@ -378,9 +383,10 @@ class Command(BaseCommand):\n                 continue\n             if os.path.isdir(app_dir):\n                 dirs.append(app_dir)\n-        dirs.extend(fixture_dirs)\n+        # Use normalized fixture dirs to avoid duplicates and type mismatches.\n+        dirs.extend(normalized_fixture_dirs)\n         dirs.append(\"\")\n-        return [os.path.realpath(d) for d in dirs]\n+        return [os.path.realpath(os.fspath(d)) for d in dirs]\n \n     def parse_name(self, fixture_name):\n         \"\"\"\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..65c7c89 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,7 +361,9 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Ensure FIXTURE_DIRS entries are strings to detect duplicates\n+        # when values are a mix of str and pathlib.Path instances.\n+        fixture_dirs = [os.fspath(d) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..ca9c97e 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,12 +361,14 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        raw_fixture_dirs = list(settings.FIXTURE_DIRS)\n+        # Normalize to absolute real paths to ensure consistent comparisons\n+        fixture_dirs = [os.path.realpath(os.fspath(d)) for d in raw_fixture_dirs]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n-            app_dir = os.path.join(app_config.path, \"fixtures\")\n+            app_dir = os.path.realpath(os.path.join(app_config.path, \"fixtures\"))\n             if app_dir in fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..577e6f5 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -362,12 +362,15 @@ class Command(BaseCommand):\n         \"\"\"\n         dirs = []\n         fixture_dirs = settings.FIXTURE_DIRS\n-        if len(fixture_dirs) != len(set(fixture_dirs)):\n+        # Normalize to real paths to ensure duplicate detection works with Path instances.\n+        normalized_fixture_dirs = [os.path.realpath(os.fspath(d)) for d in fixture_dirs]\n+        if len(normalized_fixture_dirs) != len(set(normalized_fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n             app_dir = os.path.join(app_config.path, \"fixtures\")\n-            if app_dir in fixture_dirs:\n+            app_dir_real = os.path.realpath(app_dir)\n+            if app_dir_real in normalized_fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n                     \"and cannot be listed in settings.FIXTURE_DIRS.\"\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..0c75c2d 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -362,12 +362,15 @@ class Command(BaseCommand):\n         \"\"\"\n         dirs = []\n         fixture_dirs = settings.FIXTURE_DIRS\n-        if len(fixture_dirs) != len(set(fixture_dirs)):\n+        # Normalize to real paths and strings to properly detect duplicates\n+        normalized_fixture_dirs = [os.path.realpath(str(d)) for d in fixture_dirs]\n+        if len(normalized_fixture_dirs) != len(set(normalized_fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n             app_dir = os.path.join(app_config.path, \"fixtures\")\n-            if app_dir in fixture_dirs:\n+            app_dir_real = os.path.realpath(app_dir)\n+            if app_dir_real in normalized_fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n                     \"and cannot be listed in settings.FIXTURE_DIRS.\"\n@@ -377,8 +380,8 @@ class Command(BaseCommand):\n             if self.app_label and app_label != self.app_label:\n                 continue\n             if os.path.isdir(app_dir):\n-                dirs.append(app_dir)\n-        dirs.extend(fixture_dirs)\n+                dirs.append(app_dir_real)\n+        dirs.extend(normalized_fixture_dirs)\n         dirs.append(\"\")\n         return [os.path.realpath(d) for d in dirs]\n \n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..2fb3aac 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,12 +361,15 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        raw_fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize to real path strings to ensure duplicates are detected even\n+        # when Path objects are present and to compare consistently.\n+        fixture_dirs = [os.path.realpath(os.fspath(d)) for d in raw_fixture_dirs]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n-            app_dir = os.path.join(app_config.path, \"fixtures\")\n+            app_dir = os.path.realpath(os.path.join(app_config.path, \"fixtures\"))\n             if app_dir in fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..4dc8d2d 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,12 +361,14 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize FIXTURE_DIRS entries to realpaths as strings to ensure\n+        # consistent duplicate and membership checks (e.g., when using pathlib.Path).\n+        fixture_dirs = [os.path.realpath(str(d)) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n-            app_dir = os.path.join(app_config.path, \"fixtures\")\n+            app_dir = os.path.realpath(os.path.join(app_config.path, \"fixtures\"))\n             if app_dir in fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..19b6190 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,12 +361,14 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize to real paths and strings to handle Path instances and\n+        # different string representations consistently.\n+        fixture_dirs = [os.path.realpath(os.fspath(d)) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n-            app_dir = os.path.join(app_config.path, \"fixtures\")\n+            app_dir = os.path.realpath(os.path.join(app_config.path, \"fixtures\"))\n             if app_dir in fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..0162355 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,13 +361,15 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize fixture dirs to comparable, real file system paths to ensure\n+        # duplicates are detected even when mixing strings and Path instances.\n+        fixture_dirs = [os.path.realpath(os.fspath(d)) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n             app_dir = os.path.join(app_config.path, \"fixtures\")\n-            if app_dir in fixture_dirs:\n+            if os.path.realpath(app_dir) in fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n                     \"and cannot be listed in settings.FIXTURE_DIRS.\"\n"
      ]
    },
    {
      "sample_index": 3,
      "edit_locs": {
        "django/core/management/commands/loaddata.py": [
          "\nfunction: Command.fixture_dirs\nline: 365\nline: 366\nline: 370"
        ]
      },
      "patches": [
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..d14c708 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,13 +361,16 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize FIXTURE_DIRS to real paths (support Path-like instances) for consistent comparisons.\n+        raw_fixture_dirs = settings.FIXTURE_DIRS\n+        fixture_dirs = [os.path.realpath(os.fspath(d)) for d in raw_fixture_dirs]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n             app_dir = os.path.join(app_config.path, \"fixtures\")\n-            if app_dir in fixture_dirs:\n+            app_dir_real = os.path.realpath(app_dir)\n+            if app_dir_real in fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n                     \"and cannot be listed in settings.FIXTURE_DIRS.\"\n@@ -376,8 +379,8 @@ class Command(BaseCommand):\n \n             if self.app_label and app_label != self.app_label:\n                 continue\n-            if os.path.isdir(app_dir):\n-                dirs.append(app_dir)\n+            if os.path.isdir(app_dir_real):\n+                dirs.append(app_dir_real)\n         dirs.extend(fixture_dirs)\n         dirs.append(\"\")\n         return [os.path.realpath(d) for d in dirs]\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..c5e88e5 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,7 +361,8 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize FIXTURE_DIRS entries to strings to ensure proper duplicate detection\n+        fixture_dirs = [os.fspath(d) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n@@ -380,7 +381,7 @@ class Command(BaseCommand):\n                 dirs.append(app_dir)\n         dirs.extend(fixture_dirs)\n         dirs.append(\"\")\n-        return [os.path.realpath(d) for d in dirs]\n+        return [os.path.realpath(os.fspath(d)) for d in dirs]\n \n     def parse_name(self, fixture_name):\n         \"\"\"\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..1f9beaa 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,12 +361,13 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize FIXTURE_DIRS entries to real filesystem paths and strings.\n+        fixture_dirs = [os.path.realpath(os.fspath(d)) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n-            app_dir = os.path.join(app_config.path, \"fixtures\")\n+            app_dir = os.path.realpath(os.path.join(app_config.path, \"fixtures\"))\n             if app_dir in fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..9e602f9 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -362,12 +362,14 @@ class Command(BaseCommand):\n         \"\"\"\n         dirs = []\n         fixture_dirs = settings.FIXTURE_DIRS\n-        if len(fixture_dirs) != len(set(fixture_dirs)):\n+        # Normalize to real path strings to handle Path instances consistently.\n+        normalized_fixture_dirs = [os.path.realpath(os.fspath(d)) for d in fixture_dirs]\n+        if len(normalized_fixture_dirs) != len(set(normalized_fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n             app_dir = os.path.join(app_config.path, \"fixtures\")\n-            if app_dir in fixture_dirs:\n+            if os.path.realpath(app_dir) in normalized_fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n                     \"and cannot be listed in settings.FIXTURE_DIRS.\"\n@@ -378,7 +380,7 @@ class Command(BaseCommand):\n                 continue\n             if os.path.isdir(app_dir):\n                 dirs.append(app_dir)\n-        dirs.extend(fixture_dirs)\n+        dirs.extend(normalized_fixture_dirs)\n         dirs.append(\"\")\n         return [os.path.realpath(d) for d in dirs]\n \n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..f35aa20 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -362,12 +362,16 @@ class Command(BaseCommand):\n         \"\"\"\n         dirs = []\n         fixture_dirs = settings.FIXTURE_DIRS\n-        if len(fixture_dirs) != len(set(fixture_dirs)):\n+        # Normalize entries to real paths as strings to properly detect duplicates,\n+        # even when settings.FIXTURE_DIRS contains Path instances.\n+        normalized_fixture_dirs = [os.path.realpath(os.fspath(d)) for d in fixture_dirs]\n+        if len(normalized_fixture_dirs) != len(set(normalized_fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n             app_dir = os.path.join(app_config.path, \"fixtures\")\n-            if app_dir in fixture_dirs:\n+            normalized_app_dir = os.path.realpath(app_dir)\n+            if normalized_app_dir in normalized_fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n                     \"and cannot be listed in settings.FIXTURE_DIRS.\"\n@@ -377,8 +381,8 @@ class Command(BaseCommand):\n             if self.app_label and app_label != self.app_label:\n                 continue\n             if os.path.isdir(app_dir):\n-                dirs.append(app_dir)\n-        dirs.extend(fixture_dirs)\n+                dirs.append(normalized_app_dir)\n+        dirs.extend(normalized_fixture_dirs)\n         dirs.append(\"\")\n         return [os.path.realpath(d) for d in dirs]\n \n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..1297b7d 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,12 +361,14 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize FIXTURE_DIRS to realpath strings to handle Path-like objects\n+        # and ensure consistent duplicate detection and comparisons.\n+        fixture_dirs = [os.path.realpath(os.fspath(d)) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n-            app_dir = os.path.join(app_config.path, \"fixtures\")\n+            app_dir = os.path.realpath(os.path.join(app_config.path, \"fixtures\"))\n             if app_dir in fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..ca843e8 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,13 +361,16 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize FIXTURE_DIRS entries to real paths and string form so\n+        # duplicate detection works with Path-like objects and strings.\n+        fixture_dirs = [os.path.realpath(os.fspath(d)) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n             app_dir = os.path.join(app_config.path, \"fixtures\")\n-            if app_dir in fixture_dirs:\n+            app_dir_real = os.path.realpath(app_dir)\n+            if app_dir_real in fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n                     \"and cannot be listed in settings.FIXTURE_DIRS.\"\n@@ -377,7 +380,7 @@ class Command(BaseCommand):\n             if self.app_label and app_label != self.app_label:\n                 continue\n             if os.path.isdir(app_dir):\n-                dirs.append(app_dir)\n+                dirs.append(app_dir_real)\n         dirs.extend(fixture_dirs)\n         dirs.append(\"\")\n         return [os.path.realpath(d) for d in dirs]\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..23922c5 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,13 +361,16 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n-        if len(fixture_dirs) != len(set(fixture_dirs)):\n+        # Normalize FIXTURE_DIRS entries to string real paths to ensure\n+        # duplicate detection and membership checks work with Path instances.\n+        raw_fixture_dirs = settings.FIXTURE_DIRS\n+        normalized_fixture_dirs = [os.path.realpath(os.fspath(d)) for d in raw_fixture_dirs]\n+        if len(normalized_fixture_dirs) != len(set(normalized_fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n-            app_dir = os.path.join(app_config.path, \"fixtures\")\n-            if app_dir in fixture_dirs:\n+            app_dir = os.path.realpath(os.path.join(app_config.path, \"fixtures\"))\n+            if app_dir in normalized_fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n                     \"and cannot be listed in settings.FIXTURE_DIRS.\"\n@@ -378,7 +381,7 @@ class Command(BaseCommand):\n                 continue\n             if os.path.isdir(app_dir):\n                 dirs.append(app_dir)\n-        dirs.extend(fixture_dirs)\n+        dirs.extend(normalized_fixture_dirs)\n         dirs.append(\"\")\n         return [os.path.realpath(d) for d in dirs]\n \n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..2477edc 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,12 +361,14 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        # Normalize FIXTURE_DIRS entries to real paths (strings) so duplicates\n+        # are detected even when mixing str and pathlib.Path instances.\n+        fixture_dirs = [os.path.realpath(os.fspath(d)) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n             app_label = app_config.label\n-            app_dir = os.path.join(app_config.path, \"fixtures\")\n+            app_dir = os.path.realpath(os.path.join(app_config.path, \"fixtures\"))\n             if app_dir in fixture_dirs:\n                 raise ImproperlyConfigured(\n                     \"'%s' is a default fixture directory for the '%s' app \"\n@@ -380,7 +382,7 @@ class Command(BaseCommand):\n                 dirs.append(app_dir)\n         dirs.extend(fixture_dirs)\n         dirs.append(\"\")\n-        return [os.path.realpath(d) for d in dirs]\n+        return [os.path.realpath(os.fspath(d)) for d in dirs]\n \n     def parse_name(self, fixture_name):\n         \"\"\"\n",
        "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..9dd9a03 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,7 +361,7 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        fixture_dirs = [os.fspath(d) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n"
      ]
    }
  ],
  "6_final_selected_patch": "diff --git a/django/core/management/commands/loaddata.py b/django/core/management/commands/loaddata.py\nindex c98b0b6..9dd9a03 100644\n--- a/django/core/management/commands/loaddata.py\n+++ b/django/core/management/commands/loaddata.py\n@@ -361,7 +361,7 @@ class Command(BaseCommand):\n         current directory.\n         \"\"\"\n         dirs = []\n-        fixture_dirs = settings.FIXTURE_DIRS\n+        fixture_dirs = [os.fspath(d) for d in settings.FIXTURE_DIRS]\n         if len(fixture_dirs) != len(set(fixture_dirs)):\n             raise ImproperlyConfigured(\"settings.FIXTURE_DIRS contains duplicates.\")\n         for app_config in apps.get_app_configs():\n",
  "7_resolved": true
}