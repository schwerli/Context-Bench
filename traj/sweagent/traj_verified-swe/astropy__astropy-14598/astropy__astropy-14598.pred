{"model_name_or_path": "output", "instance_id": "astropy__astropy-14598", "model_patch": "diff --git a/astropy/io/fits/card.py b/astropy/io/fits/card.py\nindex 1b3285ddc..9bd886207 100644\n--- a/astropy/io/fits/card.py\n+++ b/astropy/io/fits/card.py\n@@ -64,7 +64,10 @@ class Card(_Verify):\n \n     # Used in cards using the CONTINUE convention which expect a string\n     # followed by an optional comment\n-    _strg = r\"\\'(?P<strg>([ -~]+?|\\'\\'|) *?)\\'(?=$|/| )\"\n+    # String content: allow any non-quote characters or doubled single-quotes (escaped quotes)\n+    # inside the FITS-quoted string. This avoids prematurely terminating at a single quote\n+    # that is part of an escaped pair.\n+    _strg = r\"\\'(?P<strg>(?:[^']|'')*?)\\'(?=$|/| )\"\n     _comm_field = r\"(?P<comm_field>(?P<sepr>/ *)(?P<comm>(.|\\n)*))\"\n     _strg_comment_RE = re.compile(f\"({_strg})? *{_comm_field}?\")\n \n@@ -859,7 +862,9 @@ class Card(_Verify):\n                     return kw, vc\n \n                 value = m.group(\"strg\") or \"\"\n-                value = value.rstrip().replace(\"''\", \"'\")\n+                # Preserve doubled single-quotes here; they encode literal quotes\n+                # inside FITS strings and will be normalized later by _parse_value.\n+                value = value.rstrip()\n                 if value and value[-1] == \"&\":\n                     value = value[:-1]\n                 values.append(value)\ndiff --git a/repro_pr.py b/repro_pr.py\nnew file mode 100644\nindex 000000000..fdc7caced\n--- /dev/null\n+++ b/repro_pr.py\n@@ -0,0 +1,18 @@\n+from astropy.io import fits\n+\n+# Reproduce the issue described in PR: double single-quote management in FITS Card\n+print(\"Testing simple case with trailing null string ''\")\n+for n in range(60, 70):\n+    card1 = fits.Card('CONFIG', \"x\" * n + \"''\")\n+    card2 = fits.Card.fromstring(str(card1))\n+    equal = (card1.value == card2.value)\n+    print(n, equal)\n+    if not equal:\n+        print(\"card1.value:\", repr(card1.value))\n+        print(\"card2.value:\", repr(card2.value))\n+\n+print(\"\\nTesting case with embedded null string '' and extra x's afterwards\")\n+for n in range(50, 70):\n+    card1 = fits.Card('CONFIG', \"x\" * n + \"''\" + \"x\"*10)\n+    card2 = fits.Card.fromstring(str(card1))\n+    print(n, len(card1.value), card1.value == card2.value)\n"}