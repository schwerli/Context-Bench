diff --git a/a.py b/a.py
new file mode 100644
index 00000000..0df88193
--- /dev/null
+++ b/a.py
@@ -0,0 +1,7 @@
+"""Docstring."""
+
+import abc
+from abc import ABC
+
+X = ...  # type: abc.ABC
+Y = ...  # type: ABC
diff --git a/pylint/checkers/variables.py b/pylint/checkers/variables.py
index 3ddafd59..4c04bc3d 100644
--- a/pylint/checkers/variables.py
+++ b/pylint/checkers/variables.py
@@ -686,6 +686,10 @@ class VariablesChecker(BaseChecker):
         )
         self._checking_mod_attr = None
         self._loop_variables = []
+        # Names referenced from annotations and type comments.
+        # This includes both unqualified names (e.g. "Optional") and qualified
+        # module names referenced via attributes (e.g. "typing" in
+        # "typing.Optional" or "abc" in "abc.ABC").
         self._type_annotation_names = []
         self._postponed_evaluation_enabled = False
 
@@ -1821,26 +1825,32 @@ class VariablesChecker(BaseChecker):
         return False
 
     def _store_type_annotation_node(self, type_annotation):
-        """Given a type annotation, store all the name nodes it refers to"""
-        if isinstance(type_annotation, astroid.Name):
-            self._type_annotation_names.append(type_annotation.name)
-            return
-
-        if not isinstance(type_annotation, astroid.Subscript):
-            return
+        """Given a type annotation or type comment, store all relevant names it refers to.
 
-        if (
-            isinstance(type_annotation.value, astroid.Attribute)
-            and isinstance(type_annotation.value.expr, astroid.Name)
-            and type_annotation.value.expr.name == TYPING_MODULE
-        ):
-            self._type_annotation_names.append(TYPING_MODULE)
+        We collect:
+        - Names referenced directly (e.g. ``Optional``).
+        - Module names referenced through attributes (e.g. ``typing.Optional`` -> ``typing``,
+          ``abc.ABC`` -> ``abc``), and the attribute names themselves (e.g. ``ABC``),
+          so that both ``import abc`` and ``from abc import ABC`` are considered used.
+        """
+        if not type_annotation:
             return
 
-        self._type_annotation_names.extend(
-            annotation.name
-            for annotation in type_annotation.nodes_of_class(astroid.Name)
-        )
+        # Collect plain names used in the annotation.
+        for name_node in type_annotation.nodes_of_class(astroid.Name):
+            self._type_annotation_names.append(name_node.name)
+
+        # Collect attribute names and their root module names used in the annotation.
+        for attr_node in type_annotation.nodes_of_class(astroid.Attribute):
+            # Attribute target name, e.g. "ABC" in "abc.ABC".
+            if hasattr(attr_node, "attrname") and attr_node.attrname:
+                self._type_annotation_names.append(attr_node.attrname)
+            # Root module name, e.g. "abc" in "abc.ABC" or "typing" in "typing.Optional".
+            expr = attr_node.expr
+            while isinstance(expr, astroid.Attribute):
+                expr = expr.expr
+            if isinstance(expr, astroid.Name):
+                self._type_annotation_names.append(expr.name)
 
     def _store_type_annotation_names(self, node):
         type_annotation = node.type_annotation
