{"model_name_or_path": "output", "instance_id": "django__django-14765", "model_patch": "diff --git a/django/db/migrations/state.py b/django/db/migrations/state.py\nindex 088f5c41f0..a88aafde57 100644\n--- a/django/db/migrations/state.py\n+++ b/django/db/migrations/state.py\n@@ -90,9 +90,10 @@ class ProjectState:\n \n     def __init__(self, models=None, real_apps=None):\n         self.models = models or {}\n-        # Apps to include from main registry, usually unmigrated ones\n-        if real_apps:\n-            self.real_apps = real_apps if isinstance(real_apps, set) else set(real_apps)\n+        # Apps to include from main registry, usually unmigrated ones.\n+        if real_apps is not None:\n+            assert isinstance(real_apps, set), \"real_apps must be a set when provided\"\n+            self.real_apps = real_apps\n         else:\n             self.real_apps = set()\n         self.is_delayed = False\ndiff --git a/repro.py b/repro.py\nnew file mode 100644\nindex 0000000000..623a398f7a\n--- /dev/null\n+++ b/repro.py\n@@ -0,0 +1,23 @@\n+\n+from django.db.migrations.state import ProjectState\n+\n+# Case 1: real_apps passed as a list (should raise AssertionError after fix)\n+try:\n+    ps_list = ProjectState(models={}, real_apps=['app1', 'app2'])\n+    print('Case 1: No assertion raised (current behavior)')\n+except AssertionError:\n+    print('Case 1: Assertion raised (expected after fix)')\n+\n+# Case 2: real_apps passed as a set (should be fine)\n+try:\n+    ps_set = ProjectState(models={}, real_apps={'app1', 'app2'})\n+    print('Case 2: Set accepted')\n+except AssertionError:\n+    print('Case 2: Unexpected assertion for set')\n+\n+# Case 3: real_apps is None (should behave like empty set)\n+try:\n+    ps_none = ProjectState(models={}, real_apps=None)\n+    print('Case 3: None treated as empty set; real_apps =', ps_none.real_apps)\n+except AssertionError:\n+    print('Case 3: Unexpected assertion for None')\n"}