{"model_name_or_path": "output", "instance_id": "sympy__sympy-24562", "model_patch": "diff --git a/sympy/core/numbers.py b/sympy/core/numbers.py\nindex 52f7ea45ad..d252448bf5 100644\n--- a/sympy/core/numbers.py\n+++ b/sympy/core/numbers.py\n@@ -1625,19 +1625,26 @@ def __new__(cls, p, q=None, gcd=None):\n             q = 1\n             gcd = 1\n \n+        # Normalize p and q first to avoid type-dependent multiplication issues\n         if not isinstance(p, SYMPY_INTS):\n-            p = Rational(p)\n-            q *= p.q\n-            p = p.p\n+            pR = Rational(p)\n+            p_num = pR.p\n+            p_den = pR.q\n         else:\n-            p = int(p)\n+            p_num = int(p)\n+            p_den = 1\n \n         if not isinstance(q, SYMPY_INTS):\n-            q = Rational(q)\n-            p *= q.q\n-            q = q.p\n+            qR = Rational(q)\n+            q_num = qR.p\n+            q_den = qR.q\n         else:\n-            q = int(q)\n+            q_num = int(q)\n+            q_den = 1\n+\n+        # Combine: (p_num/p_den) / (q_num/q_den) = (p_num*q_den)/(p_den*q_num)\n+        p = p_num * q_den\n+        q = q_num * p_den\n \n         # p and q are now ints\n         if q == 0:\n"}