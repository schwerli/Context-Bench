{"model_name_or_path": "output", "instance_id": "psf__requests-5414", "model_patch": "diff --git a/requests/models.py b/requests/models.py\nindex e7d292d5..6f35c736 100644\n--- a/requests/models.py\n+++ b/requests/models.py\n@@ -403,8 +403,16 @@ class PreparedRequest(RequestEncodingMixin, RequestHooksMixin):\n                 host = self._get_idna_encoded_host(host)\n             except UnicodeError:\n                 raise InvalidURL('URL has an invalid label.')\n-        elif host.startswith(u'*'):\n+        elif host.startswith(u'*') or host.startswith(u'.') or host.endswith(u'.') or u'..' in host:\n+            # An ASCII hostname with an empty label (leading/trailing dot or consecutive dots)\n+            # should be considered invalid. Raise InvalidURL to align with Requests' expectations.\n             raise InvalidURL('URL has an invalid label.')\n+        else:\n+            # Additionally, validate ASCII label lengths per RFC 1035 (<= 63 octets)\n+            labels = host.split(u'.')\n+            for label in labels:\n+                if not label or len(label) > 63:\n+                    raise InvalidURL('URL has an invalid label.')\n \n         # Carefully reconstruct the network location\n         netloc = auth or ''\n"}