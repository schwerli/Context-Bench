{"model_name_or_path": "output", "instance_id": "matplotlib__matplotlib-22871", "model_patch": "diff --git a/lib/matplotlib/dates.py b/lib/matplotlib/dates.py\nindex 4d8ddf3ee5..9f15db9464 100644\n--- a/lib/matplotlib/dates.py\n+++ b/lib/matplotlib/dates.py\n@@ -797,8 +797,20 @@ class ConciseDateFormatter(ticker.Formatter):\n         # 3: hours, 4: minutes, 5: seconds, 6: microseconds\n         for level in range(5, -1, -1):\n             if len(np.unique(tickdate[:, level])) > 1:\n-                if level < 2:\n+                # If ticks vary at year level, don't show an offset as it cannot\n+                # summarize multiple years.\n+                if level == 0:\n                     show_offset = False\n+                # If ticks vary at month level, show the year in the offset unless\n+                # January is included among the ticks (in which case the year will\n+                # be shown as a tick label via zero_formats).\n+                elif level == 1:\n+                    if show_offset:\n+                        months = tickdate[:, 1]\n+                        years = tickdate[:, 0]\n+                        # Only show a year offset if all ticks share the same\n+                        # year and January is not among the tick months.\n+                        show_offset = (len(np.unique(years)) == 1) and (1 not in months)\n                 break\n             elif level == 0:\n                 # all tickdate are the same, so only micros might be different\n"}