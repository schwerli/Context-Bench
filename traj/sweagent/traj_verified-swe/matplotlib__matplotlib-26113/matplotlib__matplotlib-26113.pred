{"model_name_or_path": "output", "instance_id": "matplotlib__matplotlib-26113", "model_patch": "diff --git a/lib/matplotlib/axes/_axes.py b/lib/matplotlib/axes/_axes.py\nindex 5369eadbde..e9f6b15dd9 100644\n--- a/lib/matplotlib/axes/_axes.py\n+++ b/lib/matplotlib/axes/_axes.py\n@@ -4847,8 +4847,8 @@ default: :rc:`scatter.edgecolors`\n         yscale : {'linear', 'log'}, default: 'linear'\n             Use a linear or log10 scale on the vertical axis.\n \n-        mincnt : int > 0, default: *None*\n-            If not *None*, only display cells with more than *mincnt*\n+        mincnt : int >= 0, default: *None*\n+            If not *None*, only display cells with at least *mincnt*\n             number of points in the cell.\n \n         marginals : bool, default: *False*\n@@ -5012,12 +5012,20 @@ default: :rc:`scatter.edgecolors`\n                 else:\n                     Cs_at_i2[i2[i]].append(C[i])\n             if mincnt is None:\n-                mincnt = 0\n-            accum = np.array(\n-                [reduce_C_function(acc) if len(acc) > mincnt else np.nan\n-                 for Cs_at_i in [Cs_at_i1, Cs_at_i2]\n-                 for acc in Cs_at_i[1:]],  # [1:] drops out-of-range points.\n-                float)\n+                # Default behavior when C is provided: only show bins containing at least one datum.\n+                accum = np.array(\n+                    [reduce_C_function(acc) if len(acc) > 0 else np.nan\n+                     for Cs_at_i in [Cs_at_i1, Cs_at_i2]\n+                     for acc in Cs_at_i[1:]],  # [1:] drops out-of-range points.\n+                    float)\n+            else:\n+                # When mincnt is explicitly provided, be consistent with the C is None path\n+                # and include bins with counts >= mincnt.\n+                accum = np.array(\n+                    [reduce_C_function(acc) if len(acc) >= mincnt else np.nan\n+                     for Cs_at_i in [Cs_at_i1, Cs_at_i2]\n+                     for acc in Cs_at_i[1:]],  # [1:] drops out-of-range points.\n+                    float)\n \n         good_idxs = ~np.isnan(accum)\n \ndiff --git a/repro_hexbin_mincnt.py b/repro_hexbin_mincnt.py\nnew file mode 100644\nindex 0000000000..42657daeae\n--- /dev/null\n+++ b/repro_hexbin_mincnt.py\n@@ -0,0 +1,61 @@\n+import sys\n+sys.path.insert(0, '/testbed/lib')\n+\n+import numpy as np\n+import matplotlib\n+matplotlib.use('Agg')\n+from matplotlib import pyplot as plt\n+\n+np.random.seed(42)\n+\n+X, Y = np.random.multivariate_normal([0.0, 0.0], [[1.0, 0.1], [0.1, 1.0]], size=250).T\n+Z = np.ones_like(X)\n+\n+extent = [-3., 3., -3., 3.]\n+gridsize = (7, 7)\n+\n+# Case A: no mincnt, no C\n+fig, ax = plt.subplots(1, 1)\n+hA = ax.hexbin(X, Y, extent=extent, gridsize=gridsize, linewidth=0.0, cmap='Blues')\n+aA = hA.get_array()\n+oA = hA.get_offsets()\n+print('A lengths:', len(aA), len(oA))\n+plt.close(fig)\n+\n+# Case B: mincnt=1, no C\n+fig, ax = plt.subplots(1, 1)\n+hB = ax.hexbin(X, Y, mincnt=1, extent=extent, gridsize=gridsize, linewidth=0.0, cmap='Blues')\n+aB = hB.get_array()\n+oB = hB.get_offsets()\n+print('B lengths:', len(aB), len(oB))\n+plt.close(fig)\n+\n+# Case C: no mincnt, with C\n+fig, ax = plt.subplots(1, 1)\n+hC = ax.hexbin(X, Y, C=Z, reduce_C_function=np.sum, extent=extent, gridsize=gridsize, linewidth=0.0, cmap='Blues')\n+aC = hC.get_array()\n+oC = hC.get_offsets()\n+print('C lengths:', len(aC), len(oC))\n+plt.close(fig)\n+\n+# Case D: mincnt=1, with C\n+fig, ax = plt.subplots(1, 1)\n+hD = ax.hexbin(X, Y, C=Z, reduce_C_function=np.sum, mincnt=1, extent=extent, gridsize=gridsize, linewidth=0.0, cmap='Blues')\n+aD = hD.get_array()\n+oD = hD.get_offsets()\n+print('D lengths:', len(aD), len(oD))\n+plt.close(fig)\n+\n+# Case E: mincnt=0, with C\n+fig, ax = plt.subplots(1, 1)\n+hE = ax.hexbin(X, Y, C=Z, reduce_C_function=np.sum, mincnt=0, extent=extent, gridsize=gridsize, linewidth=0.0, cmap='Blues')\n+aE = hE.get_array()\n+oE = hE.get_offsets()\n+print('E lengths:', len(aE), len(oE))\n+plt.close(fig)\n+\n+print('Expectations:')\n+print('- B should be <= A but close; shows only bins with at least one count')\n+print('- C should show only bins with at least one datum (length similar to B)')\n+print('- D should equal B (bug shows D < B due to requiring >=2)')\n+print('- E should equal C (at least 1 datum)')\n"}