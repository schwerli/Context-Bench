{"model_name_or_path": "output", "instance_id": "sphinx-doc__sphinx-7454", "model_patch": "diff --git a/repro_none_link.py b/repro_none_link.py\nnew file mode 100644\nindex 000000000..c7c8c46af\n--- /dev/null\n+++ b/repro_none_link.py\n@@ -0,0 +1,46 @@\n+import os, subprocess, textwrap, sys, shutil\n+from pathlib import Path\n+\n+def run(cmd, cwd=None, env=None):\n+    print(\"$\", cmd)\n+    res = subprocess.run(cmd, cwd=cwd, env=env, shell=True, text=True, capture_output=True)\n+    print(res.stdout)\n+    print(res.stderr)\n+    return res\n+\n+base = Path('/tmp/sphinx_type_hint_links')\n+if base.exists():\n+    shutil.rmtree(base)\n+base.mkdir(parents=True)\n+\n+(base/'type_hint_test.py').write_text('def f1() -> None: return None\\ndef f2() -> int: return 42\\n')\n+(base/'docs').mkdir()\n+(base/'docs'/'conf.py').write_text(textwrap.dedent('''\n+extensions = [\"sphinx.ext.autodoc\", \"sphinx.ext.intersphinx\"]\n+intersphinx_mapping = {\"python\": (\"https://docs.python.org/3\", None)}\n+# autodoc_typehints = 'description'\n+'''))\n+(base/'docs'/'index.rst').write_text(textwrap.dedent('''\n+.. automodule:: type_hint_test\n+.. autofunction:: f1\n+.. autofunction:: f2\n+'''))\n+(base/'html').mkdir()\n+\n+# Use our repo's Sphinx by prepending /testbed to PYTHONPATH\n+env = os.environ.copy()\n+env['PYTHONPATH'] = '/testbed' + (os.pathsep + env['PYTHONPATH'] if env.get('PYTHONPATH') else '')\n+\n+res = run('python -m sphinx -nW -b html --keep-going docs html', cwd=str(base), env=env)\n+print(\"\\nSearching for links:\")\n+print(run(\"grep -n 'docs.python.org' -n html/index.html\", cwd=str(base)).stdout)\n+\n+# Now description mode\n+(base/'docs'/'conf.py').write_text(textwrap.dedent('''\n+extensions = [\"sphinx.ext.autodoc\", \"sphinx.ext.intersphinx\"]\n+intersphinx_mapping = {\"python\": (\"https://docs.python.org/3\", None)}\n+autodoc_typehints = 'description'\n+'''))\n+res = run('python -m sphinx -nW -b html --keep-going docs html', cwd=str(base), env=env)\n+print(\"\\nSearching for links (description mode):\")\n+print(run(\"grep -n 'docs.python.org' -n html/index.html\", cwd=str(base)).stdout)\ndiff --git a/sphinx/domains/python.py b/sphinx/domains/python.py\nindex 893bb0a22..ece4fd08c 100644\n--- a/sphinx/domains/python.py\n+++ b/sphinx/domains/python.py\n@@ -71,8 +71,10 @@ pairindextypes = {\n def _parse_annotation(annotation: str) -> List[Node]:\n     \"\"\"Parse type annotation.\"\"\"\n     def make_xref(text: str) -> addnodes.pending_xref:\n+        # Use 'obj' role for None so it links to Python's constants documentation.\n+        rolename = 'obj' if text == 'None' else 'class'\n         return pending_xref('', nodes.Text(text),\n-                            refdomain='py', reftype='class', reftarget=text)\n+                            refdomain='py', reftype=rolename, reftarget=text)\n \n     def unparse(node: ast.AST) -> List[Node]:\n         if isinstance(node, ast.Attribute):\n"}