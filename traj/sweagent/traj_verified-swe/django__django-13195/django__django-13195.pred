{"model_name_or_path": "output", "instance_id": "django__django-13195", "model_patch": "diff --git a/django/http/response.py b/django/http/response.py\nindex e00bcacefb..d1e76e5e2b 100644\n--- a/django/http/response.py\n+++ b/django/http/response.py\n@@ -210,13 +210,19 @@ class HttpResponseBase:\n         value = signing.get_cookie_signer(salt=key + salt).sign(value)\n         return self.set_cookie(key, value, **kwargs)\n \n-    def delete_cookie(self, key, path='/', domain=None):\n+    def delete_cookie(self, key, path='/', domain=None, samesite=None):\n         # Most browsers ignore the Set-Cookie header if the cookie name starts\n         # with __Host- or __Secure- and the cookie doesn't use the secure flag.\n-        secure = key.startswith(('__Secure-', '__Host-'))\n+        # Additionally, browsers require the secure flag when SameSite=None is used.\n+        if samesite is None:\n+            samesite = settings.SESSION_COOKIE_SAMESITE\n+        secure = key.startswith(('__Secure-', '__Host-')) or (\n+            isinstance(samesite, str) and samesite.lower() == 'none'\n+        )\n         self.set_cookie(\n             key, max_age=0, path=path, domain=domain, secure=secure,\n             expires='Thu, 01 Jan 1970 00:00:00 GMT',\n+            samesite=samesite,\n         )\n \n     # Common methods used by subclasses\ndiff --git a/scripts/repro_delete_cookie_samesite.py b/scripts/repro_delete_cookie_samesite.py\nnew file mode 100644\nindex 0000000000..f5aaa5a388\n--- /dev/null\n+++ b/scripts/repro_delete_cookie_samesite.py\n@@ -0,0 +1,23 @@\n+from django.conf import settings\n+from django.http import HttpResponse\n+\n+# Configure minimal settings\n+if not settings.configured:\n+    settings.configure(\n+        SECRET_KEY='test-secret-key',\n+        SESSION_COOKIE_DOMAIN='.example.com',\n+        SESSION_COOKIE_SECURE=True,\n+        SESSION_COOKIE_HTTPONLY=True,\n+        SESSION_COOKIE_SAMESITE='Strict',\n+    )\n+\n+# Create a response and delete a cookie\n+response = HttpResponse()\n+response.delete_cookie('messages', domain=settings.SESSION_COOKIE_DOMAIN)\n+\n+cookie = response.cookies['messages']\n+print('expires:', cookie['expires'])\n+print('domain:', cookie['domain'])\n+print('secure:', cookie['secure'])\n+print('httponly:', cookie['httponly'])\n+print('samesite:', cookie['samesite'])\ndiff --git a/scripts/run_tests_subset.py b/scripts/run_tests_subset.py\nnew file mode 100644\nindex 0000000000..cd6f8a3cf3\n--- /dev/null\n+++ b/scripts/run_tests_subset.py\n@@ -0,0 +1,34 @@\n+import sys\n+from django.conf import settings\n+from django.test.utils import get_runner\n+\n+if not settings.configured:\n+    settings.configure(\n+        SECRET_KEY='x',\n+        INSTALLED_APPS=[\n+            'django.contrib.sessions',\n+            'django.contrib.messages',\n+        ],\n+        MIDDLEWARE=[\n+            'django.contrib.sessions.middleware.SessionMiddleware',\n+            'django.contrib.messages.middleware.MessageMiddleware',\n+        ],\n+        ROOT_URLCONF='tests.urls',\n+        DATABASES={\n+            'default': {\n+                'ENGINE': 'django.db.backends.sqlite3',\n+                'NAME': ':memory:',\n+            }\n+        },\n+        TEMPLATES=[{\n+            'BACKEND': 'django.template.backends.django.DjangoTemplates',\n+            'APP_DIRS': True,\n+            'DIRS': [],\n+        }],\n+        SESSION_COOKIE_SAMESITE='Strict',\n+    )\n+\n+TestRunner = get_runner(settings)\n+runner = TestRunner()\n+failures = runner.run_tests(['tests.messages_tests.test_cookie', 'tests.responses.test_cookie'])\n+sys.exit(bool(failures))\n"}