{"model_name_or_path": "output", "instance_id": "django__django-11133", "model_patch": "diff --git a/django/http/response.py b/django/http/response.py\nindex 6a84e193ba..783ba6099b 100644\n--- a/django/http/response.py\n+++ b/django/http/response.py\n@@ -226,10 +226,11 @@ class HttpResponseBase:\n         # an instance of a subclass, this function returns `bytes(value)`.\n         # This doesn't make a copy when `value` already contains bytes.\n \n-        # Handle string types -- we can't rely on force_bytes here because:\n+        # Handle string and bytes-like types -- we can't rely on force_bytes here because:\n         # - Python attempts str conversion first\n         # - when self._charset != 'utf-8' it re-encodes the content\n-        if isinstance(value, bytes):\n+        if isinstance(value, (bytes, bytearray, memoryview)):\n+            # Convert bytes-like objects to the built-in bytes type.\n             return bytes(value)\n         if isinstance(value, str):\n             return bytes(value.encode(self.charset))\ndiff --git a/repro_memoryview.py b/repro_memoryview.py\nnew file mode 100644\nindex 0000000000..4fe5706bcd\n--- /dev/null\n+++ b/repro_memoryview.py\n@@ -0,0 +1,29 @@\n+import sys\n+sys.path.insert(0, '/testbed')\n+from django.conf import settings\n+# Minimal settings required for HttpResponse\n+if not settings.configured:\n+    settings.configure(DEFAULT_CHARSET='utf-8')\n+\n+from django.http import HttpResponse\n+\n+print('Testing HttpResponse with memoryview...')\n+resp = HttpResponse(memoryview(b'My Content'))\n+print('repr:', repr(resp))\n+print('content:', resp.content)\n+print('content decoded:', resp.content.decode('utf-8', errors='replace'))\n+\n+# Control cases\n+print('String content:', HttpResponse('My Content').content)\n+print('Bytes content:', HttpResponse(b'My Content').content)\n+\n+print('Testing StreamingHttpResponse with memoryview chunks...')\n+from django.http import StreamingHttpResponse\n+sresp = StreamingHttpResponse([memoryview(b'hello'), bytearray(b' '), b'world'])\n+print('streaming getvalue:', sresp.getvalue())\n+print('stream joined:', b''.join(sresp))\n+\n+print('Testing write with memoryview...')\n+rw = HttpResponse(b'init')\n+rw.write(memoryview(b'+more'))\n+print('write content:', rw.content)\n"}