{"model_name_or_path": "output", "instance_id": "sphinx-doc__sphinx-8056", "model_patch": "diff --git a/repro.py b/repro.py\nnew file mode 100644\nindex 000000000..1be0dc158\n--- /dev/null\n+++ b/repro.py\n@@ -0,0 +1,16 @@\n+from sphinx.ext.napoleon import Config\n+from sphinx.ext.napoleon.docstring import NumpyDocstring\n+\n+doc = '''Function summary.\n+\n+Parameters\n+----------\n+x1, x2 : array_like\n+    Input arrays, description of `x1`, `x2`.\n+x3, x4 : array_like, optional\n+    Optional input arrays.\n+'''\n+\n+config = Config(napoleon_use_param=False)\n+nd = NumpyDocstring(doc, config=config, name='mod.func', obj=lambda: None)\n+print(str(nd))\ndiff --git a/sphinx/ext/napoleon/docstring.py b/sphinx/ext/napoleon/docstring.py\nindex b3daa06f1..f542d1574 100644\n--- a/sphinx/ext/napoleon/docstring.py\n+++ b/sphinx/ext/napoleon/docstring.py\n@@ -340,12 +340,23 @@ class GoogleDocstring:\n         if name.endswith('_') and getattr(self._config, 'strip_signature_backslash', False):\n             name = name[:-1] + r'\\_'\n \n-        if name[:2] == '**':\n-            return r'\\*\\*' + name[2:]\n-        elif name[:1] == '*':\n-            return r'\\*' + name[1:]\n+        # Escape varargs and kwargs markers\n+        def _escape_single(n: str) -> str:\n+            if n[:2] == '**':\n+                return r'\\*\\*' + n[2:]\n+            elif n[:1] == '*':\n+                return r'\\*' + n[1:]\n+            else:\n+                return n\n+\n+        # If multiple names are combined using commas, normalize whitespace\n+        # around commas and escape each name individually.\n+        # This also handles cases like \"x1,x2\", \"x1 ,x2\" or \"x1,  x2\".\n+        if ',' in name:\n+            parts = [p.strip() for p in re.split(r'\\s*,\\s*', name) if p.strip()]\n+            return ', '.join(_escape_single(p) for p in parts)\n         else:\n-            return name\n+            return _escape_single(name)\n \n     def _fix_field_desc(self, desc: List[str]) -> List[str]:\n         if self._is_list(desc):\n@@ -934,6 +945,10 @@ def _token_type(token: str, location: str = None) -> str:\n \n \n def _convert_numpy_type_spec(_type: str, location: str = None, translations: dict = {}) -> str:\n+    # Normalize delimiters to make tokenization robust against irregular spacing\n+    # e.g., convert \"array_like , optional\" -> \"array_like, optional\"\n+    _type = re.sub(r\"\\s*,\\s*\", \", \", _type)\n+\n     def convert_obj(obj, translations, default_translation):\n         translation = translations.get(obj, obj)\n \n@@ -1082,8 +1097,10 @@ class NumpyDocstring(GoogleDocstring):\n     def _escape_args_and_kwargs(self, name: str) -> str:\n         func = super()._escape_args_and_kwargs\n \n-        if \", \" in name:\n-            return \", \".join(func(param) for param in name.split(\", \"))\n+        # Support multiple parameter names separated by commas, regardless of spacing\n+        if ',' in name:\n+            parts = [p.strip() for p in re.split(r'\\s*,\\s*', name) if p.strip()]\n+            return ', '.join(func(param) for param in parts)\n         else:\n             return func(name)\n \n"}